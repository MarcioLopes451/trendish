(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Ud={exports:{}},vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function FS(){if(j_)return vl;j_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return vl.Fragment=e,vl.jsx=n,vl.jsxs=n,vl}var H_;function GS(){return H_||(H_=1,Ud.exports=FS()),Ud.exports}var G=GS(),Ld={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function KS(){if(q_)return we;q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function I(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,Q={};function j(D,te,oe){this.props=D,this.context=te,this.refs=Q,this.updater=oe||M}j.prototype.isReactComponent={},j.prototype.setState=function(D,te){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,te,"setState")},j.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Y(){}Y.prototype=j.prototype;function ne(D,te,oe){this.props=D,this.context=te,this.refs=Q,this.updater=oe||M}var ee=ne.prototype=new Y;ee.constructor=ne,P(ee,j.prototype),ee.isPureReactComponent=!0;var ue=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},Te=Object.prototype.hasOwnProperty;function x(D,te,oe,re,me,De){return oe=De.ref,{$$typeof:r,type:D,key:te,ref:oe!==void 0?oe:null,props:De}}function b(D,te){return x(D.type,te,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function N(D){var te={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return te[oe]})}var V=/\/+/g;function U(D,te){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):te.toString(36)}function C(){}function Mt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(te){D.status==="pending"&&(D.status="fulfilled",D.value=te)},function(te){D.status==="pending"&&(D.status="rejected",D.reason=te)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function st(D,te,oe,re,me){var De=typeof D;(De==="undefined"||De==="boolean")&&(D=null);var Se=!1;if(D===null)Se=!0;else switch(De){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(D.$$typeof){case r:case e:Se=!0;break;case E:return Se=D._init,st(Se(D._payload),te,oe,re,me)}}if(Se)return me=me(D),Se=re===""?"."+U(D,0):re,ue(me)?(oe="",Se!=null&&(oe=Se.replace(V,"$&/")+"/"),st(me,te,oe,"",function(qn){return qn})):me!=null&&(R(me)&&(me=b(me,oe+(me.key==null||D&&D.key===me.key?"":(""+me.key).replace(V,"$&/")+"/")+Se)),te.push(me)),1;Se=0;var It=re===""?".":re+":";if(ue(D))for(var Je=0;Je<D.length;Je++)re=D[Je],De=It+U(re,Je),Se+=st(re,te,oe,De,me);else if(Je=I(D),typeof Je=="function")for(D=Je.call(D),Je=0;!(re=D.next()).done;)re=re.value,De=It+U(re,Je++),Se+=st(re,te,oe,De,me);else if(De==="object"){if(typeof D.then=="function")return st(Mt(D),te,oe,re,me);throw te=String(D),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Se}function X(D,te,oe){if(D==null)return D;var re=[],me=0;return st(D,re,"","",function(De){return te.call(oe,De,me++)}),re}function ae(D){if(D._status===-1){var te=D._result;te=te(),te.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=te)}if(D._status===1)return D._result.default;throw D._result}var de=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function ze(){}return we.Children={map:X,forEach:function(D,te,oe){X(D,function(){te.apply(this,arguments)},oe)},count:function(D){var te=0;return X(D,function(){te++}),te},toArray:function(D){return X(D,function(te){return te})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},we.Component=j,we.Fragment=n,we.Profiler=o,we.PureComponent=ne,we.StrictMode=s,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,we.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ce.H.useMemoCache(D)}},we.cache=function(D){return function(){return D.apply(null,arguments)}},we.cloneElement=function(D,te,oe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var re=P({},D.props),me=D.key,De=void 0;if(te!=null)for(Se in te.ref!==void 0&&(De=void 0),te.key!==void 0&&(me=""+te.key),te)!Te.call(te,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&te.ref===void 0||(re[Se]=te[Se]);var Se=arguments.length-2;if(Se===1)re.children=oe;else if(1<Se){for(var It=Array(Se),Je=0;Je<Se;Je++)It[Je]=arguments[Je+2];re.children=It}return x(D.type,me,void 0,void 0,De,re)},we.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},we.createElement=function(D,te,oe){var re,me={},De=null;if(te!=null)for(re in te.key!==void 0&&(De=""+te.key),te)Te.call(te,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(me[re]=te[re]);var Se=arguments.length-2;if(Se===1)me.children=oe;else if(1<Se){for(var It=Array(Se),Je=0;Je<Se;Je++)It[Je]=arguments[Je+2];me.children=It}if(D&&D.defaultProps)for(re in Se=D.defaultProps,Se)me[re]===void 0&&(me[re]=Se[re]);return x(D,De,void 0,void 0,null,me)},we.createRef=function(){return{current:null}},we.forwardRef=function(D){return{$$typeof:m,render:D}},we.isValidElement=R,we.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:ae}},we.memo=function(D,te){return{$$typeof:y,type:D,compare:te===void 0?null:te}},we.startTransition=function(D){var te=ce.T,oe={};ce.T=oe;try{var re=D(),me=ce.S;me!==null&&me(oe,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ze,de)}catch(De){de(De)}finally{ce.T=te}},we.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},we.use=function(D){return ce.H.use(D)},we.useActionState=function(D,te,oe){return ce.H.useActionState(D,te,oe)},we.useCallback=function(D,te){return ce.H.useCallback(D,te)},we.useContext=function(D){return ce.H.useContext(D)},we.useDebugValue=function(){},we.useDeferredValue=function(D,te){return ce.H.useDeferredValue(D,te)},we.useEffect=function(D,te,oe){var re=ce.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(D,te)},we.useId=function(){return ce.H.useId()},we.useImperativeHandle=function(D,te,oe){return ce.H.useImperativeHandle(D,te,oe)},we.useInsertionEffect=function(D,te){return ce.H.useInsertionEffect(D,te)},we.useLayoutEffect=function(D,te){return ce.H.useLayoutEffect(D,te)},we.useMemo=function(D,te){return ce.H.useMemo(D,te)},we.useOptimistic=function(D,te){return ce.H.useOptimistic(D,te)},we.useReducer=function(D,te,oe){return ce.H.useReducer(D,te,oe)},we.useRef=function(D){return ce.H.useRef(D)},we.useState=function(D){return ce.H.useState(D)},we.useSyncExternalStore=function(D,te,oe){return ce.H.useSyncExternalStore(D,te,oe)},we.useTransition=function(){return ce.H.useTransition()},we.version="19.1.0",we}var F_;function Nm(){return F_||(F_=1,Ld.exports=KS()),Ld.exports}var K=Nm(),Bd={exports:{}},El={},zd={exports:{}},jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function QS(){return G_||(G_=1,function(r){function e(X,ae){var de=X.length;X.push(ae);e:for(;0<de;){var ze=de-1>>>1,D=X[ze];if(0<o(D,ae))X[ze]=ae,X[de]=D,de=ze;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ae=X[0],de=X.pop();if(de!==ae){X[0]=de;e:for(var ze=0,D=X.length,te=D>>>1;ze<te;){var oe=2*(ze+1)-1,re=X[oe],me=oe+1,De=X[me];if(0>o(re,de))me<D&&0>o(De,re)?(X[ze]=De,X[me]=de,ze=me):(X[ze]=re,X[oe]=de,ze=oe);else if(me<D&&0>o(De,de))X[ze]=De,X[me]=de,ze=me;else break e}}return ae}function o(X,ae){var de=X.sortIndex-ae.sortIndex;return de!==0?de:X.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,S=null,I=3,M=!1,P=!1,Q=!1,j=!1,Y=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function ue(X){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=X)s(y),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(y)}}function ce(X){if(Q=!1,ue(X),!P)if(n(p)!==null)P=!0,Te||(Te=!0,U());else{var ae=n(y);ae!==null&&st(ce,ae.startTime-X)}}var Te=!1,x=-1,b=5,R=-1;function N(){return j?!0:!(r.unstable_now()-R<b)}function V(){if(j=!1,Te){var X=r.unstable_now();R=X;var ae=!0;try{e:{P=!1,Q&&(Q=!1,ne(x),x=-1),M=!0;var de=I;try{t:{for(ue(X),S=n(p);S!==null&&!(S.expirationTime>X&&N());){var ze=S.callback;if(typeof ze=="function"){S.callback=null,I=S.priorityLevel;var D=ze(S.expirationTime<=X);if(X=r.unstable_now(),typeof D=="function"){S.callback=D,ue(X),ae=!0;break t}S===n(p)&&s(p),ue(X)}else s(p);S=n(p)}if(S!==null)ae=!0;else{var te=n(y);te!==null&&st(ce,te.startTime-X),ae=!1}}break e}finally{S=null,I=de,M=!1}ae=void 0}}finally{ae?U():Te=!1}}}var U;if(typeof ee=="function")U=function(){ee(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Mt=C.port2;C.port1.onmessage=V,U=function(){Mt.postMessage(null)}}else U=function(){Y(V,0)};function st(X,ae){x=Y(function(){X(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(X){switch(I){case 1:case 2:case 3:var ae=3;break;default:ae=I}var de=I;I=ae;try{return X()}finally{I=de}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var de=I;I=X;try{return ae()}finally{I=de}},r.unstable_scheduleCallback=function(X,ae,de){var ze=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ze+de:ze):de=ze,X){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=de+D,X={id:E++,callback:ae,priorityLevel:X,startTime:de,expirationTime:D,sortIndex:-1},de>ze?(X.sortIndex=de,e(y,X),n(p)===null&&X===n(y)&&(Q?(ne(x),x=-1):Q=!0,st(ce,de-ze))):(X.sortIndex=D,e(p,X),P||M||(P=!0,Te||(Te=!0,U()))),X},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(X){var ae=I;return function(){var de=I;I=ae;try{return X.apply(this,arguments)}finally{I=de}}}}(jd)),jd}var K_;function YS(){return K_||(K_=1,zd.exports=QS()),zd.exports}var Hd={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function XS(){if(Q_)return Gt;Q_=1;var r=Nm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Gt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Gt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Gt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Gt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Gt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:I,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:I,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Gt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Gt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Gt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Gt.requestFormReset=function(p){s.d.r(p)},Gt.unstable_batchedUpdates=function(p,y){return p(y)},Gt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Gt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Gt.version="19.1.0",Gt}var Y_;function WS(){if(Y_)return Hd.exports;Y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hd.exports=XS(),Hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function ZS(){if(X_)return El;X_=1;var r=YS(),e=Nm(),n=WS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,A=h.child;A;){if(A===a){v=!0,a=h,l=d;break}if(A===l){v=!0,l=h,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,l=h;break}if(A===l){v=!0,l=d,a=h;break}A=A.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Mt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case j:return"Profiler";case Q:return"StrictMode";case ce:return"Suspense";case Te:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case ee:return(t.displayName||"Context")+".Provider";case ne:return(t._context.displayName||"Context")+".Consumer";case ue:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:Mt(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return Mt(t(i))}catch{}}return null}var st=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ze=[],D=-1;function te(t){return{current:t}}function oe(t){0>D||(t.current=ze[D],ze[D]=null,D--)}function re(t,i){D++,ze[D]=t.current,t.current=i}var me=te(null),De=te(null),Se=te(null),It=te(null);function Je(t,i){switch(re(Se,i),re(De,t),re(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?p_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=p_(i),t=g_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(me),re(me,t)}function qn(){oe(me),oe(De),oe(Se)}function tr(t){t.memoizedState!==null&&re(It,t);var i=me.current,a=g_(i,t.type);i!==a&&(re(De,t),re(me,a))}function yi(t){De.current===t&&(oe(me),oe(De)),It.current===t&&(oe(It),ml._currentValue=de)}var Wr=Object.prototype.hasOwnProperty,Zr=r.unstable_scheduleCallback,Jr=r.unstable_cancelCallback,co=r.unstable_shouldYield,su=r.unstable_requestPaint,gn=r.unstable_now,Ph=r.unstable_getCurrentPriorityLevel,ho=r.unstable_ImmediatePriority,Ys=r.unstable_UserBlockingPriority,$r=r.unstable_NormalPriority,Uh=r.unstable_LowPriority,Xs=r.unstable_IdlePriority,fo=r.log,au=r.unstable_setDisableYieldValue,at=null,Fe=null;function on(t){if(typeof fo=="function"&&au(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(at,t)}catch{}}var qt=Math.clz32?Math.clz32:es,ou=Math.log,Lh=Math.LN2;function es(t){return t>>>=0,t===0?32:31-(ou(t)/Lh|0)|0}var ts=256,ns=4194304;function xn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ws(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?h=xn(l):(v&=A,v!==0?h=xn(v):a||(a=A&~t,a!==0&&(h=xn(a))))):(A=l&~d,A!==0?h=xn(A):v!==0?h=xn(v):a||(a=l&~t,a!==0&&(h=xn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function is(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function mo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function po(){var t=ts;return ts<<=1,(ts&4194048)===0&&(ts=256),t}function go(){var t=ns;return ns<<=1,(ns&62914560)===0&&(ns=4194304),t}function _i(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function vi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function yo(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,w=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var W=31-qt(a),J=1<<W;A[W]=0,w[W]=-1;var H=z[W];if(H!==null)for(z[W]=null,W=0;W<H.length;W++){var q=H[W];q!==null&&(q.lane&=-536870913)}a&=~J}l!==0&&Fn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Fn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-qt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function _o(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-qt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function nr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ir(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:k_(t.type))}function lu(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var et=Math.random().toString(36).slice(2),vt="__reactFiber$"+et,mt="__reactProps$"+et,yn="__reactContainer$"+et,vo="__reactEvents$"+et,Bh="__reactListeners$"+et,rr="__reactHandles$"+et,uu="__reactResources$"+et,rs="__reactMarker$"+et;function sr(t){delete t[vt],delete t[mt],delete t[vo],delete t[Bh],delete t[rr]}function Ei(t){var i=t[vt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[yn]||a[vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=E_(t);t!==null;){if(a=t[vt])return a;t=E_(t)}return i}t=a,a=t.parentNode}return null}function Gn(t){if(t=t[vt]||t[yn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Kn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Wt(t){var i=t[uu];return i||(i=t[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ct(t){t[rs]=!0}var Eo=new Set,Js={};function Vn(t,i){Ai(t,i),Ai(t+"Capture",i)}function Ai(t,i){for(Js[t]=i,t=0;t<i.length;t++)Eo.add(i[t])}var cu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hu={},ss={};function fu(t){return Wr.call(ss,t)?!0:Wr.call(hu,t)?!1:cu.test(t)?ss[t]=!0:(hu[t]=!0,!1)}function ar(t,i,a){if(fu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Qn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function kt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var as,du;function Ti(t){if(as===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);as=i&&i[1]||"",du=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+as+t+du}var $s=!1;function ea(t,i){if(!t||$s)return"";$s=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(q){var H=q}Reflect.construct(t,[],J)}else{try{J.call()}catch(q){H=q}t.call(J.prototype)}}else{try{throw Error()}catch(q){H=q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(q){if(q&&H&&typeof q.stack=="string")return[q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var w=v.split(`
`),z=A.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===z.length)for(l=w.length-1,h=z.length-1;1<=l&&0<=h&&w[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==z[h]){var W=`
`+w[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{$s=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ti(a):""}function Ao(t){switch(t.tag){case 26:case 27:case 5:return Ti(t.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return ea(t.type,!1);case 11:return ea(t.type.render,!1);case 1:return ea(t.type,!0);case 31:return Ti("Activity");default:return""}}function ta(t){try{var i="";do i+=Ao(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function To(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zh(t){var i=To(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function na(t){t._valueTracker||(t._valueTracker=zh(t))}function So(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=To(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jh=/[\n"\\]/g;function pt(t){return t.replace(jh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ln(t,i,a,l,h,d,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Zt(i)):t.value!==""+Zt(i)&&(t.value=""+Zt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?or(t,v,Zt(i)):a!=null?or(t,v,Zt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Zt(A):t.removeAttribute("name")}function ls(t,i,a,l,h,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Zt(a):"",i=i!=null?""+Zt(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function or(t,i,a){i==="number"&&os(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Si(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Qe(t,i,a){if(i!=null&&(i=""+Zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Zt(a):""}function us(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(st(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function _n(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var cs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||cs.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function bo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&mu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&mu(t,d,i[d])}function Ro(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(t){return qh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var bi=null;function vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ri=null,wi=null;function wo(t){var i=Gn(t);if(i&&(t=i.stateNode)){var a=t[mt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ln(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[mt]||null;if(!h)throw Error(s(90));ln(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&So(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Si(t,!!a.multiple,i,!1)}}}var Yn=!1;function pu(t,i,a){if(Yn)return t(i,a);Yn=!0;try{var l=t(i);return l}finally{if(Yn=!1,(Ri!==null||wi!==null)&&(lc(),Ri&&(i=Ri,t=wi,wi=Ri=null,wo(i),t)))for(i=0;i<t.length;i++)wo(t[i])}}function hs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[mt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Mn)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){En=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{En=!1}var Xn=null,lr=null,Ii=null;function Io(){if(Ii)return Ii;var t,i=lr,a=i.length,l,h="value"in Xn?Xn.value:Xn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ii=h.slice(t,1<l?1-l:void 0)}function Wn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Zn(){return!0}function Co(){return!1}function Ct(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zn:Co,this.isPropagationStopped=Co,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ra=Ct(He),ds=E({},He,{view:0,detail:0}),gu=Ct(ds),sa,aa,Jn,ms=E({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jn&&(Jn&&t.type==="mousemove"?(sa=t.screenX-Jn.screenX,aa=t.screenY-Jn.screenY):aa=sa=0,Jn=t),sa)},movementY:function(t){return"movementY"in t?t.movementY:aa}}),An=Ct(ms),yu=E({},ms,{dataTransfer:0}),Fh=Ct(yu),ps=E({},ds,{relatedTarget:0}),oa=Ct(ps),Do=E({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),la=Ct(Do),_u=E({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ua=Ct(_u),Gh=E({},He,{data:0}),No=Ct(Gh),gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Eu[t])?!!i[t]:!1}function ys(){return Oo}var Au=E({},ds,{key:function(t){if(t.key){var i=gs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Wn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(t){return t.type==="keypress"?Wn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ca=Ct(Au),Tu=E({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xo=Ct(Tu),Ci=E({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),Su=Ct(Ci),bu=E({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ru=Ct(bu),wu=E({},ms,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ha=Ct(wu),Jt=E({},He,{newState:0,oldState:0}),Iu=Ct(Jt),Cu=[9,13,27,32],$n=Mn&&"CompositionEvent"in window,c=null;Mn&&"documentMode"in document&&(c=document.documentMode);var g=Mn&&"TextEvent"in window&&!c,_=Mn&&(!$n||c&&8<c&&11>=c),T=" ",L=!1;function F(t,i){switch(t){case"keyup":return Cu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ke=!1;function Et(t,i){switch(t){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(L=!0,T);case"textInput":return t=i.data,t===T&&L?null:t;default:return null}}function Pe(t,i){if(ke)return t==="compositionend"||!$n&&F(t,i)?(t=Io(),Ii=lr=Xn=null,ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Dt[t.type]:i==="textarea"}function Di(t,i,a,l){Ri?wi?wi.push(l):wi=[l]:Ri=l,i=mc(i,"onChange"),0<i.length&&(a=new ra("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Pt=null,ei=null;function Vo(t){c_(t,0)}function Du(t){var i=Kn(t);if(So(i))return t}function Op(t,i){if(t==="change")return i}var xp=!1;if(Mn){var Kh;if(Mn){var Qh="oninput"in document;if(!Qh){var Vp=document.createElement("div");Vp.setAttribute("oninput","return;"),Qh=typeof Vp.oninput=="function"}Kh=Qh}else Kh=!1;xp=Kh&&(!document.documentMode||9<document.documentMode)}function Mp(){Pt&&(Pt.detachEvent("onpropertychange",kp),ei=Pt=null)}function kp(t){if(t.propertyName==="value"&&Du(ei)){var i=[];Di(i,ei,t,vn(t)),pu(Vo,i)}}function E0(t,i,a){t==="focusin"?(Mp(),Pt=i,ei=a,Pt.attachEvent("onpropertychange",kp)):t==="focusout"&&Mp()}function A0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Du(ei)}function T0(t,i){if(t==="click")return Du(i)}function S0(t,i){if(t==="input"||t==="change")return Du(i)}function b0(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var un=typeof Object.is=="function"?Object.is:b0;function Mo(t,i){if(un(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Wr.call(i,h)||!un(t[h],i[h]))return!1}return!0}function Pp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Up(t,i){var a=Pp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pp(a)}}function Lp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Lp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Bp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=os(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=os(t.document)}return i}function Yh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var R0=Mn&&"documentMode"in document&&11>=document.documentMode,fa=null,Xh=null,ko=null,Wh=!1;function zp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wh||fa==null||fa!==os(l)||(l=fa,"selectionStart"in l&&Yh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ko&&Mo(ko,l)||(ko=l,l=mc(Xh,"onSelect"),0<l.length&&(i=new ra("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=fa)))}function _s(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var da={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},Zh={},jp={};Mn&&(jp=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function vs(t){if(Zh[t])return Zh[t];if(!da[t])return t;var i=da[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in jp)return Zh[t]=i[a];return t}var Hp=vs("animationend"),qp=vs("animationiteration"),Fp=vs("animationstart"),w0=vs("transitionrun"),I0=vs("transitionstart"),C0=vs("transitioncancel"),Gp=vs("transitionend"),Kp=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function kn(t,i){Kp.set(t,i),Vn(i,[t])}var Qp=new WeakMap;function Tn(t,i){if(typeof t=="object"&&t!==null){var a=Qp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ta(i)},Qp.set(t,i),i)}return{value:t,source:i,stack:ta(i)}}var Sn=[],ma=0,$h=0;function Nu(){for(var t=ma,i=$h=ma=0;i<t;){var a=Sn[i];Sn[i++]=null;var l=Sn[i];Sn[i++]=null;var h=Sn[i];Sn[i++]=null;var d=Sn[i];if(Sn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Yp(a,h,d)}}function Ou(t,i,a,l){Sn[ma++]=t,Sn[ma++]=i,Sn[ma++]=a,Sn[ma++]=l,$h|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ef(t,i,a,l){return Ou(t,i,a,l),xu(t)}function pa(t,i){return Ou(t,null,null,i),xu(t)}function Yp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-qt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function xu(t){if(50<al)throw al=0,od=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ga={};function D0(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,i,a,l){return new D0(t,i,a,l)}function tf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ni(t,i){var a=t.alternate;return a===null?(a=cn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Xp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Vu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")tf(t)&&(v=1);else if(typeof t=="string")v=OS(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=cn(31,a,i,h),t.elementType=R,t.lanes=d,t;case P:return Es(a.children,h,d,i);case Q:v=8,h|=24;break;case j:return t=cn(12,a,i,h|2),t.elementType=j,t.lanes=d,t;case ce:return t=cn(13,a,i,h),t.elementType=ce,t.lanes=d,t;case Te:return t=cn(19,a,i,h),t.elementType=Te,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:case ee:v=10;break e;case ne:v=9;break e;case ue:v=11;break e;case x:v=14;break e;case b:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=cn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Es(t,i,a,l){return t=cn(7,t,l,i),t.lanes=a,t}function nf(t,i,a){return t=cn(6,t,null,i),t.lanes=a,t}function rf(t,i,a){return i=cn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ya=[],_a=0,Mu=null,ku=0,bn=[],Rn=0,As=null,Oi=1,xi="";function Ts(t,i){ya[_a++]=ku,ya[_a++]=Mu,Mu=t,ku=i}function Wp(t,i,a){bn[Rn++]=Oi,bn[Rn++]=xi,bn[Rn++]=As,As=t;var l=Oi;t=xi;var h=32-qt(l)-1;l&=~(1<<h),a+=1;var d=32-qt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Oi=1<<32-qt(i)+h|a<<h|l,xi=d+t}else Oi=1<<d|a<<h|l,xi=t}function sf(t){t.return!==null&&(Ts(t,1),Wp(t,1,0))}function af(t){for(;t===Mu;)Mu=ya[--_a],ya[_a]=null,ku=ya[--_a],ya[_a]=null;for(;t===As;)As=bn[--Rn],bn[Rn]=null,xi=bn[--Rn],bn[Rn]=null,Oi=bn[--Rn],bn[Rn]=null}var $t=null,ot=null,je=!1,Ss=null,ti=!1,of=Error(s(519));function bs(t){var i=Error(s(418,""));throw Lo(Tn(i,t)),of}function Zp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[vt]=t,i[mt]=l,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<ll.length;a++)xe(ll[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),ls(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),na(i);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),us(i,l.value,l.defaultValue,l.children),na(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||m_(i.textContent,a)?(l.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),l.onScroll!=null&&xe("scroll",i),l.onScrollEnd!=null&&xe("scrollend",i),l.onClick!=null&&(i.onclick=pc),i=!0):i=!1,i||bs(t)}function Jp(t){for($t=t.return;$t;)switch($t.tag){case 5:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:$t=$t.return}}function Po(t){if(t!==$t)return!1;if(!je)return Jp(t),je=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Sd(t.type,t.memoizedProps)),a=!a),a&&ot&&bs(t),Jp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ot=Un(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ot=null}}else i===27?(i=ot,br(t.type)?(t=Id,Id=null,ot=t):ot=i):ot=$t?Un(t.stateNode.nextSibling):null;return!0}function Uo(){ot=$t=null,je=!1}function $p(){var t=Ss;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),Ss=null),t}function Lo(t){Ss===null?Ss=[t]:Ss.push(t)}var lf=te(null),Rs=null,Vi=null;function ur(t,i,a){re(lf,i._currentValue),i._currentValue=a}function Mi(t){t._currentValue=lf.current,oe(lf)}function uf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function cf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var w=0;w<i.length;w++)if(A.context===i[w]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),uf(d.return,a,t),l||(v=null);break e}d=A.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),uf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Bo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var A=h.type;un(h.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(h===It.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ml):t=[ml])}h=h.return}t!==null&&cf(i,t,a,l),i.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ws(t){Rs=t,Vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return eg(Rs,t)}function Uu(t,i){return Rs===null&&ws(t),eg(t,i)}function eg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Vi===null){if(t===null)throw Error(s(308));Vi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Vi=Vi.next=i;return a}var N0=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},O0=r.unstable_scheduleCallback,x0=r.unstable_NormalPriority,Tt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new N0,data:new Map,refCount:0}}function zo(t){t.refCount--,t.refCount===0&&O0(x0,function(){t.controller.abort()})}var jo=null,ff=0,va=0,Ea=null;function V0(t,i){if(jo===null){var a=jo=[];ff=0,va=md(),Ea={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ff++,i.then(tg,tg),i}function tg(){if(--ff===0&&jo!==null){Ea!==null&&(Ea.status="fulfilled");var t=jo;jo=null,va=0,Ea=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function M0(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ng=X.S;X.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&V0(t,i),ng!==null&&ng(t,i)};var Is=te(null);function df(){var t=Is.current;return t!==null?t:$e.pooledCache}function Lu(t,i){i===null?re(Is,Is.current):re(Is,i.pool)}function ig(){var t=df();return t===null?null:{parent:Tt._currentValue,pool:t}}var Ho=Error(s(460)),rg=Error(s(474)),Bu=Error(s(542)),mf={then:function(){}};function sg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zu(){}function ag(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(zu,zu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,lg(t),t;default:if(typeof i.status=="string")i.then(zu,zu);else{if(t=$e,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,lg(t),t}throw qo=i,Ho}}var qo=null;function og(){if(qo===null)throw Error(s(459));var t=qo;return qo=null,t}function lg(t){if(t===Ho||t===Bu)throw Error(s(483))}var cr=!1;function pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function hr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function fr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=xu(t),Yp(t,null,a),i}return Ou(t,l,i,a),xu(t)}function Fo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,_o(t,a)}}function yf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var _f=!1;function Go(){if(_f){var t=Ea;if(t!==null)throw t}}function Ko(t,i,a,l){_f=!1;var h=t.updateQueue;cr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var w=A,z=w.next;w.next=null,v===null?d=z:v.next=z,v=w;var W=t.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==v&&(A===null?W.firstBaseUpdate=z:A.next=z,W.lastBaseUpdate=w))}if(d!==null){var J=h.baseState;v=0,W=z=w=null,A=d;do{var H=A.lane&-536870913,q=H!==A.lane;if(q?(Ue&H)===H:(l&H)===H){H!==0&&H===va&&(_f=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ee=t,pe=A;H=i;var We=a;switch(pe.tag){case 1:if(Ee=pe.payload,typeof Ee=="function"){J=Ee.call(We,J,H);break e}J=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=pe.payload,H=typeof Ee=="function"?Ee.call(We,J,H):Ee,H==null)break e;J=E({},J,H);break e;case 2:cr=!0}}H=A.callback,H!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[H]:q.push(H))}else q={lane:H,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(z=W=q,w=J):W=W.next=q,v|=H;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;q=A,A=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);W===null&&(w=J),h.baseState=w,h.firstBaseUpdate=z,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Er|=v,t.lanes=v,t.memoizedState=J}}function ug(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function cg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ug(a[t],i)}var Aa=te(null),ju=te(0);function hg(t,i){t=ji,re(ju,t),re(Aa,i),ji=t|i.baseLanes}function vf(){re(ju,ji),re(Aa,Aa.current)}function Ef(){ji=ju.current,oe(Aa),oe(ju)}var dr=0,Ie=null,Ye=null,gt=null,Hu=!1,Ta=!1,Cs=!1,qu=0,Qo=0,Sa=null,k0=0;function ht(){throw Error(s(321))}function Af(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!un(t[a],i[a]))return!1;return!0}function Tf(t,i,a,l,h,d){return dr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?Yg:Xg,Cs=!1,d=a(l,h),Cs=!1,Ta&&(d=dg(i,a,l,h)),fg(t),d}function fg(t){X.H=Xu;var i=Ye!==null&&Ye.next!==null;if(dr=0,gt=Ye=Ie=null,Hu=!1,Qo=0,Sa=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&Pu(t)&&(Nt=!0))}function dg(t,i,a,l){Ie=t;var h=0;do{if(Ta&&(Sa=null),Qo=0,Ta=!1,25<=h)throw Error(s(301));if(h+=1,gt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=H0,d=i(a,l)}while(Ta);return d}function P0(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?Yo(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Sf(){var t=qu!==0;return qu=0,t}function bf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Rf(t){if(Hu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Hu=!1}dr=0,gt=Ye=Ie=null,Ta=!1,Qo=qu=0,Sa=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ie.memoizedState=gt=t:gt=gt.next=t,gt}function yt(){if(Ye===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=gt===null?Ie.memoizedState:gt.next;if(i!==null)gt=i,Ye=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},gt===null?Ie.memoizedState=gt=t:gt=gt.next=t}return gt}function wf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(t){var i=Qo;return Qo+=1,Sa===null&&(Sa=[]),t=ag(Sa,t,i),i=Ie,(gt===null?i.memoizedState:gt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?Yg:Xg),t}function Fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Yo(t);if(t.$$typeof===ee)return Ft(t)}throw Error(s(438,String(t)))}function If(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=wf(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=N;return i.index++,a}function ki(t,i){return typeof i=="function"?i(t):i}function Gu(t){var i=yt();return Cf(i,Ye,t)}function Cf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=v=null,w=null,z=i,W=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Ue&J)===J:(dr&J)===J){var H=z.revertLane;if(H===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===va&&(W=!0);else if((dr&H)===H){z=z.next,H===va&&(W=!0);continue}else J={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(A=w=J,v=d):w=w.next=J,Ie.lanes|=H,Er|=H;J=z.action,Cs&&a(d,J),d=z.hasEagerState?z.eagerState:a(d,J)}else H={lane:J,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(A=w=H,v=d):w=w.next=H,Ie.lanes|=J,Er|=J;z=z.next}while(z!==null&&z!==i);if(w===null?v=d:w.next=A,!un(d,t.memoizedState)&&(Nt=!0,W&&(a=Ea,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=w,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Df(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);un(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function mg(t,i,a){var l=Ie,h=yt(),d=je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!un((Ye||h).memoizedState,a);v&&(h.memoizedState=a,Nt=!0),h=h.queue;var A=yg.bind(null,l,h,t);if(Xo(2048,8,A,[t]),h.getSnapshot!==i||v||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,ba(9,Ku(),gg.bind(null,l,h,a,i),null),$e===null)throw Error(s(349));d||(dr&124)!==0||pg(l,i,a)}return a}function pg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=wf(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function gg(t,i,a,l){i.value=a,i.getSnapshot=l,_g(i)&&vg(t)}function yg(t,i,a){return a(function(){_g(i)&&vg(t)})}function _g(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!un(t,a)}catch{return!0}}function vg(t){var i=pa(t,2);i!==null&&pn(i,t,2)}function Nf(t){var i=en();if(typeof t=="function"){var a=t;if(t=a(),Cs){on(!0);try{a()}finally{on(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:t},i}function Eg(t,i,a,l){return t.baseState=a,Cf(t,Ye,typeof l=="function"?l:ki)}function U0(t,i,a,l,h){if(Yu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ag(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ag(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=X.T,v={};X.T=v;try{var A=a(h,l),w=X.S;w!==null&&w(v,A),Tg(t,i,A)}catch(z){Of(t,i,z)}finally{X.T=d}}else try{d=a(h,l),Tg(t,i,d)}catch(z){Of(t,i,z)}}function Tg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Sg(t,i,l)},function(l){return Of(t,i,l)}):Sg(t,i,a)}function Sg(t,i,a){i.status="fulfilled",i.value=a,bg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Ag(t,a)))}function Of(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,bg(i),i=i.next;while(i!==l)}t.action=null}function bg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Rg(t,i){return i}function wg(t,i){if(je){var a=$e.formState;if(a!==null){e:{var l=Ie;if(je){if(ot){t:{for(var h=ot,d=ti;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ot=Un(h.nextSibling),l=h.data==="F!";break e}}bs(l)}l=!1}l&&(i=a[0])}}return a=en(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rg,lastRenderedState:i},a.queue=l,a=Gg.bind(null,Ie,l),l.dispatch=a,l=Nf(!1),d=Pf.bind(null,Ie,!1,l.queue),l=en(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=U0.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Ig(t){var i=yt();return Cg(i,Ye,t)}function Cg(t,i,a){if(i=Cf(t,i,Rg)[0],t=Gu(ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Yo(i)}catch(v){throw v===Ho?Bu:v}else l=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,ba(9,Ku(),L0.bind(null,h,a),null)),[l,d,t]}function L0(t,i){t.action=i}function Dg(t){var i=yt(),a=Ye;if(a!==null)return Cg(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ba(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=wf(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ku(){return{destroy:void 0,resource:void 0}}function Ng(){return yt().memoizedState}function Qu(t,i,a,l){var h=en();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=ba(1|i,Ku(),a,l)}function Xo(t,i,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&Af(l,Ye.memoizedState.deps)?h.memoizedState=ba(i,d,a,l):(Ie.flags|=t,h.memoizedState=ba(1|i,d,a,l))}function Og(t,i){Qu(8390656,8,t,i)}function xg(t,i){Xo(2048,8,t,i)}function Vg(t,i){return Xo(4,2,t,i)}function Mg(t,i){return Xo(4,4,t,i)}function kg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Pg(t,i,a){a=a!=null?a.concat([t]):null,Xo(4,4,kg.bind(null,i,t),a)}function xf(){}function Ug(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Af(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Lg(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Af(i,l[1]))return l[0];if(l=t(),Cs){on(!0);try{t()}finally{on(!1)}}return a.memoizedState=[l,i],l}function Vf(t,i,a){return a===void 0||(dr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=jy(),Ie.lanes|=t,Er|=t,a)}function Bg(t,i,a,l){return un(a,i)?a:Aa.current!==null?(t=Vf(t,a,l),un(t,i)||(Nt=!0),t):(dr&42)===0?(Nt=!0,t.memoizedState=a):(t=jy(),Ie.lanes|=t,Er|=t,i)}function zg(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=X.T,A={};X.T=A,Pf(t,!1,i,a);try{var w=h(),z=X.S;if(z!==null&&z(A,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var W=M0(w,l);Wo(t,i,W,mn(t))}else Wo(t,i,l,mn(t))}catch(J){Wo(t,i,{then:function(){},status:"rejected",reason:J},mn())}finally{ae.p=d,X.T=v}}function B0(){}function Mf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=jg(t).queue;zg(t,h,i,de,a===null?B0:function(){return Hg(t),a(l)})}function jg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Hg(t){var i=jg(t).next.queue;Wo(t,i,{},mn())}function kf(){return Ft(ml)}function qg(){return yt().memoizedState}function Fg(){return yt().memoizedState}function z0(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=mn();t=hr(a);var l=fr(i,t,a);l!==null&&(pn(l,i,a),Fo(l,i,a)),i={cache:hf()},t.payload=i;return}i=i.return}}function j0(t,i,a){var l=mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(t)?Kg(i,a):(a=ef(t,i,a,l),a!==null&&(pn(a,t,l),Qg(a,i,l)))}function Gg(t,i,a){var l=mn();Wo(t,i,a,l)}function Wo(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(t))Kg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,A=d(v,a);if(h.hasEagerState=!0,h.eagerState=A,un(A,v))return Ou(t,i,h,0),$e===null&&Nu(),!1}catch{}finally{}if(a=ef(t,i,h,l),a!==null)return pn(a,t,l),Qg(a,i,l),!0}return!1}function Pf(t,i,a,l){if(l={lane:2,revertLane:md(),action:l,hasEagerState:!1,eagerState:null,next:null},Yu(t)){if(i)throw Error(s(479))}else i=ef(t,a,l,2),i!==null&&pn(i,t,2)}function Yu(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Kg(t,i){Ta=Hu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Qg(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,_o(t,a)}}var Xu={readContext:Ft,use:Fu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},Yg={readContext:Ft,use:Fu,useCallback:function(t,i){return en().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:Og,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Qu(4194308,4,kg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Qu(4194308,4,t,i)},useInsertionEffect:function(t,i){Qu(4,2,t,i)},useMemo:function(t,i){var a=en();i=i===void 0?null:i;var l=t();if(Cs){on(!0);try{t()}finally{on(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=en();if(a!==void 0){var h=a(i);if(Cs){on(!0);try{a(i)}finally{on(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=j0.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=en();return t={current:t},i.memoizedState=t},useState:function(t){t=Nf(t);var i=t.queue,a=Gg.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(t,i){var a=en();return Vf(a,t,i)},useTransition:function(){var t=Nf(!1);return t=zg.bind(null,Ie,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=en();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),$e===null)throw Error(s(349));(Ue&124)!==0||pg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Og(yg.bind(null,l,d,t),[t]),l.flags|=2048,ba(9,Ku(),gg.bind(null,l,d,a,i),null),a},useId:function(){var t=en(),i=$e.identifierPrefix;if(je){var a=xi,l=Oi;a=(l&~(1<<32-qt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=qu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=k0++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:kf,useFormState:wg,useActionState:wg,useOptimistic:function(t){var i=en();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Pf.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:If,useCacheRefresh:function(){return en().memoizedState=z0.bind(null,Ie)}},Xg={readContext:Ft,use:Fu,useCallback:Ug,useContext:Ft,useEffect:xg,useImperativeHandle:Pg,useInsertionEffect:Vg,useLayoutEffect:Mg,useMemo:Lg,useReducer:Gu,useRef:Ng,useState:function(){return Gu(ki)},useDebugValue:xf,useDeferredValue:function(t,i){var a=yt();return Bg(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Gu(ki)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Yo(t),i]},useSyncExternalStore:mg,useId:qg,useHostTransitionStatus:kf,useFormState:Ig,useActionState:Ig,useOptimistic:function(t,i){var a=yt();return Eg(a,Ye,t,i)},useMemoCache:If,useCacheRefresh:Fg},H0={readContext:Ft,use:Fu,useCallback:Ug,useContext:Ft,useEffect:xg,useImperativeHandle:Pg,useInsertionEffect:Vg,useLayoutEffect:Mg,useMemo:Lg,useReducer:Df,useRef:Ng,useState:function(){return Df(ki)},useDebugValue:xf,useDeferredValue:function(t,i){var a=yt();return Ye===null?Vf(a,t,i):Bg(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Df(ki)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Yo(t),i]},useSyncExternalStore:mg,useId:qg,useHostTransitionStatus:kf,useFormState:Dg,useActionState:Dg,useOptimistic:function(t,i){var a=yt();return Ye!==null?Eg(a,Ye,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:If,useCacheRefresh:Fg},Ra=null,Zo=0;function Wu(t){var i=Zo;return Zo+=1,Ra===null&&(Ra=[]),ag(Ra,t,i)}function Jo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Zu(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Wg(t){var i=t._init;return i(t._payload)}function Zg(t){function i(k,O){if(t){var B=k.deletions;B===null?(k.deletions=[O],k.flags|=16):B.push(O)}}function a(k,O){if(!t)return null;for(;O!==null;)i(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Ni(k,O),k.index=0,k.sibling=null,k}function d(k,O,B){return k.index=B,t?(B=k.alternate,B!==null?(B=B.index,B<O?(k.flags|=67108866,O):B):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function v(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function A(k,O,B,Z){return O===null||O.tag!==6?(O=nf(B,k.mode,Z),O.return=k,O):(O=h(O,B),O.return=k,O)}function w(k,O,B,Z){var he=B.type;return he===P?W(k,O,B.props.children,Z,B.key):O!==null&&(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===b&&Wg(he)===O.type)?(O=h(O,B.props),Jo(O,B),O.return=k,O):(O=Vu(B.type,B.key,B.props,null,k.mode,Z),Jo(O,B),O.return=k,O)}function z(k,O,B,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=rf(B,k.mode,Z),O.return=k,O):(O=h(O,B.children||[]),O.return=k,O)}function W(k,O,B,Z,he){return O===null||O.tag!==7?(O=Es(B,k.mode,Z,he),O.return=k,O):(O=h(O,B),O.return=k,O)}function J(k,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=nf(""+O,k.mode,B),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case I:return B=Vu(O.type,O.key,O.props,null,k.mode,B),Jo(B,O),B.return=k,B;case M:return O=rf(O,k.mode,B),O.return=k,O;case b:var Z=O._init;return O=Z(O._payload),J(k,O,B)}if(st(O)||U(O))return O=Es(O,k.mode,B,null),O.return=k,O;if(typeof O.then=="function")return J(k,Wu(O),B);if(O.$$typeof===ee)return J(k,Uu(k,O),B);Zu(k,O)}return null}function H(k,O,B,Z){var he=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return he!==null?null:A(k,O,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case I:return B.key===he?w(k,O,B,Z):null;case M:return B.key===he?z(k,O,B,Z):null;case b:return he=B._init,B=he(B._payload),H(k,O,B,Z)}if(st(B)||U(B))return he!==null?null:W(k,O,B,Z,null);if(typeof B.then=="function")return H(k,O,Wu(B),Z);if(B.$$typeof===ee)return H(k,O,Uu(k,B),Z);Zu(k,B)}return null}function q(k,O,B,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return k=k.get(B)||null,A(O,k,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case I:return k=k.get(Z.key===null?B:Z.key)||null,w(O,k,Z,he);case M:return k=k.get(Z.key===null?B:Z.key)||null,z(O,k,Z,he);case b:var Ne=Z._init;return Z=Ne(Z._payload),q(k,O,B,Z,he)}if(st(Z)||U(Z))return k=k.get(B)||null,W(O,k,Z,he,null);if(typeof Z.then=="function")return q(k,O,B,Wu(Z),he);if(Z.$$typeof===ee)return q(k,O,B,Uu(O,Z),he);Zu(O,Z)}return null}function Ee(k,O,B,Z){for(var he=null,Ne=null,fe=O,_e=O=0,xt=null;fe!==null&&_e<B.length;_e++){fe.index>_e?(xt=fe,fe=null):xt=fe.sibling;var Be=H(k,fe,B[_e],Z);if(Be===null){fe===null&&(fe=xt);break}t&&fe&&Be.alternate===null&&i(k,fe),O=d(Be,O,_e),Ne===null?he=Be:Ne.sibling=Be,Ne=Be,fe=xt}if(_e===B.length)return a(k,fe),je&&Ts(k,_e),he;if(fe===null){for(;_e<B.length;_e++)fe=J(k,B[_e],Z),fe!==null&&(O=d(fe,O,_e),Ne===null?he=fe:Ne.sibling=fe,Ne=fe);return je&&Ts(k,_e),he}for(fe=l(fe);_e<B.length;_e++)xt=q(fe,k,_e,B[_e],Z),xt!==null&&(t&&xt.alternate!==null&&fe.delete(xt.key===null?_e:xt.key),O=d(xt,O,_e),Ne===null?he=xt:Ne.sibling=xt,Ne=xt);return t&&fe.forEach(function(Dr){return i(k,Dr)}),je&&Ts(k,_e),he}function pe(k,O,B,Z){if(B==null)throw Error(s(151));for(var he=null,Ne=null,fe=O,_e=O=0,xt=null,Be=B.next();fe!==null&&!Be.done;_e++,Be=B.next()){fe.index>_e?(xt=fe,fe=null):xt=fe.sibling;var Dr=H(k,fe,Be.value,Z);if(Dr===null){fe===null&&(fe=xt);break}t&&fe&&Dr.alternate===null&&i(k,fe),O=d(Dr,O,_e),Ne===null?he=Dr:Ne.sibling=Dr,Ne=Dr,fe=xt}if(Be.done)return a(k,fe),je&&Ts(k,_e),he;if(fe===null){for(;!Be.done;_e++,Be=B.next())Be=J(k,Be.value,Z),Be!==null&&(O=d(Be,O,_e),Ne===null?he=Be:Ne.sibling=Be,Ne=Be);return je&&Ts(k,_e),he}for(fe=l(fe);!Be.done;_e++,Be=B.next())Be=q(fe,k,_e,Be.value,Z),Be!==null&&(t&&Be.alternate!==null&&fe.delete(Be.key===null?_e:Be.key),O=d(Be,O,_e),Ne===null?he=Be:Ne.sibling=Be,Ne=Be);return t&&fe.forEach(function(qS){return i(k,qS)}),je&&Ts(k,_e),he}function We(k,O,B,Z){if(typeof B=="object"&&B!==null&&B.type===P&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case I:e:{for(var he=B.key;O!==null;){if(O.key===he){if(he=B.type,he===P){if(O.tag===7){a(k,O.sibling),Z=h(O,B.props.children),Z.return=k,k=Z;break e}}else if(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===b&&Wg(he)===O.type){a(k,O.sibling),Z=h(O,B.props),Jo(Z,B),Z.return=k,k=Z;break e}a(k,O);break}else i(k,O);O=O.sibling}B.type===P?(Z=Es(B.props.children,k.mode,Z,B.key),Z.return=k,k=Z):(Z=Vu(B.type,B.key,B.props,null,k.mode,Z),Jo(Z,B),Z.return=k,k=Z)}return v(k);case M:e:{for(he=B.key;O!==null;){if(O.key===he)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(k,O.sibling),Z=h(O,B.children||[]),Z.return=k,k=Z;break e}else{a(k,O);break}else i(k,O);O=O.sibling}Z=rf(B,k.mode,Z),Z.return=k,k=Z}return v(k);case b:return he=B._init,B=he(B._payload),We(k,O,B,Z)}if(st(B))return Ee(k,O,B,Z);if(U(B)){if(he=U(B),typeof he!="function")throw Error(s(150));return B=he.call(B),pe(k,O,B,Z)}if(typeof B.then=="function")return We(k,O,Wu(B),Z);if(B.$$typeof===ee)return We(k,O,Uu(k,B),Z);Zu(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(k,O.sibling),Z=h(O,B),Z.return=k,k=Z):(a(k,O),Z=nf(B,k.mode,Z),Z.return=k,k=Z),v(k)):a(k,O)}return function(k,O,B,Z){try{Zo=0;var he=We(k,O,B,Z);return Ra=null,he}catch(fe){if(fe===Ho||fe===Bu)throw fe;var Ne=cn(29,fe,null,k.mode);return Ne.lanes=Z,Ne.return=k,Ne}finally{}}}var wa=Zg(!0),Jg=Zg(!1),wn=te(null),ni=null;function mr(t){var i=t.alternate;re(St,St.current&1),re(wn,t),ni===null&&(i===null||Aa.current!==null||i.memoizedState!==null)&&(ni=t)}function $g(t){if(t.tag===22){if(re(St,St.current),re(wn,t),ni===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ni=t)}}else pr()}function pr(){re(St,St.current),re(wn,wn.current)}function Pi(t){oe(wn),ni===t&&(ni=null),oe(St)}var St=te(0);function Ju(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||wd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Uf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Lf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=mn(),h=hr(l);h.payload=i,a!=null&&(h.callback=a),i=fr(t,h,l),i!==null&&(pn(i,t,l),Fo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=mn(),h=hr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=fr(t,h,l),i!==null&&(pn(i,t,l),Fo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=mn(),l=hr(a);l.tag=2,i!=null&&(l.callback=i),i=fr(t,l,a),i!==null&&(pn(i,t,a),Fo(i,t,a))}};function ey(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Mo(a,l)||!Mo(h,d):!0}function ty(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Lf.enqueueReplaceState(i,i.state,null)}function Ds(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var $u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ny(t){$u(t)}function iy(t){console.error(t)}function ry(t){$u(t)}function ec(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function sy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bf(t,i,a){return a=hr(a),a.tag=3,a.payload={element:null},a.callback=function(){ec(t,i)},a}function ay(t){return t=hr(t),t.tag=3,t}function oy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){sy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){sy(i,a,l),typeof h!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function q0(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Bo(i,a,h,!0),a=wn.current,a!==null){switch(a.tag){case 13:return ni===null?ud():a.alternate===null&&lt===0&&(lt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===mf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),hd(t,l,h)),!1;case 22:return a.flags|=65536,l===mf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),hd(t,l,h)),!1}throw Error(s(435,a.tag))}return hd(t,l,h),ud(),!1}if(je)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==of&&(t=Error(s(422),{cause:l}),Lo(Tn(t,a)))):(l!==of&&(i=Error(s(423),{cause:l}),Lo(Tn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Tn(l,a),h=Bf(t.stateNode,l,h),yf(t,h),lt!==4&&(lt=2)),!1;var d=Error(s(520),{cause:l});if(d=Tn(d,a),sl===null?sl=[d]:sl.push(d),lt!==4&&(lt=2),i===null)return!0;l=Tn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Bf(a.stateNode,l,t),yf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ar===null||!Ar.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ay(h),oy(h,t,a,l),yf(a,h),!1}a=a.return}while(a!==null);return!1}var ly=Error(s(461)),Nt=!1;function Ut(t,i,a,l){i.child=t===null?Jg(i,null,a,l):wa(i,t.child,a,l)}function uy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return ws(i),l=Tf(t,i,a,v,d,h),A=Sf(),t!==null&&!Nt?(bf(t,i,h),Ui(t,i,h)):(je&&A&&sf(i),i.flags|=1,Ut(t,i,l,h),i.child)}function cy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!tf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,hy(t,i,d,l,h)):(t=Vu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Qf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Mo,a(v,l)&&t.ref===i.ref)return Ui(t,i,h)}return i.flags|=1,t=Ni(d,l),t.ref=i.ref,t.return=i,i.child=t}function hy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Mo(d,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=d,Qf(t,h))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,Ui(t,i,h)}return zf(t,i,a,l,h)}function fy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return dy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(i,d!==null?d.cachePool:null),d!==null?hg(i,d):vf(),$g(i);else return i.lanes=i.childLanes=536870912,dy(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Lu(i,d.cachePool),hg(i,d),pr(),i.memoizedState=null):(t!==null&&Lu(i,null),vf(),pr());return Ut(t,i,h,a),i.child}function dy(t,i,a,l){var h=df();return h=h===null?null:{parent:Tt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Lu(i,null),vf(),$g(i),t!==null&&Bo(t,i,l,!0),null}function tc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function zf(t,i,a,l,h){return ws(i),a=Tf(t,i,a,l,void 0,h),l=Sf(),t!==null&&!Nt?(bf(t,i,h),Ui(t,i,h)):(je&&l&&sf(i),i.flags|=1,Ut(t,i,a,h),i.child)}function my(t,i,a,l,h,d){return ws(i),i.updateQueue=null,a=dg(i,l,a,h),fg(t),l=Sf(),t!==null&&!Nt?(bf(t,i,d),Ui(t,i,d)):(je&&l&&sf(i),i.flags|=1,Ut(t,i,a,d),i.child)}function py(t,i,a,l,h){if(ws(i),i.stateNode===null){var d=ga,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ft(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Lf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},pf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ft(v):ga,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Uf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Lf.enqueueReplaceState(d,d.state,null),Ko(i,l,d,h),Go(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,w=Ds(a,A);d.props=w;var z=d.context,W=a.contextType;v=ga,typeof W=="object"&&W!==null&&(v=Ft(W));var J=a.getDerivedStateFromProps;W=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||z!==v)&&ty(i,d,l,v),cr=!1;var H=i.memoizedState;d.state=H,Ko(i,l,d,h),Go(),z=i.memoizedState,A||H!==z||cr?(typeof J=="function"&&(Uf(i,a,J,l),z=i.memoizedState),(w=cr||ey(i,a,w,l,H,z,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=w):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,gf(t,i),v=i.memoizedProps,W=Ds(a,v),d.props=W,J=i.pendingProps,H=d.context,z=a.contextType,w=ga,typeof z=="object"&&z!==null&&(w=Ft(z)),A=a.getDerivedStateFromProps,(z=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||H!==w)&&ty(i,d,l,w),cr=!1,H=i.memoizedState,d.state=H,Ko(i,l,d,h),Go();var q=i.memoizedState;v!==J||H!==q||cr||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof A=="function"&&(Uf(i,a,A,l),q=i.memoizedState),(W=cr||ey(i,a,W,l,H,q,w)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,w)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=w,l=W):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,tc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=wa(i,t.child,null,h),i.child=wa(i,null,a,h)):Ut(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ui(t,i,h),t}function gy(t,i,a,l){return Uo(),i.flags|=256,Ut(t,i,a,l),i.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hf(t){return{baseLanes:t,cachePool:ig()}}function qf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=In),t}function yy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(je){if(h?mr(i):pr(),je){var A=ot,w;if(w=A){e:{for(w=A,A=ti;w.nodeType!==8;){if(!A){A=null;break e}if(w=Un(w.nextSibling),w===null){A=null;break e}}A=w}A!==null?(i.memoizedState={dehydrated:A,treeContext:As!==null?{id:Oi,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},w=cn(18,null,null,0),w.stateNode=A,w.return=i,i.child=w,$t=i,ot=null,w=!0):w=!1}w||bs(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return wd(A)?i.lanes=32:i.lanes=536870912,null;Pi(i)}return A=l.children,l=l.fallback,h?(pr(),h=i.mode,A=nc({mode:"hidden",children:A},h),l=Es(l,h,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,h=i.child,h.memoizedState=Hf(a),h.childLanes=qf(t,v,a),i.memoizedState=jf,l):(mr(i),Ff(i,A))}if(w=t.memoizedState,w!==null&&(A=w.dehydrated,A!==null)){if(d)i.flags&256?(mr(i),i.flags&=-257,i=Gf(t,i,a)):i.memoizedState!==null?(pr(),i.child=t.child,i.flags|=128,i=null):(pr(),h=l.fallback,A=i.mode,l=nc({mode:"visible",children:l.children},A),h=Es(h,A,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,wa(i,t.child,null,a),l=i.child,l.memoizedState=Hf(a),l.childLanes=qf(t,v,a),i.memoizedState=jf,i=h);else if(mr(i),wd(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,Lo({value:l,source:null,stack:null}),i=Gf(t,i,a)}else if(Nt||Bo(t,i,a,!1),v=(a&t.childLanes)!==0,Nt||v){if(v=$e,v!==null&&(l=a&-a,l=(l&42)!==0?1:nr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,pa(t,l),pn(v,t,l),ly;A.data==="$?"||ud(),i=Gf(t,i,a)}else A.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=w.treeContext,ot=Un(A.nextSibling),$t=i,je=!0,Ss=null,ti=!1,t!==null&&(bn[Rn++]=Oi,bn[Rn++]=xi,bn[Rn++]=As,Oi=t.id,xi=t.overflow,As=i),i=Ff(i,l.children),i.flags|=4096);return i}return h?(pr(),h=l.fallback,A=i.mode,w=t.child,z=w.sibling,l=Ni(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,z!==null?h=Ni(z,h):(h=Es(h,A,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,A=t.child.memoizedState,A===null?A=Hf(a):(w=A.cachePool,w!==null?(z=Tt._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=ig(),A={baseLanes:A.baseLanes|a,cachePool:w}),h.memoizedState=A,h.childLanes=qf(t,v,a),i.memoizedState=jf,l):(mr(i),a=t.child,t=a.sibling,a=Ni(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Ff(t,i){return i=nc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function nc(t,i){return t=cn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Gf(t,i,a){return wa(i,t.child,null,a),t=Ff(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function _y(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),uf(t.return,i,a)}function Kf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function vy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ut(t,i,l.children,a),l=St.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_y(t,a,i);else if(t.tag===19)_y(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(St,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Ju(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Kf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Ju(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Kf(i,!0,a,null,d);break;case"together":Kf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ui(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Er|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Bo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ni(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ni(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Qf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function F0(t,i,a){switch(i.tag){case 3:Je(i,i.stateNode.containerInfo),ur(i,Tt,t.memoizedState.cache),Uo();break;case 27:case 5:tr(i);break;case 4:Je(i,i.stateNode.containerInfo);break;case 10:ur(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(mr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?yy(t,i,a):(mr(i),t=Ui(t,i,a),t!==null?t.sibling:null);mr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Bo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return vy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(St,St.current),l)break;return null;case 22:case 23:return i.lanes=0,fy(t,i,a);case 24:ur(i,Tt,t.memoizedState.cache)}return Ui(t,i,a)}function Ey(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!Qf(t,a)&&(i.flags&128)===0)return Nt=!1,F0(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,je&&(i.flags&1048576)!==0&&Wp(i,ku,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")tf(l)?(t=Ds(l,t),i.tag=1,i=py(null,i,l,t,a)):(i.tag=0,i=zf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ue){i.tag=11,i=uy(null,i,l,t,a);break e}else if(h===x){i.tag=14,i=cy(null,i,l,t,a);break e}}throw i=Mt(l)||l,Error(s(306,i,""))}}return i;case 0:return zf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ds(l,i.pendingProps),py(t,i,l,h,a);case 3:e:{if(Je(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,gf(t,i),Ko(i,l,null,a);var v=i.memoizedState;if(l=v.cache,ur(i,Tt,l),l!==d.cache&&cf(i,[Tt],a,!0),Go(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=gy(t,i,l,a);break e}else if(l!==h){h=Tn(Error(s(424)),i),Lo(h),i=gy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ot=Un(t.firstChild),$t=i,je=!0,Ss=null,ti=!0,a=Jg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Uo(),l===h){i=Ui(t,i,a);break e}Ut(t,i,l,a)}i=i.child}return i;case 26:return tc(t,i),t===null?(a=b_(i.type,null,i.pendingProps,null))?i.memoizedState=a:je||(a=i.type,t=i.pendingProps,l=gc(Se.current).createElement(a),l[vt]=i,l[mt]=t,Bt(l,a,t),ct(l),i.stateNode=l):i.memoizedState=b_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return tr(i),t===null&&je&&(l=i.stateNode=A_(i.type,i.pendingProps,Se.current),$t=i,ti=!0,h=ot,br(i.type)?(Id=h,ot=Un(l.firstChild)):ot=h),Ut(t,i,i.pendingProps.children,a),tc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&je&&((h=l=ot)&&(l=_S(l,i.type,i.pendingProps,ti),l!==null?(i.stateNode=l,$t=i,ot=Un(l.firstChild),ti=!1,h=!0):h=!1),h||bs(i)),tr(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Sd(h,d)?l=null:v!==null&&Sd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Tf(t,i,P0,null,null,a),ml._currentValue=h),tc(t,i),Ut(t,i,l,a),i.child;case 6:return t===null&&je&&((t=a=ot)&&(a=vS(a,i.pendingProps,ti),a!==null?(i.stateNode=a,$t=i,ot=null,t=!0):t=!1),t||bs(i)),null;case 13:return yy(t,i,a);case 4:return Je(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=wa(i,null,l,a):Ut(t,i,l,a),i.child;case 11:return uy(t,i,i.type,i.pendingProps,a);case 7:return Ut(t,i,i.pendingProps,a),i.child;case 8:return Ut(t,i,i.pendingProps.children,a),i.child;case 12:return Ut(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ur(i,i.type,l.value),Ut(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ws(i),h=Ft(h),l=l(h),i.flags|=1,Ut(t,i,l,a),i.child;case 14:return cy(t,i,i.type,i.pendingProps,a);case 15:return hy(t,i,i.type,i.pendingProps,a);case 19:return vy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=nc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ni(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return fy(t,i,a);case 24:return ws(i),l=Ft(Tt),t===null?(h=df(),h===null&&(h=$e,d=hf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},pf(i),ur(i,Tt,h)):((t.lanes&a)!==0&&(gf(t,i),Ko(i,null,null,a),Go()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ur(i,Tt,l)):(l=d.cache,ur(i,Tt,l),l!==h.cache&&cf(i,[Tt],a,!0))),Ut(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Li(t){t.flags|=4}function Ay(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!D_(i)){if(i=wn.current,i!==null&&((Ue&4194048)===Ue?ni!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==ni))throw qo=mf,rg;t.flags|=8192}}function ic(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?go():536870912,t.lanes|=i,Na|=i)}function $o(t,i){if(!je)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function G0(t,i,a){var l=i.pendingProps;switch(af(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Mi(Tt),qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Po(i)?Li(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,$p())),it(i),null;case 26:return a=i.memoizedState,t===null?(Li(i),a!==null?(it(i),Ay(i,a)):(it(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Li(i),it(i),Ay(i,a)):(it(i),i.flags&=-16777217):(t.memoizedProps!==l&&Li(i),it(i),i.flags&=-16777217),null;case 27:yi(i),a=Se.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Li(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=me.current,Po(i)?Zp(i):(t=A_(h,l,a),i.stateNode=t,Li(i))}return it(i),null;case 5:if(yi(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Li(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(t=me.current,Po(i))Zp(i);else{switch(h=gc(Se.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[vt]=i,t[mt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Bt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Li(i)}}return it(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Li(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Se.current,Po(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=$t,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[vt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||m_(t.nodeValue,a)),t||bs(i)}else t=gc(t).createTextNode(l),t[vt]=i,i.stateNode=t}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Po(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[vt]=i}else Uo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=$p(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Pi(i),i):(Pi(i),null)}if(Pi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),ic(i,i.updateQueue),it(i),null;case 4:return qn(),t===null&&_d(i.stateNode.containerInfo),it(i),null;case 10:return Mi(i.type),it(i),null;case 19:if(oe(St),h=i.memoizedState,h===null)return it(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)$o(h,!1);else{if(lt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Ju(t),d!==null){for(i.flags|=128,$o(h,!1),t=d.updateQueue,i.updateQueue=t,ic(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Xp(a,t),a=a.sibling;return re(St,St.current&1|2),i.child}t=t.sibling}h.tail!==null&&gn()>ac&&(i.flags|=128,l=!0,$o(h,!1),i.lanes=4194304)}else{if(!l)if(t=Ju(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,ic(i,t),$o(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!je)return it(i),null}else 2*gn()-h.renderingStartTime>ac&&a!==536870912&&(i.flags|=128,l=!0,$o(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=gn(),i.sibling=null,t=St.current,re(St,l?t&1|2:t&1),i):(it(i),null);case 22:case 23:return Pi(i),Ef(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&ic(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&oe(Is),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Mi(Tt),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function K0(t,i){switch(af(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Mi(Tt),qn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return yi(i),null;case 13:if(Pi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Uo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return oe(St),null;case 4:return qn(),null;case 10:return Mi(i.type),null;case 22:case 23:return Pi(i),Ef(),t!==null&&oe(Is),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Mi(Tt),null;case 25:return null;default:return null}}function Ty(t,i){switch(af(i),i.tag){case 3:Mi(Tt),qn();break;case 26:case 27:case 5:yi(i);break;case 4:qn();break;case 13:Pi(i);break;case 19:oe(St);break;case 10:Mi(i.type);break;case 22:case 23:Pi(i),Ef(),t!==null&&oe(Is);break;case 24:Mi(Tt)}}function el(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(A){Ze(i,i.return,A)}}function gr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,h=i;var w=a,z=A;try{z()}catch(W){Ze(h,w,W)}}}l=l.next}while(l!==d)}}catch(W){Ze(i,i.return,W)}}function Sy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{cg(i,a)}catch(l){Ze(t,t.return,l)}}}function by(t,i,a){a.props=Ds(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function tl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,i,h)}}function ii(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function Ry(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function Yf(t,i,a){try{var l=t.stateNode;dS(l,t.type,a,i),l[mt]=i}catch(h){Ze(t,t.return,h)}}function wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&br(t.type)||t.tag===4}function Xf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&br(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=pc));else if(l!==4&&(l===27&&br(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Wf(t,i,a),t=t.sibling;t!==null;)Wf(t,i,a),t=t.sibling}function rc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&br(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(rc(t,i,a),t=t.sibling;t!==null;)rc(t,i,a),t=t.sibling}function Iy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Bt(i,l,a),i[vt]=t,i[mt]=a}catch(d){Ze(t,t.return,d)}}var Bi=!1,ft=!1,Zf=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function Q0(t,i){if(t=t.containerInfo,Ad=Tc,t=Bp(t),Yh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,A=-1,w=-1,z=0,W=0,J=t,H=null;t:for(;;){for(var q;J!==a||h!==0&&J.nodeType!==3||(A=v+h),J!==d||l!==0&&J.nodeType!==3||(w=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(q=J.firstChild)!==null;)H=J,J=q;for(;;){if(J===t)break t;if(H===a&&++z===h&&(A=v),H===d&&++W===l&&(w=v),(q=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=q}a=A===-1||w===-1?null:{start:A,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:t,selectionRange:a},Tc=!1,Ot=i;Ot!==null;)if(i=Ot,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Ot=t;else for(;Ot!==null;){switch(i=Ot,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ee=Ds(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ee,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ze(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Rd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Rd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ot=t;break}Ot=i.return}}function Dy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:yr(t,a),l&4&&el(5,a);break;case 1:if(yr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var h=Ds(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}l&64&&Sy(a),l&512&&tl(a,a.return);break;case 3:if(yr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{cg(t,i)}catch(v){Ze(a,a.return,v)}}break;case 27:i===null&&l&4&&Iy(a);case 26:case 5:yr(t,a),i===null&&l&4&&Ry(a),l&512&&tl(a,a.return);break;case 12:yr(t,a);break;case 13:yr(t,a),l&4&&xy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=nS.bind(null,a),ES(t,a))));break;case 22:if(l=a.memoizedState!==null||Bi,!l){i=i!==null&&i.memoizedState!==null||ft,h=Bi;var d=ft;Bi=l,(ft=i)&&!d?_r(t,a,(a.subtreeFlags&8772)!==0):yr(t,a),Bi=h,ft=d}break;case 30:break;default:yr(t,a)}}function Ny(t){var i=t.alternate;i!==null&&(t.alternate=null,Ny(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&sr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var tt=null,tn=!1;function zi(t,i,a){for(a=a.child;a!==null;)Oy(t,i,a),a=a.sibling}function Oy(t,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(at,a)}catch{}switch(a.tag){case 26:ft||ii(a,i),zi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||ii(a,i);var l=tt,h=tn;br(a.type)&&(tt=a.stateNode,tn=!1),zi(t,i,a),cl(a.stateNode),tt=l,tn=h;break;case 5:ft||ii(a,i);case 6:if(l=tt,h=tn,tt=null,zi(t,i,a),tt=l,tn=h,tt!==null)if(tn)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{tt.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:tt!==null&&(tn?(t=tt,v_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),_l(t)):v_(tt,a.stateNode));break;case 4:l=tt,h=tn,tt=a.stateNode.containerInfo,tn=!0,zi(t,i,a),tt=l,tn=h;break;case 0:case 11:case 14:case 15:ft||gr(2,a,i),ft||gr(4,a,i),zi(t,i,a);break;case 1:ft||(ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&by(a,i,l)),zi(t,i,a);break;case 21:zi(t,i,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,zi(t,i,a),ft=l;break;default:zi(t,i,a)}}function xy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{_l(t)}catch(a){Ze(i,i.return,a)}}function Y0(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Cy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Cy),i;default:throw Error(s(435,t.tag))}}function Jf(t,i){var a=Y0(t);i.forEach(function(l){var h=iS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function hn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(br(A.type)){tt=A.stateNode,tn=!1;break e}break;case 5:tt=A.stateNode,tn=!1;break e;case 3:case 4:tt=A.stateNode.containerInfo,tn=!0;break e}A=A.return}if(tt===null)throw Error(s(160));Oy(d,v,h),tt=null,tn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Vy(i,t),i=i.sibling}var Pn=null;function Vy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(i,t),fn(t),l&4&&(gr(3,t,t.return),el(3,t),gr(5,t,t.return));break;case 1:hn(i,t),fn(t),l&512&&(ft||a===null||ii(a,a.return)),l&64&&Bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Pn;if(hn(i,t),fn(t),l&512&&(ft||a===null||ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[rs]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Bt(d,l,a),d[vt]=t,ct(d),l=d;break e;case"link":var v=I_("link","href",h).get(l+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=I_("meta","content",h).get(l+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[vt]=t,ct(d),l=d}t.stateNode=l}else C_(h,t.type,t.stateNode);else t.stateNode=w_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?C_(h,t.type,t.stateNode):w_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Yf(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(i,t),fn(t),l&512&&(ft||a===null||ii(a,a.return)),a!==null&&l&4&&Yf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,t),fn(t),l&512&&(ft||a===null||ii(a,a.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(q){Ze(t,t.return,q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Yf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Zf=!0);break;case 6:if(hn(i,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(q){Ze(t,t.return,q)}}break;case 3:if(vc=null,h=Pn,Pn=yc(i.containerInfo),hn(i,t),Pn=h,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{_l(i.containerInfo)}catch(q){Ze(t,t.return,q)}Zf&&(Zf=!1,My(t));break;case 4:l=Pn,Pn=yc(t.stateNode.containerInfo),hn(i,t),fn(t),Pn=l;break;case 12:hn(i,t),fn(t);break;case 13:hn(i,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rd=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Jf(t,l)));break;case 22:h=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,z=Bi,W=ft;if(Bi=z||h,ft=W||w,hn(i,t),ft=W,Bi=z,fn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||w||Bi||ft||Ns(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){w=a=i;try{if(d=w.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=w.stateNode;var J=w.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;A.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(q){Ze(w,w.return,q)}}}else if(i.tag===6){if(a===null){w=i;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(q){Ze(w,w.return,q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Jf(t,a))));break;case 19:hn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Jf(t,l)));break;case 30:break;case 21:break;default:hn(i,t),fn(t)}}function fn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(wy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Xf(t);rc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(_n(v,""),a.flags&=-33);var A=Xf(t);rc(t,A,v);break;case 3:case 4:var w=a.stateNode.containerInfo,z=Xf(t);Wf(t,z,w);break;default:throw Error(s(161))}}catch(W){Ze(t,t.return,W)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function My(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;My(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function yr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Dy(t,i.alternate,i),i=i.sibling}function Ns(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:gr(4,i,i.return),Ns(i);break;case 1:ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&by(i,i.return,a),Ns(i);break;case 27:cl(i.stateNode);case 26:case 5:ii(i,i.return),Ns(i);break;case 22:i.memoizedState===null&&Ns(i);break;case 30:Ns(i);break;default:Ns(i)}t=t.sibling}}function _r(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:_r(h,d,a),el(4,d);break;case 1:if(_r(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Ze(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)ug(w[h],A)}catch(z){Ze(l,l.return,z)}}a&&v&64&&Sy(d),tl(d,d.return);break;case 27:Iy(d);case 26:case 5:_r(h,d,a),a&&l===null&&v&4&&Ry(d),tl(d,d.return);break;case 12:_r(h,d,a);break;case 13:_r(h,d,a),a&&v&4&&xy(h,d);break;case 22:d.memoizedState===null&&_r(h,d,a),tl(d,d.return);break;case 30:break;default:_r(h,d,a)}i=i.sibling}}function $f(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&zo(a))}function ed(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&zo(t))}function ri(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ky(t,i,a,l),i=i.sibling}function ky(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(t,i,a,l),h&2048&&el(9,i);break;case 1:ri(t,i,a,l);break;case 3:ri(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&zo(t)));break;case 12:if(h&2048){ri(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Ze(i,i.return,w)}}else ri(t,i,a,l);break;case 13:ri(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ri(t,i,a,l):nl(t,i):d._visibility&2?ri(t,i,a,l):(d._visibility|=2,Ia(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&$f(v,i);break;case 24:ri(t,i,a,l),h&2048&&ed(i.alternate,i);break;default:ri(t,i,a,l)}}function Ia(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,A=a,w=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:Ia(d,v,A,w,h),el(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?Ia(d,v,A,w,h):nl(d,v):(W._visibility|=2,Ia(d,v,A,w,h)),h&&z&2048&&$f(v.alternate,v);break;case 24:Ia(d,v,A,w,h),h&&z&2048&&ed(v.alternate,v);break;default:Ia(d,v,A,w,h)}i=i.sibling}}function nl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:nl(a,l),h&2048&&$f(l.alternate,l);break;case 24:nl(a,l),h&2048&&ed(l.alternate,l);break;default:nl(a,l)}i=i.sibling}}var il=8192;function Ca(t){if(t.subtreeFlags&il)for(t=t.child;t!==null;)Py(t),t=t.sibling}function Py(t){switch(t.tag){case 26:Ca(t),t.flags&il&&t.memoizedState!==null&&VS(Pn,t.memoizedState,t.memoizedProps);break;case 5:Ca(t);break;case 3:case 4:var i=Pn;Pn=yc(t.stateNode.containerInfo),Ca(t),Pn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=il,il=16777216,Ca(t),il=i):Ca(t));break;default:Ca(t)}}function Uy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function rl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ot=l,By(l,t)}Uy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ly(t),t=t.sibling}function Ly(t){switch(t.tag){case 0:case 11:case 15:rl(t),t.flags&2048&&gr(9,t,t.return);break;case 3:rl(t);break;case 12:rl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,sc(t)):rl(t);break;default:rl(t)}}function sc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ot=l,By(l,t)}Uy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:gr(8,i,i.return),sc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,sc(i));break;default:sc(i)}t=t.sibling}}function By(t,i){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:gr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:zo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ot=l;else e:for(a=t;Ot!==null;){l=Ot;var h=l.sibling,d=l.return;if(Ny(l),l===a){Ot=null;break e}if(h!==null){h.return=d,Ot=h;break e}Ot=d}}}var X0={getCacheForType:function(t){var i=Ft(Tt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},W0=typeof WeakMap=="function"?WeakMap:Map,Ge=0,$e=null,Oe=null,Ue=0,Ke=0,dn=null,vr=!1,Da=!1,td=!1,ji=0,lt=0,Er=0,Os=0,nd=0,In=0,Na=0,sl=null,nn=null,id=!1,rd=0,ac=1/0,oc=null,Ar=null,Lt=0,Tr=null,Oa=null,xa=0,sd=0,ad=null,zy=null,al=0,od=null;function mn(){if((Ge&2)!==0&&Ue!==0)return Ue&-Ue;if(X.T!==null){var t=va;return t!==0?t:md()}return ir()}function jy(){In===0&&(In=(Ue&536870912)===0||je?po():536870912);var t=wn.current;return t!==null&&(t.flags|=32),In}function pn(t,i,a){(t===$e&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Va(t,0),Sr(t,Ue,In,!1)),vi(t,a),((Ge&2)===0||t!==$e)&&(t===$e&&((Ge&2)===0&&(Os|=a),lt===4&&Sr(t,Ue,In,!1)),si(t))}function Hy(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||is(t,i),h=l?$0(t,i):cd(t,i,!0),d=l;do{if(h===0){Da&&!l&&Sr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Z0(a)){h=cd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var A=t;h=sl;var w=A.current.memoizedState.isDehydrated;if(w&&(Va(A,v).flags|=256),v=cd(A,v,!1),v!==2){if(td&&!w){A.errorRecoveryDisabledLanes|=d,Os|=d,h=4;break e}d=nn,nn=h,d!==null&&(nn===null?nn=d:nn.push.apply(nn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Va(t,0),Sr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Sr(l,i,In,!vr);break e;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=rd+300-gn(),10<h)){if(Sr(l,i,In,!vr),Ws(l,0,!0)!==0)break e;l.timeoutHandle=y_(qy.bind(null,l,a,nn,oc,id,i,In,Os,Na,vr,d,2,-0,0),h);break e}qy(l,a,nn,oc,id,i,In,Os,Na,vr,d,0,-0,0)}}break}while(!0);si(t)}function qy(t,i,a,l,h,d,v,A,w,z,W,J,H,q){if(t.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(dl={stylesheets:null,count:0,unsuspend:xS},Py(i),J=MS(),J!==null)){t.cancelPendingCommit=J(Wy.bind(null,t,i,d,a,l,h,v,A,w,W,1,H,q)),Sr(t,d,v,!z);return}Wy(t,i,d,a,l,h,v,A,w)}function Z0(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Sr(t,i,a,l){i&=~nd,i&=~Os,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-qt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Fn(t,a,i)}function lc(){return(Ge&6)===0?(ol(0),!1):!0}function ld(){if(Oe!==null){if(Ke===0)var t=Oe.return;else t=Oe,Vi=Rs=null,Rf(t),Ra=null,Zo=0,t=Oe;for(;t!==null;)Ty(t.alternate,t),t=t.return;Oe=null}}function Va(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,pS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ld(),$e=t,Oe=a=Ni(t.current,null),Ue=i,Ke=0,dn=null,vr=!1,Da=is(t,i),td=!1,Na=In=nd=Os=Er=lt=0,nn=sl=null,id=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-qt(l),d=1<<h;i|=t[h],l&=~d}return ji=i,Nu(),a}function Fy(t,i){Ie=null,X.H=Xu,i===Ho||i===Bu?(i=og(),Ke=3):i===rg?(i=og(),Ke=4):Ke=i===ly?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,dn=i,Oe===null&&(lt=1,ec(t,Tn(i,t.current)))}function Gy(){var t=X.H;return X.H=Xu,t===null?Xu:t}function Ky(){var t=X.A;return X.A=X0,t}function ud(){lt=4,vr||(Ue&4194048)!==Ue&&wn.current!==null||(Da=!0),(Er&134217727)===0&&(Os&134217727)===0||$e===null||Sr($e,Ue,In,!1)}function cd(t,i,a){var l=Ge;Ge|=2;var h=Gy(),d=Ky();($e!==t||Ue!==i)&&(oc=null,Va(t,i)),i=!1;var v=lt;e:do try{if(Ke!==0&&Oe!==null){var A=Oe,w=dn;switch(Ke){case 8:ld(),v=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(i=!0);var z=Ke;if(Ke=0,dn=null,Ma(t,A,w,z),a&&Da){v=0;break e}break;default:z=Ke,Ke=0,dn=null,Ma(t,A,w,z)}}J0(),v=lt;break}catch(W){Fy(t,W)}while(!0);return i&&t.shellSuspendCounter++,Vi=Rs=null,Ge=l,X.H=h,X.A=d,Oe===null&&($e=null,Ue=0,Nu()),v}function J0(){for(;Oe!==null;)Qy(Oe)}function $0(t,i){var a=Ge;Ge|=2;var l=Gy(),h=Ky();$e!==t||Ue!==i?(oc=null,ac=gn()+500,Va(t,i)):Da=is(t,i);e:do try{if(Ke!==0&&Oe!==null){i=Oe;var d=dn;t:switch(Ke){case 1:Ke=0,dn=null,Ma(t,i,d,1);break;case 2:case 9:if(sg(d)){Ke=0,dn=null,Yy(i);break}i=function(){Ke!==2&&Ke!==9||$e!==t||(Ke=7),si(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:sg(d)?(Ke=0,dn=null,Yy(i)):(Ke=0,dn=null,Ma(t,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var A=Oe;if(!v||D_(v)){Ke=0,dn=null;var w=A.sibling;if(w!==null)Oe=w;else{var z=A.return;z!==null?(Oe=z,uc(z)):Oe=null}break t}}Ke=0,dn=null,Ma(t,i,d,5);break;case 6:Ke=0,dn=null,Ma(t,i,d,6);break;case 8:ld(),lt=6;break e;default:throw Error(s(462))}}eS();break}catch(W){Fy(t,W)}while(!0);return Vi=Rs=null,X.H=l,X.A=h,Ge=a,Oe!==null?0:($e=null,Ue=0,Nu(),lt)}function eS(){for(;Oe!==null&&!co();)Qy(Oe)}function Qy(t){var i=Ey(t.alternate,t,ji);t.memoizedProps=t.pendingProps,i===null?uc(t):Oe=i}function Yy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=my(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=my(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:Rf(i);default:Ty(a,i),i=Oe=Xp(i,ji),i=Ey(a,i,ji)}t.memoizedProps=t.pendingProps,i===null?uc(t):Oe=i}function Ma(t,i,a,l){Vi=Rs=null,Rf(i),Ra=null,Zo=0;var h=i.return;try{if(q0(t,h,i,a,Ue)){lt=1,ec(t,Tn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;lt=1,ec(t,Tn(a,t.current)),Oe=null;return}i.flags&32768?(je||l===1?t=!0:Da||(Ue&536870912)!==0?t=!1:(vr=t=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Xy(i,t)):uc(i)}function uc(t){var i=t;do{if((i.flags&32768)!==0){Xy(i,vr);return}t=i.return;var a=G0(i.alternate,i,ji);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);lt===0&&(lt=5)}function Xy(t,i){do{var a=K0(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);lt=6,Oe=null}function Wy(t,i,a,l,h,d,v,A,w){t.cancelPendingCommit=null;do cc();while(Lt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=$h,yo(t,a,d,v,A,w),t===$e&&(Oe=$e=null,Ue=0),Oa=i,Tr=t,xa=a,sd=d,ad=h,zy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,rS($r,function(){return t_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=ae.p,ae.p=2,v=Ge,Ge|=4;try{Q0(t,i,a)}finally{Ge=v,ae.p=h,X.T=l}}Lt=1,Zy(),Jy(),$y()}}function Zy(){if(Lt===1){Lt=0;var t=Tr,i=Oa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{Vy(i,t);var d=Td,v=Bp(t.containerInfo),A=d.focusedElem,w=d.selectionRange;if(v!==A&&A&&A.ownerDocument&&Lp(A.ownerDocument.documentElement,A)){if(w!==null&&Yh(A)){var z=w.start,W=w.end;if(W===void 0&&(W=z),"selectionStart"in A)A.selectionStart=z,A.selectionEnd=Math.min(W,A.value.length);else{var J=A.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var q=H.getSelection(),Ee=A.textContent.length,pe=Math.min(w.start,Ee),We=w.end===void 0?pe:Math.min(w.end,Ee);!q.extend&&pe>We&&(v=We,We=pe,pe=v);var k=Up(A,pe),O=Up(A,We);if(k&&O&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var B=J.createRange();B.setStart(k.node,k.offset),q.removeAllRanges(),pe>We?(q.addRange(B),q.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),q.addRange(B))}}}}for(J=[],q=A;q=q.parentNode;)q.nodeType===1&&J.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<J.length;A++){var Z=J[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Tc=!!Ad,Td=Ad=null}finally{Ge=h,ae.p=l,X.T=a}}t.current=i,Lt=2}}function Jy(){if(Lt===2){Lt=0;var t=Tr,i=Oa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{Dy(t,i.alternate,i)}finally{Ge=h,ae.p=l,X.T=a}}Lt=3}}function $y(){if(Lt===4||Lt===3){Lt=0,su();var t=Tr,i=Oa,a=xa,l=zy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,Oa=Tr=null,e_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ar=null),Zs(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(at,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=ae.p,ae.p=2,X.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var A=l[v];d(A.value,{componentStack:A.stack})}}finally{X.T=i,ae.p=h}}(xa&3)!==0&&cc(),si(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===od?al++:(al=0,od=t):al=0,ol(0)}}function e_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,zo(i)))}function cc(t){return Zy(),Jy(),$y(),t_()}function t_(){if(Lt!==5)return!1;var t=Tr,i=sd;sd=0;var a=Zs(xa),l=X.T,h=ae.p;try{ae.p=32>a?32:a,X.T=null,a=ad,ad=null;var d=Tr,v=xa;if(Lt=0,Oa=Tr=null,xa=0,(Ge&6)!==0)throw Error(s(331));var A=Ge;if(Ge|=4,Ly(d.current),ky(d,d.current,v,a),Ge=A,ol(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(at,d)}catch{}return!0}finally{ae.p=h,X.T=l,e_(t,i)}}function n_(t,i,a){i=Tn(a,i),i=Bf(t.stateNode,i,2),t=fr(t,i,2),t!==null&&(vi(t,2),si(t))}function Ze(t,i,a){if(t.tag===3)n_(t,t,a);else for(;i!==null;){if(i.tag===3){n_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ar===null||!Ar.has(l))){t=Tn(a,t),a=ay(2),l=fr(i,a,2),l!==null&&(oy(a,l,i,t),vi(l,2),si(l));break}}i=i.return}}function hd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new W0;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(td=!0,h.add(a),t=tS.bind(null,t,i,a),i.then(t,t))}function tS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$e===t&&(Ue&a)===a&&(lt===4||lt===3&&(Ue&62914560)===Ue&&300>gn()-rd?(Ge&2)===0&&Va(t,0):nd|=a,Na===Ue&&(Na=0)),si(t)}function i_(t,i){i===0&&(i=go()),t=pa(t,i),t!==null&&(vi(t,i),si(t))}function nS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),i_(t,a)}function iS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),i_(t,a)}function rS(t,i){return Zr(t,i)}var hc=null,ka=null,fd=!1,fc=!1,dd=!1,xs=0;function si(t){t!==ka&&t.next===null&&(ka===null?hc=ka=t:ka=ka.next=t),fc=!0,fd||(fd=!0,aS())}function ol(t,i){if(!dd&&fc){dd=!0;do for(var a=!1,l=hc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-qt(42|t)+1)-1,d&=h&~(v&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,o_(l,d))}else d=Ue,d=Ws(l,l===$e?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||is(l,d)||(a=!0,o_(l,d));l=l.next}while(a);dd=!1}}function sS(){r_()}function r_(){fc=fd=!1;var t=0;xs!==0&&(mS()&&(t=xs),xs=0);for(var i=gn(),a=null,l=hc;l!==null;){var h=l.next,d=s_(l,i);d===0?(l.next=null,a===null?hc=h:a.next=h,h===null&&(ka=a)):(a=l,(t!==0||(d&3)!==0)&&(fc=!0)),l=h}ol(t)}function s_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-qt(d),A=1<<v,w=h[v];w===-1?((A&a)===0||(A&l)!==0)&&(h[v]=mo(A,i)):w<=i&&(t.expiredLanes|=A),d&=~A}if(i=$e,a=Ue,a=Ws(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Jr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||is(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Jr(l),Zs(a)){case 2:case 8:a=Ys;break;case 32:a=$r;break;case 268435456:a=Xs;break;default:a=$r}return l=a_.bind(null,t),a=Zr(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Jr(l),t.callbackPriority=2,t.callbackNode=null,2}function a_(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(cc()&&t.callbackNode!==a)return null;var l=Ue;return l=Ws(t,t===$e?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Hy(t,l,i),s_(t,gn()),t.callbackNode!=null&&t.callbackNode===a?a_.bind(null,t):null)}function o_(t,i){if(cc())return null;Hy(t,i,!0)}function aS(){gS(function(){(Ge&6)!==0?Zr(ho,sS):r_()})}function md(){return xs===0&&(xs=po()),xs}function l_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ia(""+t)}function u_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function oS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=l_((h[mt]||null).action),v=l.submitter;v&&(i=(i=v[mt]||null)?l_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var A=new ra("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xs!==0){var w=v?u_(h,v):new FormData(h);Mf(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(A.preventDefault(),w=v?u_(h,v):new FormData(h),Mf(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var pd=0;pd<Jh.length;pd++){var gd=Jh[pd],lS=gd.toLowerCase(),uS=gd[0].toUpperCase()+gd.slice(1);kn(lS,"on"+uS)}kn(Hp,"onAnimationEnd"),kn(qp,"onAnimationIteration"),kn(Fp,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(w0,"onTransitionRun"),kn(I0,"onTransitionStart"),kn(C0,"onTransitionCancel"),kn(Gp,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function c_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var A=l[v],w=A.instance,z=A.currentTarget;if(A=A.listener,w!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=z;try{d(h)}catch(W){$u(W)}h.currentTarget=null,d=w}else for(v=0;v<l.length;v++){if(A=l[v],w=A.instance,z=A.currentTarget,A=A.listener,w!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=z;try{d(h)}catch(W){$u(W)}h.currentTarget=null,d=w}}}}function xe(t,i){var a=i[vo];a===void 0&&(a=i[vo]=new Set);var l=t+"__bubble";a.has(l)||(h_(i,t,2,!1),a.add(l))}function yd(t,i,a){var l=0;i&&(l|=4),h_(a,t,l,i)}var dc="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[dc]){t[dc]=!0,Eo.forEach(function(a){a!=="selectionchange"&&(cS.has(a)||yd(a,!1,t),yd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[dc]||(i[dc]=!0,yd("selectionchange",!1,i))}}function h_(t,i,a,l){switch(k_(i)){case 2:var h=US;break;case 8:h=LS;break;default:h=xd}a=h.bind(null,i,a,t),h=void 0,!En||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function vd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;A!==null;){if(v=Ei(A),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=d=v;continue e}A=A.parentNode}}l=l.return}pu(function(){var z=d,W=vn(a),J=[];e:{var H=Kp.get(t);if(H!==void 0){var q=ra,Ee=t;switch(t){case"keypress":if(Wn(a)===0)break e;case"keydown":case"keyup":q=ca;break;case"focusin":Ee="focus",q=oa;break;case"focusout":Ee="blur",q=oa;break;case"beforeblur":case"afterblur":q=oa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Su;break;case Hp:case qp:case Fp:q=la;break;case Gp:q=Ru;break;case"scroll":case"scrollend":q=gu;break;case"wheel":q=ha;break;case"copy":case"cut":case"paste":q=ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=xo;break;case"toggle":case"beforetoggle":q=Iu}var pe=(i&4)!==0,We=!pe&&(t==="scroll"||t==="scrollend"),k=pe?H!==null?H+"Capture":null:H;pe=[];for(var O=z,B;O!==null;){var Z=O;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||k===null||(Z=hs(O,k),Z!=null&&pe.push(ul(O,Z,B))),We)break;O=O.return}0<pe.length&&(H=new q(H,Ee,null,a,W),J.push({event:H,listeners:pe}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",H&&a!==bi&&(Ee=a.relatedTarget||a.fromElement)&&(Ei(Ee)||Ee[yn]))break e;if((q||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,q?(Ee=a.relatedTarget||a.toElement,q=z,Ee=Ee?Ei(Ee):null,Ee!==null&&(We=u(Ee),pe=Ee.tag,Ee!==We||pe!==5&&pe!==27&&pe!==6)&&(Ee=null)):(q=null,Ee=z),q!==Ee)){if(pe=An,Z="onMouseLeave",k="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(pe=xo,Z="onPointerLeave",k="onPointerEnter",O="pointer"),We=q==null?H:Kn(q),B=Ee==null?H:Kn(Ee),H=new pe(Z,O+"leave",q,a,W),H.target=We,H.relatedTarget=B,Z=null,Ei(W)===z&&(pe=new pe(k,O+"enter",Ee,a,W),pe.target=B,pe.relatedTarget=We,Z=pe),We=Z,q&&Ee)t:{for(pe=q,k=Ee,O=0,B=pe;B;B=Pa(B))O++;for(B=0,Z=k;Z;Z=Pa(Z))B++;for(;0<O-B;)pe=Pa(pe),O--;for(;0<B-O;)k=Pa(k),B--;for(;O--;){if(pe===k||k!==null&&pe===k.alternate)break t;pe=Pa(pe),k=Pa(k)}pe=null}else pe=null;q!==null&&f_(J,H,q,pe,!1),Ee!==null&&We!==null&&f_(J,We,Ee,pe,!0)}}e:{if(H=z?Kn(z):window,q=H.nodeName&&H.nodeName.toLowerCase(),q==="select"||q==="input"&&H.type==="file")var he=Op;else if(At(H))if(xp)he=S0;else{he=A0;var Ne=E0}else q=H.nodeName,!q||q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?z&&Ro(z.elementType)&&(he=Op):he=T0;if(he&&(he=he(t,z))){Di(J,he,a,W);break e}Ne&&Ne(t,H,z),t==="focusout"&&z&&H.type==="number"&&z.memoizedProps.value!=null&&or(H,"number",H.value)}switch(Ne=z?Kn(z):window,t){case"focusin":(At(Ne)||Ne.contentEditable==="true")&&(fa=Ne,Xh=z,ko=null);break;case"focusout":ko=Xh=fa=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,zp(J,a,W);break;case"selectionchange":if(R0)break;case"keydown":case"keyup":zp(J,a,W)}var fe;if($n)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ke?F(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(ke||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ke&&(fe=Io()):(Xn=W,lr="value"in Xn?Xn.value:Xn.textContent,ke=!0)),Ne=mc(z,_e),0<Ne.length&&(_e=new No(_e,t,null,a,W),J.push({event:_e,listeners:Ne}),fe?_e.data=fe:(fe=se(a),fe!==null&&(_e.data=fe)))),(fe=g?Et(t,a):Pe(t,a))&&(_e=mc(z,"onBeforeInput"),0<_e.length&&(Ne=new No("onBeforeInput","beforeinput",null,a,W),J.push({event:Ne,listeners:_e}),Ne.data=fe)),oS(J,t,z,a,W)}c_(J,i)})}function ul(t,i,a){return{instance:t,listener:i,currentTarget:a}}function mc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=hs(t,a),h!=null&&l.unshift(ul(t,h,d)),h=hs(t,i),h!=null&&l.push(ul(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Pa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function f_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var A=a,w=A.alternate,z=A.stateNode;if(A=A.tag,w!==null&&w===l)break;A!==5&&A!==26&&A!==27||z===null||(w=z,h?(z=hs(a,d),z!=null&&v.unshift(ul(a,z,w))):h||(z=hs(a,d),z!=null&&v.push(ul(a,z,w)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var hS=/\r\n?/g,fS=/\u0000|\uFFFD/g;function d_(t){return(typeof t=="string"?t:""+t).replace(hS,`
`).replace(fS,"")}function m_(t,i){return i=d_(i),d_(t)===i}function pc(){}function Xe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&_n(t,""+l);break;case"className":Qn(t,"class",l);break;case"tabIndex":Qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(t,a,l);break;case"style":bo(t,l,d);break;case"data":if(i!=="object"){Qn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ia(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ia(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=pc);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),ar(t,"popover",l);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ar(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hh.get(a)||a,ar(t,a,l))}}function Ed(t,i,a,l,h,d){switch(a){case"style":bo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=pc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Js.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ar(t,a,l)}}}function Bt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,d,v,a,null)}}h&&Xe(t,i,"srcSet",a.srcSet,a,null),l&&Xe(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var A=d=v=h=null,w=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":w=W;break;case"defaultChecked":z=W;break;case"value":d=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:Xe(t,i,l,W,a,null)}}ls(t,d,A,w,z,v,h,!1),na(t);return;case"select":xe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:Xe(t,i,h,A,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Si(t,!!l,i,!1):a!=null&&Si(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Xe(t,i,v,A,a,null)}us(t,l,h,d),na(t);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,w,l,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<ll.length;l++)xe(ll[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,z,l,a,null)}return;default:if(Ro(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Ed(t,i,W,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Xe(t,i,A,l,a,null))}function dS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,A=null,w=null,z=null,W=null;for(q in a){var J=a[q];if(a.hasOwnProperty(q)&&J!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":w=J;default:l.hasOwnProperty(q)||Xe(t,i,q,null,l,J)}}for(var H in l){var q=l[H];if(J=a[H],l.hasOwnProperty(H)&&(q!=null||J!=null))switch(H){case"type":d=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":W=q;break;case"value":v=q;break;case"defaultValue":A=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==J&&Xe(t,i,H,q,l,J)}}ln(t,v,A,w,z,W,d,h);return;case"select":q=v=A=H=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":q=w;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,w)}for(h in l)if(d=l[h],w=a[h],l.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":H=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==w&&Xe(t,i,h,d,l,w)}i=A,a=v,l=q,H!=null?Si(t,!!a,H,!1):!!l!=!!a&&(i!=null?Si(t,!!a,i,!0):Si(t,!!a,a?[]:"",!1));return;case"textarea":q=H=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Xe(t,i,A,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,i,v,h,l,d)}Qe(t,H,q);return;case"option":for(var Ee in a)if(H=a[Ee],a.hasOwnProperty(Ee)&&H!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:Xe(t,i,Ee,null,l,H)}for(w in l)if(H=l[w],q=a[w],l.hasOwnProperty(w)&&H!==q&&(H!=null||q!=null))switch(w){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xe(t,i,w,H,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)H=a[pe],a.hasOwnProperty(pe)&&H!=null&&!l.hasOwnProperty(pe)&&Xe(t,i,pe,null,l,H);for(z in l)if(H=l[z],q=a[z],l.hasOwnProperty(z)&&H!==q&&(H!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Xe(t,i,z,H,l,q)}return;default:if(Ro(i)){for(var We in a)H=a[We],a.hasOwnProperty(We)&&H!==void 0&&!l.hasOwnProperty(We)&&Ed(t,i,We,void 0,l,H);for(W in l)H=l[W],q=a[W],!l.hasOwnProperty(W)||H===q||H===void 0&&q===void 0||Ed(t,i,W,H,l,q);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!l.hasOwnProperty(k)&&Xe(t,i,k,null,l,H);for(J in l)H=l[J],q=a[J],!l.hasOwnProperty(J)||H===q||H==null&&q==null||Xe(t,i,J,H,l,q)}var Ad=null,Td=null;function gc(t){return t.nodeType===9?t:t.ownerDocument}function p_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Sd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var bd=null;function mS(){var t=window.event;return t&&t.type==="popstate"?t===bd?!1:(bd=t,!0):(bd=null,!1)}var y_=typeof setTimeout=="function"?setTimeout:void 0,pS=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,gS=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(t){return __.resolve(null).then(t).catch(yS)}:y_;function yS(t){setTimeout(function(){throw t})}function br(t){return t==="head"}function v_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&cl(v.documentElement),a&2&&cl(v.body),a&4)for(a=v.head,cl(a),v=a.firstChild;v;){var A=v.nextSibling,w=v.nodeName;v[rs]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=A}}if(h===0){t.removeChild(d),_l(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);_l(i)}function Rd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Rd(a),sr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function _S(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[rs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function vS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function wd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function ES(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Id=null;function E_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function A_(t,i,a){switch(i=gc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function cl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);sr(t)}var Cn=new Map,T_=new Set;function yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Hi=ae.d;ae.d={f:AS,r:TS,D:SS,C:bS,L:RS,m:wS,X:CS,S:IS,M:DS};function AS(){var t=Hi.f(),i=lc();return t||i}function TS(t){var i=Gn(t);i!==null&&i.tag===5&&i.type==="form"?Hg(i):Hi.r(t)}var Ua=typeof document>"u"?null:document;function S_(t,i,a){var l=Ua;if(l&&typeof i=="string"&&i){var h=pt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),T_.has(h)||(T_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Bt(i,"link",t),ct(i),l.head.appendChild(i)))}}function SS(t){Hi.D(t),S_("dns-prefetch",t,null)}function bS(t,i){Hi.C(t,i),S_("preconnect",t,i)}function RS(t,i,a){Hi.L(t,i,a);var l=Ua;if(l&&t&&i){var h='link[rel="preload"][as="'+pt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pt(a.imageSizes)+'"]')):h+='[href="'+pt(t)+'"]';var d=h;switch(i){case"style":d=La(t);break;case"script":d=Ba(t)}Cn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Cn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(hl(d))||i==="script"&&l.querySelector(fl(d))||(i=l.createElement("link"),Bt(i,"link",t),ct(i),l.head.appendChild(i)))}}function wS(t,i){Hi.m(t,i);var a=Ua;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pt(l)+'"][href="'+pt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ba(t)}if(!Cn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Cn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fl(d)))return}l=a.createElement("link"),Bt(l,"link",t),ct(l),a.head.appendChild(l)}}}function IS(t,i,a){Hi.S(t,i,a);var l=Ua;if(l&&t){var h=Wt(l).hoistableStyles,d=La(t);i=i||"default";var v=h.get(d);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(hl(d)))A.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Cn.get(d))&&Cd(t,a);var w=v=l.createElement("link");ct(w),Bt(w,"link",t),w._p=new Promise(function(z,W){w.onload=z,w.onerror=W}),w.addEventListener("load",function(){A.loading|=1}),w.addEventListener("error",function(){A.loading|=2}),A.loading|=4,_c(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:A},h.set(d,v)}}}function CS(t,i){Hi.X(t,i);var a=Ua;if(a&&t){var l=Wt(a).hoistableScripts,h=Ba(t),d=l.get(h);d||(d=a.querySelector(fl(h)),d||(t=E({src:t,async:!0},i),(i=Cn.get(h))&&Dd(t,i),d=a.createElement("script"),ct(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function DS(t,i){Hi.M(t,i);var a=Ua;if(a&&t){var l=Wt(a).hoistableScripts,h=Ba(t),d=l.get(h);d||(d=a.querySelector(fl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Cn.get(h))&&Dd(t,i),d=a.createElement("script"),ct(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function b_(t,i,a,l){var h=(h=Se.current)?yc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=La(a.href),a=Wt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=La(a.href);var d=Wt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(hl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Cn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cn.set(t,a),d||NS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ba(a),a=Wt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function La(t){return'href="'+pt(t)+'"'}function hl(t){return'link[rel="stylesheet"]['+t+"]"}function R_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function NS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Bt(i,"link",a),ct(i),t.head.appendChild(i))}function Ba(t){return'[src="'+pt(t)+'"]'}function fl(t){return"script[async]"+t}function w_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+pt(a.href)+'"]');if(l)return i.instance=l,ct(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ct(l),Bt(l,"style",h),_c(l,a.precedence,t),i.instance=l;case"stylesheet":h=La(a.href);var d=t.querySelector(hl(h));if(d)return i.state.loading|=4,i.instance=d,ct(d),d;l=R_(a),(h=Cn.get(h))&&Cd(l,h),d=(t.ownerDocument||t).createElement("link"),ct(d);var v=d;return v._p=new Promise(function(A,w){v.onload=A,v.onerror=w}),Bt(d,"link",l),i.state.loading|=4,_c(d,a.precedence,t),i.instance=d;case"script":return d=Ba(a.src),(h=t.querySelector(fl(d)))?(i.instance=h,ct(h),h):(l=a,(h=Cn.get(d))&&(l=E({},a),Dd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ct(h),Bt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,_c(l,a.precedence,t));return i.instance}function _c(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Cd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Dd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var vc=null;function I_(t,i,a){if(vc===null){var l=new Map,h=vc=new Map;h.set(a,l)}else h=vc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[rs]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var A=l.get(v);A?A.push(d):l.set(v,[d])}}return l}function C_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function OS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function D_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var dl=null;function xS(){}function VS(t,i,a){if(dl===null)throw Error(s(475));var l=dl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=La(a.href),d=t.querySelector(hl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ec.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ct(d);return}d=t.ownerDocument||t,a=R_(a),(h=Cn.get(h))&&Cd(a,h),d=d.createElement("link"),ct(d);var v=d;v._p=new Promise(function(A,w){v.onload=A,v.onerror=w}),Bt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Ec.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function MS(){if(dl===null)throw Error(s(475));var t=dl;return t.stylesheets&&t.count===0&&Nd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Nd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Ec(){if(this.count--,this.count===0){if(this.stylesheets)Nd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ac=null;function Nd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ac=new Map,i.forEach(kS,t),Ac=null,Ec.call(t))}function kS(t,i){if(!(i.state.loading&4)){var a=Ac.get(t);if(a)var l=a.get(null);else{a=new Map,Ac.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Ec.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ml={$$typeof:ee,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function PS(t,i,a,l,h,d,v,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function N_(t,i,a,l,h,d,v,A,w,z,W,J){return t=new PS(t,i,a,v,A,w,z,J),i=1,d===!0&&(i|=24),d=cn(3,null,null,i),t.current=d,d.stateNode=t,i=hf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},pf(d),t}function O_(t){return t?(t=ga,t):ga}function x_(t,i,a,l,h,d){h=O_(h),l.context===null?l.context=h:l.pendingContext=h,l=hr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=fr(t,l,i),a!==null&&(pn(a,t,i),Fo(a,t,i))}function V_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Od(t,i){V_(t,i),(t=t.alternate)&&V_(t,i)}function M_(t){if(t.tag===13){var i=pa(t,67108864);i!==null&&pn(i,t,67108864),Od(t,67108864)}}var Tc=!0;function US(t,i,a,l){var h=X.T;X.T=null;var d=ae.p;try{ae.p=2,xd(t,i,a,l)}finally{ae.p=d,X.T=h}}function LS(t,i,a,l){var h=X.T;X.T=null;var d=ae.p;try{ae.p=8,xd(t,i,a,l)}finally{ae.p=d,X.T=h}}function xd(t,i,a,l){if(Tc){var h=Vd(l);if(h===null)vd(t,i,l,Sc,a),P_(t,l);else if(zS(h,t,i,a,l))l.stopPropagation();else if(P_(t,l),i&4&&-1<BS.indexOf(t)){for(;h!==null;){var d=Gn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=xn(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var w=1<<31-qt(v);A.entanglements[1]|=w,v&=~w}si(d),(Ge&6)===0&&(ac=gn()+500,ol(0))}}break;case 13:A=pa(d,2),A!==null&&pn(A,d,2),lc(),Od(d,2)}if(d=Vd(l),d===null&&vd(t,i,l,Sc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else vd(t,i,l,null,a)}}function Vd(t){return t=vn(t),Md(t)}var Sc=null;function Md(t){if(Sc=null,t=Ei(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Sc=t,null}function k_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ph()){case ho:return 2;case Ys:return 8;case $r:case Uh:return 32;case Xs:return 268435456;default:return 32}default:return 32}}var kd=!1,Rr=null,wr=null,Ir=null,pl=new Map,gl=new Map,Cr=[],BS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P_(t,i){switch(t){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":pl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(i.pointerId)}}function yl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Gn(i),i!==null&&M_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function zS(t,i,a,l,h){switch(i){case"focusin":return Rr=yl(Rr,t,i,a,l,h),!0;case"dragenter":return wr=yl(wr,t,i,a,l,h),!0;case"mouseover":return Ir=yl(Ir,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return pl.set(d,yl(pl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,gl.set(d,yl(gl.get(d)||null,t,i,a,l,h)),!0}return!1}function U_(t){var i=Ei(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,lu(t.priority,function(){if(a.tag===13){var l=mn();l=nr(l);var h=pa(a,l);h!==null&&pn(h,a,l),Od(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Vd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);bi=l,a.target.dispatchEvent(l),bi=null}else return i=Gn(a),i!==null&&M_(i),t.blockedOn=a,!1;i.shift()}return!0}function L_(t,i,a){bc(t)&&a.delete(i)}function jS(){kd=!1,Rr!==null&&bc(Rr)&&(Rr=null),wr!==null&&bc(wr)&&(wr=null),Ir!==null&&bc(Ir)&&(Ir=null),pl.forEach(L_),gl.forEach(L_)}function Rc(t,i){t.blockedOn===i&&(t.blockedOn=null,kd||(kd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jS)))}var wc=null;function B_(t){wc!==t&&(wc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Md(l||a)===null)continue;break}var d=Gn(a);d!==null&&(t.splice(i,3),i-=3,Mf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function _l(t){function i(w){return Rc(w,t)}Rr!==null&&Rc(Rr,t),wr!==null&&Rc(wr,t),Ir!==null&&Rc(Ir,t),pl.forEach(i),gl.forEach(i);for(var a=0;a<Cr.length;a++){var l=Cr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Cr.length&&(a=Cr[0],a.blockedOn===null);)U_(a),a.blockedOn===null&&Cr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[mt]||null;if(typeof d=="function")v||B_(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[mt]||null)A=v.formAction;else if(Md(h)!==null)continue}else A=v.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),B_(a)}}}function Pd(t){this._internalRoot=t}Ic.prototype.render=Pd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=mn();x_(a,l,t,i,null,null)},Ic.prototype.unmount=Pd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;x_(t.current,2,null,t,null,null),lc(),i[yn]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var i=ir();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Cr.length&&i!==0&&i<Cr[a].priority;a++);Cr.splice(a,0,t),a===0&&U_(t)}};var z_=e.version;if(z_!=="19.1.0")throw Error(s(527,z_,"19.1.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var HS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{at=Cc.inject(HS),Fe=Cc}catch{}}return El.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=ny,d=iy,v=ry,A=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=N_(t,1,!1,null,null,a,l,h,d,v,A,null),t[yn]=i.current,_d(t),new Pd(i)},El.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=ny,v=iy,A=ry,w=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=N_(t,1,!0,i,a??null,l,h,d,v,A,w,z),i.context=O_(null),a=i.current,l=mn(),l=nr(l),h=hr(l),h.callback=null,fr(a,h,l),a=l,i.current.lanes=a,vi(i,a),si(i),t[yn]=i.current,_d(t),new Ic(i)},El.version="19.1.0",El}var W_;function JS(){if(W_)return Bd.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bd.exports=ZS(),Bd.exports}var $S=JS(),Al={},Z_;function eb(){if(Z_)return Al;Z_=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.parse=f,Al.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function f(I,M){const P=new u,Q=I.length;if(Q<2)return P;const j=(M==null?void 0:M.decode)||E;let Y=0;do{const ne=I.indexOf("=",Y);if(ne===-1)break;const ee=I.indexOf(";",Y),ue=ee===-1?Q:ee;if(ne>ue){Y=I.lastIndexOf(";",ne-1)+1;continue}const ce=m(I,Y,ne),Te=p(I,ne,ce),x=I.slice(ce,Te);if(P[x]===void 0){let b=m(I,ne+1,ue),R=p(I,ue,b);const N=j(I.slice(b,R));P[x]=N}Y=ue+1}while(Y<Q);return P}function m(I,M,P){do{const Q=I.charCodeAt(M);if(Q!==32&&Q!==9)return M}while(++M<P);return P}function p(I,M,P){for(;M>P;){const Q=I.charCodeAt(--M);if(Q!==32&&Q!==9)return M+1}return P}function y(I,M,P){const Q=(P==null?void 0:P.encode)||encodeURIComponent;if(!r.test(I))throw new TypeError(`argument name is invalid: ${I}`);const j=Q(M);if(!e.test(j))throw new TypeError(`argument val is invalid: ${M}`);let Y=I+"="+j;if(!P)return Y;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);Y+="; Max-Age="+P.maxAge}if(P.domain){if(!n.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);Y+="; Domain="+P.domain}if(P.path){if(!s.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);Y+="; Path="+P.path}if(P.expires){if(!S(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);Y+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(Y+="; HttpOnly"),P.secure&&(Y+="; Secure"),P.partitioned&&(Y+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return Y}function E(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function S(I){return o.call(I)==="[object Date]"}return Al}eb();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var J_="popstate";function tb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return im("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Vl(o)}return ib(e,n,null,r)}function nt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function jn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nb(){return Math.random().toString(36).substring(2,10)}function $_(r,e){return{usr:r.state,key:r.key,idx:e}}function im(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?to(e):e,state:n,key:e&&e.key||s||nb()}}function Vl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function to(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function ib(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let j=E(),Y=j==null?null:j-y;y=j,p&&p({action:m,location:Q.location,delta:Y})}function I(j,Y){m="PUSH";let ne=im(Q.location,j,Y);y=E()+1;let ee=$_(ne,y),ue=Q.createHref(ne);try{f.pushState(ee,"",ue)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(ue)}u&&p&&p({action:m,location:Q.location,delta:1})}function M(j,Y){m="REPLACE";let ne=im(Q.location,j,Y);y=E();let ee=$_(ne,y),ue=Q.createHref(ne);f.replaceState(ee,"",ue),u&&p&&p({action:m,location:Q.location,delta:0})}function P(j){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof j=="string"?j:Vl(j);return ne=ne.replace(/ $/,"%20"),nt(Y,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,Y)}let Q={get action(){return m},get location(){return r(o,f)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(J_,S),p=j,()=>{o.removeEventListener(J_,S),p=null}},createHref(j){return e(o,j)},createURL:P,encodeLocation(j){let Y=P(j);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:I,replace:M,go(j){return f.go(j)}};return Q}function VE(r,e,n="/"){return rb(r,e,n,!1)}function rb(r,e,n,s){let o=typeof e=="string"?to(e):e,u=Wi(o.pathname||"/",n);if(u==null)return null;let f=ME(r);sb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=gb(u);m=mb(f[p],y,s)}return m}function ME(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(nt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Qi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(nt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),ME(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:fb(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of kE(u.path))o(u,f,p)}),e}function kE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=kE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function sb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:db(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ab=/^:[\w-]+$/,ob=3,lb=2,ub=1,cb=10,hb=-2,ev=r=>r==="*";function fb(r,e){let n=r.split("/"),s=n.length;return n.some(ev)&&(s+=hb),e&&(s+=lb),n.filter(o=>!ev(o)).reduce((o,u)=>o+(ab.test(u)?ob:u===""?ub:cb),s)}function db(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function mb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=Xc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),I=p.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=Xc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Qi([u,S.pathname]),pathnameBase:Eb(Qi([u,S.pathnameBase])),route:I}),S.pathnameBase!=="/"&&(u=Qi([u,S.pathnameBase]))}return f}function Xc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=pb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},I)=>{if(E==="*"){let P=m[I]||"";f=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const M=m[I];return S&&!M?y[E]=void 0:y[E]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function pb(r,e=!1,n=!0){jn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function gb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Wi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function yb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?to(r):r;return{pathname:n?n.startsWith("/")?n:_b(n,e):e,search:Ab(s),hash:Tb(o)}}function _b(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function qd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Om(r){let e=vb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function xm(r,e,n,s=!1){let o;typeof r=="string"?o=to(r):(o={...r},nt(!o.pathname||!o.pathname.includes("?"),qd("?","pathname","search",o)),nt(!o.pathname||!o.pathname.includes("#"),qd("#","pathname","hash",o)),nt(!o.search||!o.search.includes("#"),qd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),S-=1;o.pathname=I.join("/")}m=S>=0?e[S]:"/"}let p=yb(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Qi=r=>r.join("/").replace(/\/\/+/g,"/"),Eb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Ab=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Tb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Sb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var PE=["POST","PUT","PATCH","DELETE"];new Set(PE);var bb=["GET",...PE];new Set(bb);var no=K.createContext(null);no.displayName="DataRouter";var yh=K.createContext(null);yh.displayName="DataRouterState";var UE=K.createContext({isTransitioning:!1});UE.displayName="ViewTransition";var Rb=K.createContext(new Map);Rb.displayName="Fetchers";var wb=K.createContext(null);wb.displayName="Await";var Hn=K.createContext(null);Hn.displayName="Navigation";var Kl=K.createContext(null);Kl.displayName="Location";var mi=K.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var Vm=K.createContext(null);Vm.displayName="RouteError";function Ib(r,{relative:e}={}){nt(io(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=K.useContext(Hn),{hash:o,pathname:u,search:f}=Yl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Qi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function io(){return K.useContext(Kl)!=null}function Kr(){return nt(io(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Kl).location}var LE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BE(r){K.useContext(Hn).static||K.useLayoutEffect(r)}function Ql(){let{isDataRoute:r}=K.useContext(mi);return r?zb():Cb()}function Cb(){nt(io(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(no),{basename:e,navigator:n}=K.useContext(Hn),{matches:s}=K.useContext(mi),{pathname:o}=Kr(),u=JSON.stringify(Om(s)),f=K.useRef(!1);return BE(()=>{f.current=!0}),K.useCallback((p,y={})=>{if(jn(f.current,LE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=xm(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Qi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}K.createContext(null);function Yl(r,{relative:e}={}){let{matches:n}=K.useContext(mi),{pathname:s}=Kr(),o=JSON.stringify(Om(n));return K.useMemo(()=>xm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Db(r,e){return zE(r,e)}function zE(r,e,n,s){var ne;nt(io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=K.useContext(Hn),{matches:f}=K.useContext(mi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let ee=S&&S.path||"";jE(y,!S||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let I=Kr(),M;if(e){let ee=typeof e=="string"?to(e):e;nt(E==="/"||((ne=ee.pathname)==null?void 0:ne.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),M=ee}else M=I;let P=M.pathname||"/",Q=P;if(E!=="/"){let ee=E.replace(/^\//,"").split("/");Q="/"+P.replace(/^\//,"").split("/").slice(ee.length).join("/")}let j=!u&&n&&n.matches&&n.matches.length>0?n.matches:VE(r,{pathname:Q});jn(S||j!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),jn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=Mb(j&&j.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:Qi([E,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?E:Qi([E,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),f,n,s);return e&&Y?K.createElement(Kl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Y):Y}function Nb(){let r=Bb(),e=Sb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:o},n):null,f)}var Ob=K.createElement(Nb,null),xb=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?K.createElement(mi.Provider,{value:this.props.routeContext},K.createElement(Vm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Vb({routeContext:r,match:e,children:n}){let s=K.useContext(no);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(mi.Provider,{value:r},n)}function Mb(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);nt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:S}=n,I=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||I){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let S,I=!1,M=null,P=null;n&&(S=u&&y.route.id?u[y.route.id]:void 0,M=y.route.errorElement||Ob,f&&(m<0&&E===0?(jE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,P=null):m===E&&(I=!0,P=y.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,E+1)),j=()=>{let Y;return S?Y=M:I?Y=P:y.route.Component?Y=K.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=p,K.createElement(Vb,{match:y,routeContext:{outlet:p,matches:Q,isDataRoute:n!=null},children:Y})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?K.createElement(xb,{location:n.location,revalidation:n.revalidation,component:M,error:S,children:j(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):j()},null)}function Mm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kb(r){let e=K.useContext(no);return nt(e,Mm(r)),e}function Pb(r){let e=K.useContext(yh);return nt(e,Mm(r)),e}function Ub(r){let e=K.useContext(mi);return nt(e,Mm(r)),e}function km(r){let e=Ub(r),n=e.matches[e.matches.length-1];return nt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Lb(){return km("useRouteId")}function Bb(){var s;let r=K.useContext(Vm),e=Pb("useRouteError"),n=km("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function zb(){let{router:r}=kb("useNavigate"),e=km("useNavigate"),n=K.useRef(!1);return BE(()=>{n.current=!0}),K.useCallback(async(o,u={})=>{jn(n.current,LE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var tv={};function jE(r,e,n){!e&&!tv[r]&&(tv[r]=!0,jn(!1,n))}K.memo(jb);function jb({routes:r,future:e,state:n}){return zE(r,void 0,n,e)}function Hb({to:r,replace:e,state:n,relative:s}){nt(io(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=K.useContext(Hn);jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=K.useContext(mi),{pathname:f}=Kr(),m=Ql(),p=xm(r,Om(u),f,s==="path"),y=JSON.stringify(p);return K.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function Vs(r){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qb({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){nt(!io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=to(n));let{pathname:p="/",search:y="",hash:E="",state:S=null,key:I="default"}=n,M=K.useMemo(()=>{let P=Wi(p,f);return P==null?null:{location:{pathname:P,search:y,hash:E,state:S,key:I},navigationType:s}},[f,p,y,E,S,I,s]);return jn(M!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:K.createElement(Hn.Provider,{value:m},K.createElement(Kl.Provider,{children:e,value:M}))}function Fb({children:r,location:e}){return Db(rm(r),e)}function rm(r,e=[]){let n=[];return K.Children.forEach(r,(s,o)=>{if(!K.isValidElement(s))return;let u=[...e,o];if(s.type===K.Fragment){n.push.apply(n,rm(s.props.children,u));return}nt(s.type===Vs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=rm(s.props.children,u)),n.push(f)}),n}var Lc="get",Bc="application/x-www-form-urlencoded";function _h(r){return r!=null&&typeof r.tagName=="string"}function Gb(r){return _h(r)&&r.tagName.toLowerCase()==="button"}function Kb(r){return _h(r)&&r.tagName.toLowerCase()==="form"}function Qb(r){return _h(r)&&r.tagName.toLowerCase()==="input"}function Yb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Xb(r,e){return r.button===0&&(!e||e==="_self")&&!Yb(r)}var Dc=null;function Wb(){if(Dc===null)try{new FormData(document.createElement("form"),0),Dc=!1}catch{Dc=!0}return Dc}var Zb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fd(r){return r!=null&&!Zb.has(r)?(jn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bc}"`),null):r}function Jb(r,e){let n,s,o,u,f;if(Kb(r)){let m=r.getAttribute("action");s=m?Wi(m,e):null,n=r.getAttribute("method")||Lc,o=Fd(r.getAttribute("enctype"))||Bc,u=new FormData(r)}else if(Gb(r)||Qb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Wi(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Lc,o=Fd(r.getAttribute("formenctype"))||Fd(m.getAttribute("enctype"))||Bc,u=new FormData(m,r),!Wb()){let{name:y,type:E,value:S}=r;if(E==="image"){let I=y?`${y}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else y&&u.append(y,S)}}else{if(_h(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lc,s=null,o=Bc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Pm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function $b(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function tR(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await $b(u,n);return f.links?f.links():[]}return[]}));return sR(s.flat(1).filter(eR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function nv(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var S;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function nR(r,e,{includeHydrateFallback:n}={}){return iR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function iR(r){return[...new Set(r)]}function rR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function sR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(rR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function aR(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Wi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function HE(){let r=K.useContext(no);return Pm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function oR(){let r=K.useContext(yh);return Pm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Um=K.createContext(void 0);Um.displayName="FrameworkContext";function qE(){let r=K.useContext(Um);return Pm(r,"You must render this element inside a <HydratedRouter> element"),r}function lR(r,e){let n=K.useContext(Um),[s,o]=K.useState(!1),[u,f]=K.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,I=K.useRef(null);K.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=Y=>{Y.forEach(ne=>{f(ne.isIntersecting)})},j=new IntersectionObserver(Q,{threshold:.5});return I.current&&j.observe(I.current),()=>{j.disconnect()}}},[r]),K.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let M=()=>{o(!0)},P=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,I,{}]:[u,I,{onFocus:Tl(m,M),onBlur:Tl(p,P),onMouseEnter:Tl(y,M),onMouseLeave:Tl(E,P),onTouchStart:Tl(S,M)}]:[!1,I,{}]}function Tl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function uR({page:r,...e}){let{router:n}=HE(),s=K.useMemo(()=>VE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?K.createElement(hR,{page:r,matches:s,...e}):null}function cR(r){let{manifest:e,routeModules:n}=qE(),[s,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return tR(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function hR({page:r,matches:e,...n}){let s=Kr(),{manifest:o,routeModules:u}=qE(),{basename:f}=HE(),{loaderData:m,matches:p}=oR(),y=K.useMemo(()=>nv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=K.useMemo(()=>nv(r,e,p,o,s,"assets"),[r,e,p,o,s]),S=K.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let P=new Set,Q=!1;if(e.forEach(Y=>{var ee;let ne=o.routes[Y.route.id];!ne||!ne.hasLoader||(!y.some(ue=>ue.route.id===Y.route.id)&&Y.route.id in m&&((ee=u[Y.route.id])!=null&&ee.shouldRevalidate)||ne.hasClientLoader?Q=!0:P.add(Y.route.id))}),P.size===0)return[];let j=aR(r,f);return Q&&P.size>0&&j.searchParams.set("_routes",e.filter(Y=>P.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[j.pathname+j.search]},[f,m,s,o,y,e,r,u]),I=K.useMemo(()=>nR(E,o),[E,o]),M=cR(E);return K.createElement(K.Fragment,null,S.map(P=>K.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),I.map(P=>K.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),M.map(({key:P,link:Q})=>K.createElement("link",{key:P,...Q})))}function fR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var FE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FE&&(window.__reactRouterVersion="7.4.1")}catch{}function dR({basename:r,children:e,window:n}){let s=K.useRef();s.current==null&&(s.current=tb({window:n,v5Compat:!0}));let o=s.current,[u,f]=K.useState({action:o.action,location:o.location}),m=K.useCallback(p=>{K.startTransition(()=>f(p))},[f]);return K.useLayoutEffect(()=>o.listen(m),[o,m]),K.createElement(qb,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var GE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ro=K.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:S,...I},M){let{basename:P}=K.useContext(Hn),Q=typeof y=="string"&&GE.test(y),j,Y=!1;if(typeof y=="string"&&Q&&(j=y,FE))try{let R=new URL(window.location.href),N=y.startsWith("//")?new URL(R.protocol+y):new URL(y),V=Wi(N.pathname,P);N.origin===R.origin&&V!=null?y=V+N.search+N.hash:Y=!0}catch{jn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=Ib(y,{relative:o}),[ee,ue,ce]=lR(s,I),Te=yR(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function x(R){e&&e(R),R.defaultPrevented||Te(R)}let b=K.createElement("a",{...I,...ce,href:j||ne,onClick:Y||u?e:x,ref:fR(M,ue),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return ee&&!Q?K.createElement(K.Fragment,null,b,K.createElement(uR,{page:ne})):b});ro.displayName="Link";var mR=K.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let S=Yl(f,{relative:y.relative}),I=Kr(),M=K.useContext(yh),{navigator:P,basename:Q}=K.useContext(Hn),j=M!=null&&TR(S)&&m===!0,Y=P.encodeLocation?P.encodeLocation(S).pathname:S.pathname,ne=I.pathname,ee=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ee=ee?ee.toLowerCase():null,Y=Y.toLowerCase()),ee&&Q&&(ee=Wi(ee,Q)||ee);const ue=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ce=ne===Y||!o&&ne.startsWith(Y)&&ne.charAt(ue)==="/",Te=ee!=null&&(ee===Y||!o&&ee.startsWith(Y)&&ee.charAt(Y.length)==="/"),x={isActive:ce,isPending:Te,isTransitioning:j},b=ce?e:void 0,R;typeof s=="function"?R=s(x):R=[s,ce?"active":null,Te?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(x):u;return K.createElement(ro,{...y,"aria-current":b,className:R,ref:E,style:N,to:f,viewTransition:m},typeof p=="function"?p(x):p)});mR.displayName="NavLink";var pR=K.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Lc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:S,...I},M)=>{let P=ER(),Q=AR(m,{relative:y}),j=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&GE.test(m),ne=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let ue=ee.nativeEvent.submitter,ce=(ue==null?void 0:ue.getAttribute("formmethod"))||f;P(ue||ee.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S})};return K.createElement("form",{ref:M,method:j,action:Q,onSubmit:s?p:ne,...I,"data-discover":!Y&&r==="render"?"true":void 0})});pR.displayName="Form";function gR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KE(r){let e=K.useContext(no);return nt(e,gR(r)),e}function yR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Ql(),p=Kr(),y=Yl(r,{relative:u});return K.useCallback(E=>{if(Xb(E,e)){E.preventDefault();let S=n!==void 0?n:Vl(p)===Vl(y);m(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var _R=0,vR=()=>`__${String(++_R)}__`;function ER(){let{router:r}=KE("useSubmit"),{basename:e}=K.useContext(Hn),n=Lb();return K.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=Jb(s,e);if(o.navigate===!1){let E=o.fetcherKey||vR();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function AR(r,{relative:e}={}){let{basename:n}=K.useContext(Hn),s=K.useContext(mi);nt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Yl(r||".",{relative:e})},f=Kr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Qi([n,u.pathname])),Vl(u)}function TR(r,e={}){let n=K.useContext(UE);nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=KE("useViewTransitionState"),o=Yl(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Wi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Wi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Xc(o.pathname,f)!=null||Xc(o.pathname,u)!=null}new TextEncoder;const QE="/trendish/assets/TrendishLogo-Blawx6-f.png",SR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAG10lEQVR42s3ZfYxUVxnH8e85d2b2fZe3tbQFi6VQbSpS5LVGUIQiprEppCqiphbsliJto6QQqdJAaiVGG2mEVPuHf5iYYluJWlOoIVFTggulKDTSlEDYFgsLy77My3075zxis25mstvdu9NlnU/yZM65k5N5fnOSk5t7GQn+ppYp/qYNawvfXf+LwrfXHCqs/+ZbhXXfaM+3fD24UnGh5WvdVz7b/HX3/s3fsPZX+Ye/1fLfNYwAldu4kTJN1Kl4jfL9FRL5t0nBV0QRiAAC8r+i/zydhupq0VU1r0t1am9szS6ggzKo/I+2MkyT1OVL2yVfWKXyuSqJ46IGSRKgdK49qK/LX6k9VKnvA+cgOSVbEwfIBIWOJ/ALD0i2px5xICDOlRugtACamnK6pump6mtv2AYYEvBIIE6FHw+zl/fRefluAj+DCH1EGBEiEPgZ8XOLwjD/xSjseRVoZwjK3/QwQ7hP8tmd5HJ1Jf8cMpI7ULJOBFRjYw9NTfcBLzCIFIPwlH7IdF36CWGYYpRJV1edC6KxDEHDwMTZ78Wdl54iika/eQhjpb4EPFtWAKnyVkkuu02ZWDPKrFMFX9xK4EWAYQfQ1alb6ezepaLIowwCRM7hW0vevFcUrH3vmjC42Ll81toVwEsAww5QfeMtadudfw6/MIZhKlgrPXF8uMsPn+yJ3LJO5aaJFzRIKmgIQjc9G7P8YhD+uCuOjwTW9W9eXGfeuWXAPkhO5TY/RJGt+nLH4zg39OmBgEAQG+eb+PlIqSeBYyTg/HBOGvtovdYrq5RSgTUXc6KXA68xTMrf3UKvKfJGfJwwqEckUYB8ZM4ENl4LHKAMzs/dkbL6cd9E9wMnKIOSY0vp9UvXwdzw+eaPEktmsAAiQk8cH8wH3t1AO/9HGoDaSc244Mu6qWtG1b1t59Q4d4FB5KKoNTbtSxI0P0oBcmfXIWEDgPaCj1Tfc7rKuyk6yQAKxpzttvGdgA9QGQG0vYtiyo3JLDkz3VvadUQUQi/jxIWBuR+4SIXQpBtuwEYzgVIKnZl6YXbt6nf/IWn83nN6L7CfCqKxl5aB07yfhp6ZtWvOXJDxpi0Kwx1UGCWvL9yNCx/oO3Hoq5J5ZFwrMI9hWvn2IYGim1WAorETKPleAATpv6bkGoBxPJ3CRbeSiP0LZbhY6N+MFDXtABmgOZHidQOHcSJTNaInk4ATDlBpRE3TKGkgAeW8M1QaxRgN1JNArsd/l4ojjRqEJMY3ekKFUYLVIFmSyGSuo/J0aiRhAHFTqDSayxpcG4moz1FxVFsKpU8ACxnCORrnUAYXFfqd5xTNXel5DwIqU0tCxzUqOsoQ/mCmnliW/cwn53cuKCeEGk6p6rplKEUSInJEEze9hGAZgBMlj0Xzj24q3HyLRRpqM+lNXG2OLQm7txZ3QAPnQfrtQk4y+RX+Hcd/F4ybBUoDKGHF/Ny8z3O1pGtXoVhIEkofBDo1ANgXKXLCTmhbnFvSfcp4MyimUDWkdy8O5k9ghEW6/nqteJqkxP0aQAOQqXkGIQvwG/exY6tzc5t9kesYgFJ6io1Tf/xUsLSaEWLqqsdXpe0+UONJQKBHPPMcgAoPz6HXz7dEt8/bHzTOEiVKEERA+m5tpWRssa025C7gPJSvvn3bZM/avaLUrKR3o+LYAWwG0PRa1L30h6+EjdNQKBLQ6LleRr1qUvazlCkKJy71nGlFqVkkpIRugZ/2zT9xYCtFHhXcDkEYZAdKxs6JAL8NY0n8YCtU/mxRaivInWnX9Fpz+yM3KVfblGgHhEeAn9FL3bNnD0W8kxP+eRSYkThA31gQkVbr3CtO27+mtXcqdN4FAJxpdtpNx8hCh3xBKXWbAILgRNDivf2hjgfjVDT5xsECIBy69nz9pwFDLzVz/zYoNc2lor87ZOzwA8CQu4cg0jcuWo8/Lrv8jbrs4tkDBkB1izWzgNNDPV5/y1PeV0WIGU1CTUf9n2ZfbN550GFiighi0HwFOJ30BcfLztmNII5RVkidvf3fE7f9y+hsBwCI09auA15mAJr3txOhBcEwygz5Ge9cs90E6TdPYOOWwd7UaAb3rAnMapzrYZSJi6vP1z2zpa/5MgMA7HF5OxdjjyBcfQLE5rDNxfOB3zMETTJvXlNVs8D44XZi6eYqkchl8c1jedOzADhJAprkDPCDTOTf7ArhLolsAeGDE5DI5MQPd7vucDrwBGBJSDN8F4D1VZ6b7LLBd8SPWgmN4ITEHBAZJ/n4sGSDzaqQ+jDwYDn3Ver6FzYwAiZ51i4Spec5T2YqpZtFZKxT0oTCcyIFZ10nwhln7Skx9iA1+s/AOx/0h/8DfgHPxlRCLB0AAAAASUVORK5CYII=",bR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADsElEQVR42tWZS0hUURjHz6LHsqKac6eiWvSg1m1bt4qKgqxVmx7QE2rOuVpku1am0iKCINoGVouIWsSoSFrmaGKFqBCKRZk657tzHedxPfkHZcp8zfXM3Jk/fDDMvffc8zuP7/vOd5kJbb6RsEIyftqSVM8FvbEE9XFBY5ZUaRh+4z9cwz0hO34Kz7AgtcVWG7lQV7ikdkuS9mNc0Acu45fRFiuWtgp3myWojgty0QlDluCSardVuVtZwXROrw5JddUS5OClhTAMCpfqzq7Leq3Z5RJRey2huvCSYhiXqnOLrfYwE7IkHc+NelGNwpKOsZWIS3XGEiqDBoMxlbVsuuBv5AWdRyOlYPBUeS8b0JcKAPoSjtDRPDas2TW/vYqSZ564nU870tGW/mxjbDDb3NibaWyIpaMPmieb5PNk68GaxLel9sSmiNrNFtP+ar3GpLfZeYsmnnWlo57Wo3oJDY55bUu7WRWDO19k05JtqvMH7tL3RMr7qmdkAGDWxUbYfEIUREQ0MvI3HTeR9L5oyDAAlvemqkR4Pq9TZ2r0X39ORzVkGCA3C1TzX2JmKrfZfZvI8zQVEACW+CcBhJ81Nfo3GpJtehlKZ/XQ+IT3acTxOmAvu9PR/PKm+KW/AKjdFEBTX6Zx8Y57wxWP3G4D73rPIGwIS6opUwD9v7Lv9CI68dDtMRTcpvh1J8RwOjIZtH6S16EXUMbTw0ZTDNs5yXDEM9noqOt16gWENW8UQFItwzm1WAC4ZhjgFfz/QLkCoFAADzRavjOgRhgXKlXGAJMMdRs/D6cyekAbVOWLZGveAEKlsITGSwHgUL3Tlz8A/WbYCCUA4OHQ4wOgN+dGgwNAXjTo240ikAUN8ENl21cQyJyKoAFwTvYZB04wnMT8JHOU1D2e1uNzDSmPXliZ+Z6peZtqzr/zyputcGMjt5VbHOBCtbBZhYW6VoYAV9isdlwdX49jWhkB0AY5tm5uNe5+EAC+vc9c4XQDspIHEOSEKh3O5lNIUlWpA3CbJFtQ1XoVF/QxWAD/pcVccVdSvAQByBK0jy1HKGUjUJQOgMqGJB3J++sMInTwAGoqbNM55kf4vAP64ABUNizoLFuJMHVYf0UHEKS4VIeZCeHLCJfUUSwAlDo32/FdzKjgYqWKIOUoHADaVtfxLlYoIQpyQfemzTUIkEDNH9kAK5aQAKLEjVQcLjdfgJlnWrl0LuYSswCUmxWnAqM4NOY91lrHpm1w2lzYzO8YruEe3GtqtP8Aeg51eq+z5vwAAAAASUVORK5CYII=",RR=()=>{};var iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},wR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},XE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let I=(m&15)<<2|y>>6,M=y&63;p||(M=64,f||(I=64)),s.push(n[E],n[S],n[I],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(YE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):wR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new IR;const I=u<<2|m>>4;if(s.push(I),y!==64){const M=m<<4&240|y>>2;if(s.push(M),S!==64){const P=y<<6&192|S;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class IR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CR=function(r){const e=YE(r);return XE.encodeByteArray(e,!0)},Wc=function(r){return CR(r).replace(/\./g,"")},WE=function(r){try{return XE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=()=>DR().__FIREBASE_DEFAULTS__,OR=()=>{if(typeof process>"u"||typeof iv>"u")return;const r=iv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},xR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&WE(r[1]);return e&&JSON.parse(e)},vh=()=>{try{return RR()||NR()||OR()||xR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ZE=r=>{var e,n;return(n=(e=vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},JE=r=>{const e=ZE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},$E=()=>{var r;return(r=vh())===null||r===void 0?void 0:r.config},eA=r=>{var e;return(e=vh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Wc(JSON.stringify(n)),Wc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function kR(){var r;const e=(r=vh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function LR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BR(){const r=Xt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function zR(){return!kR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jR(){try{return typeof indexedDB=="object"}catch{return!1}}function HR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="FirebaseError";class pi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=qR,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?FR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new pi(o,m,s)}}function FR(r,e){return r.replace(GR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const GR=/\{\$([^}]+)}/g;function KR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Us(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(rv(u)&&rv(f)){if(!Us(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function rv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Sl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function bl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function QR(r,e){const n=new YR(r,e);return n.subscribe.bind(n)}class YR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");XR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Gd),o.error===void 0&&(o.error=Gd),o.complete===void 0&&(o.complete=Gd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Gd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(r){return r&&r._delegate?r._delegate:r}class Br{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new VR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JR(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ZR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZR(r){return r===Ms?void 0:r}function JR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const ew={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},tw=Ve.INFO,nw={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},iw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=nw[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=tw,this._logHandler=iw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ew[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const rw=(r,e)=>e.some(n=>r instanceof n);let sv,av;function sw(){return sv||(sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aw(){return av||(av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nA=new WeakMap,sm=new WeakMap,iA=new WeakMap,Kd=new WeakMap,Bm=new WeakMap;function ow(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(kr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&nA.set(n,r)}).catch(()=>{}),Bm.set(e,r),e}function lw(r){if(sm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});sm.set(r,e)}let am={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return sm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||iA.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return kr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function uw(r){am=r(am)}function cw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Qd(this),e,...n);return iA.set(s,e.sort?e.sort():[e]),kr(s)}:aw().includes(r)?function(...e){return r.apply(Qd(this),e),kr(nA.get(this))}:function(...e){return kr(r.apply(Qd(this),e))}}function hw(r){return typeof r=="function"?cw(r):(r instanceof IDBTransaction&&lw(r),rw(r,sw())?new Proxy(r,am):r)}function kr(r){if(r instanceof IDBRequest)return ow(r);if(Kd.has(r))return Kd.get(r);const e=hw(r);return e!==r&&(Kd.set(r,e),Bm.set(e,r)),e}const Qd=r=>Bm.get(r);function fw(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=kr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(kr(f.result),p.oldVersion,p.newVersion,kr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const dw=["get","getKey","getAll","getAllKeys","count"],mw=["put","add","delete","clear"],Yd=new Map;function ov(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Yd.get(e))return Yd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=mw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||dw.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Yd.set(e,u),u}uw(r=>({...r,get:(e,n,s)=>ov(e,n)||r.get(e,n,s),has:(e,n)=>!!ov(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function gw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const om="@firebase/app",lv="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Lm("@firebase/app"),yw="@firebase/app-compat",_w="@firebase/analytics-compat",vw="@firebase/analytics",Ew="@firebase/app-check-compat",Aw="@firebase/app-check",Tw="@firebase/auth",Sw="@firebase/auth-compat",bw="@firebase/database",Rw="@firebase/data-connect",ww="@firebase/database-compat",Iw="@firebase/functions",Cw="@firebase/functions-compat",Dw="@firebase/installations",Nw="@firebase/installations-compat",Ow="@firebase/messaging",xw="@firebase/messaging-compat",Vw="@firebase/performance",Mw="@firebase/performance-compat",kw="@firebase/remote-config",Pw="@firebase/remote-config-compat",Uw="@firebase/storage",Lw="@firebase/storage-compat",Bw="@firebase/firestore",zw="@firebase/vertexai",jw="@firebase/firestore-compat",Hw="firebase",qw="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="[DEFAULT]",Fw={[om]:"fire-core",[yw]:"fire-core-compat",[vw]:"fire-analytics",[_w]:"fire-analytics-compat",[Aw]:"fire-app-check",[Ew]:"fire-app-check-compat",[Tw]:"fire-auth",[Sw]:"fire-auth-compat",[bw]:"fire-rtdb",[Rw]:"fire-data-connect",[ww]:"fire-rtdb-compat",[Iw]:"fire-fn",[Cw]:"fire-fn-compat",[Dw]:"fire-iid",[Nw]:"fire-iid-compat",[Ow]:"fire-fcm",[xw]:"fire-fcm-compat",[Vw]:"fire-perf",[Mw]:"fire-perf-compat",[kw]:"fire-rc",[Pw]:"fire-rc-compat",[Uw]:"fire-gcs",[Lw]:"fire-gcs-compat",[Bw]:"fire-fst",[jw]:"fire-fst-compat",[zw]:"fire-vertex","fire-js":"fire-js",[Hw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,Gw=new Map,um=new Map;function uv(r,e){try{r.container.addComponent(e)}catch(n){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ls(r){const e=r.name;if(um.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,r);for(const n of Zc.values())uv(n,r);for(const n of Gw.values())uv(n,r);return!0}function Eh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function sn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new Xl("app","Firebase",Kw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=qw;function rA(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:lm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Pr.create("bad-app-name",{appName:String(o)});if(n||(n=$E()),!n)throw Pr.create("no-options");const u=Zc.get(o);if(u){if(Us(n,u.options)&&Us(s,u.config))return u;throw Pr.create("duplicate-app",{appName:o})}const f=new $R(o);for(const p of um.values())f.addComponent(p);const m=new Qw(n,s,f);return Zc.set(o,m),m}function zm(r=lm){const e=Zc.get(r);if(!e&&r===lm&&$E())return rA();if(!e)throw Pr.create("no-app",{appName:r});return e}function oi(r,e,n){var s;let o=(s=Fw[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(m.join(" "));return}Ls(new Br(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="firebase-heartbeat-database",Xw=1,Ml="firebase-heartbeat-store";let Xd=null;function sA(){return Xd||(Xd=fw(Yw,Xw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ml)}catch(n){console.warn(n)}}}}).catch(r=>{throw Pr.create("idb-open",{originalErrorMessage:r.message})})),Xd}async function Ww(r){try{const n=(await sA()).transaction(Ml),s=await n.objectStore(Ml).get(aA(r));return await n.done,s}catch(e){if(e instanceof pi)Zi.warn(e.message);else{const n=Pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zi.warn(n.message)}}}async function cv(r,e){try{const s=(await sA()).transaction(Ml,"readwrite");await s.objectStore(Ml).put(e,aA(r)),await s.done}catch(n){if(n instanceof pi)Zi.warn(n.message);else{const s=Pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zi.warn(s.message)}}}function aA(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=1024,Jw=30;class $w{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=hv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Jw){const f=nI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Zi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hv(),{heartbeatsToSend:s,unsentEntries:o}=eI(this._heartbeatsCache.heartbeats),u=Wc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Zi.warn(n),""}}}function hv(){return new Date().toISOString().substring(0,10)}function eI(r,e=Zw){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),fv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),fv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class tI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jR()?HR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ww(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return cv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return cv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function fv(r){return Wc(JSON.stringify({version:2,heartbeats:r})).length}function nI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(r){Ls(new Br("platform-logger",e=>new pw(e),"PRIVATE")),Ls(new Br("heartbeat",e=>new $w(e),"PRIVATE")),oi(om,lv,r),oi(om,lv,"esm2017"),oi("fire-js","")}iI("");function jm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function oA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rI=oA,lA=new Xl("auth","Firebase",oA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new Lm("@firebase/auth");function sI(r,...e){Jc.logLevel<=Ve.WARN&&Jc.warn(`Auth (${qs}): ${r}`,...e)}function zc(r,...e){Jc.logLevel<=Ve.ERROR&&Jc.error(`Auth (${qs}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(r,...e){throw qm(r,...e)}function zn(r,...e){return qm(r,...e)}function Hm(r,e,n){const s=Object.assign(Object.assign({},rI()),{[e]:n});return new Xl("auth","Firebase",s).create(e,{appName:r.name})}function Yi(r){return Hm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aI(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&On(r,"argument-error"),Hm(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return lA.create(r,...e)}function ve(r,e,...n){if(!r)throw qm(e,...n)}function Fi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw zc(e),new Error(e)}function Ji(r,e){r||Fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function oI(){return dv()==="http:"||dv()==="https:"}function dv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oI()||UR()||"connection"in navigator)?navigator.onLine:!0}function uI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ji(n>e,"Short delay should be less than long delay!"),this.isMobile=MR()||LR()}get(){return lI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(r,e){Ji(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=new Zl(3e4,6e4);function Qr(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Yr(r,e,n,s,o={}){return cA(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Wl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return PR()||(y.referrerPolicy="no-referrer"),uA.fetch()(hA(r,r.config.apiHost,n,m),y)})}async function cA(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},cI),e);try{const o=new dI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Nc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Nc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Nc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Hm(r,E,y);On(r,E)}}catch(o){if(o instanceof pi)throw o;On(r,"network-request-failed",{message:String(o)})}}async function Jl(r,e,n,s,o={}){const u=await Yr(r,e,n,s,o);return"mfaPendingCredential"in u&&On(r,"multi-factor-auth-required",{_serverResponse:u}),u}function hA(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?Fm(r.config,o):`${r.config.apiScheme}://${o}`}function fI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(zn(this.auth,"network-request-failed")),hI.get())})}}function Nc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=zn(r,e,s);return o.customData._tokenResponse=n,o}function mv(r){return r!==void 0&&r.enterprise!==void 0}class mI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pI(r,e){return Yr(r,"GET","/v2/recaptchaConfig",Qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(r,e){return Yr(r,"POST","/v1/accounts:delete",e)}async function fA(r,e){return Yr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yI(r,e=!1){const n=an(r),s=await n.getIdToken(e),o=Gm(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Cl(Wd(o.auth_time)),issuedAtTime:Cl(Wd(o.iat)),expirationTime:Cl(Wd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Wd(r){return Number(r)*1e3}function Gm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=WE(n);return o?JSON.parse(o):(zc("Failed to decode base64 JWT payload"),null)}catch(o){return zc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function pv(r){const e=Gm(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof pi&&_I(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function _I({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(r){var e;const n=r.auth,s=await r.getIdToken(),o=await kl(r,fA(n,{idToken:s}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?dA(u.providerUserInfo):[],m=AI(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new hm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,S)}async function EI(r){const e=an(r);await $c(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function dA(r){return r.map(e=>{var{providerId:n}=e,s=jm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(r,e){const n=await cA(r,{},async()=>{const s=Wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=hA(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",uA.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SI(r,e){return Yr(r,"POST","/v2/accounts:revokeToken",Qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=pv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await TI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Fa;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Gi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=jm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new hm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await kl(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yI(this,e)}reload(){return EI(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await $c(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sn(this.auth.app))return Promise.reject(Yi(this.auth));const e=await this.getIdToken();return await kl(this,gI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,E;const S=(s=n.displayName)!==null&&s!==void 0?s:void 0,I=(o=n.email)!==null&&o!==void 0?o:void 0,M=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,P=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,j=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ne=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ee,emailVerified:ue,isAnonymous:ce,providerData:Te,stsTokenManager:x}=n;ve(ee&&x,e,"internal-error");const b=Fa.fromJSON(this.name,x);ve(typeof ee=="string",e,"internal-error"),Nr(S,e.name),Nr(I,e.name),ve(typeof ue=="boolean",e,"internal-error"),ve(typeof ce=="boolean",e,"internal-error"),Nr(M,e.name),Nr(P,e.name),Nr(Q,e.name),Nr(j,e.name),Nr(Y,e.name),Nr(ne,e.name);const R=new Gi({uid:ee,auth:e,email:I,emailVerified:ue,displayName:S,isAnonymous:ce,photoURL:P,phoneNumber:M,tenantId:Q,stsTokenManager:b,createdAt:Y,lastLoginAt:ne});return Te&&Array.isArray(Te)&&(R.providerData=Te.map(N=>Object.assign({},N))),j&&(R._redirectEventId=j),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new Fa;o.updateFromServerResponse(n);const u=new Gi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await $c(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?dA(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Fa;m.updateFromIdToken(s);const p=new Gi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new Map;function Ki(r){Ji(r instanceof Function,"Expected a class definition");let e=gv.get(r);return e?(Ji(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,gv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mA.type="NONE";const yv=mA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ga{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=jc(this.userKey,o.apiKey,u),this.fullPersistenceKey=jc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ga(Ki(yv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Ki(yv);const f=jc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){const S=Gi._fromJSON(e,E);y!==u&&(m=S),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ga(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ga(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_A(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EA(e))return"Blackberry";if(AA(e))return"Webos";if(gA(e))return"Safari";if((e.includes("chrome/")||yA(e))&&!e.includes("edge/"))return"Chrome";if(vA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function pA(r=Xt()){return/firefox\//i.test(r)}function gA(r=Xt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yA(r=Xt()){return/crios\//i.test(r)}function _A(r=Xt()){return/iemobile/i.test(r)}function vA(r=Xt()){return/android/i.test(r)}function EA(r=Xt()){return/blackberry/i.test(r)}function AA(r=Xt()){return/webos/i.test(r)}function Km(r=Xt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function bI(r=Xt()){var e;return Km(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RI(){return BR()&&document.documentMode===10}function TA(r=Xt()){return Km(r)||vA(r)||AA(r)||EA(r)||/windows phone/i.test(r)||_A(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(r,e=[]){let n;switch(r){case"Browser":n=_v(Xt());break;case"Worker":n=`${_v(Xt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qs}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(r,e={}){return Yr(r,"GET","/v2/passwordPolicy",Qr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=6;class DI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:CI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vv(this),this.idTokenSubscription=new vv(this),this.beforeStateQueue=new wI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ki(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Ga.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fA(this,{idToken:e}),s=await Gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(sn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $c(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sn(this.app))return Promise.reject(Yi(this));const n=e?an(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sn(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sn(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await II(this),n=new DI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await SI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ki(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&sI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Xr(r){return an(r)}class vv{constructor(e){this.auth=e,this.observer=null,this.addObserver=QR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OI(r){Ah=r}function bA(r){return Ah.loadJS(r)}function xI(){return Ah.recaptchaEnterpriseScript}function VI(){return Ah.gapiScript}function MI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class kI{constructor(){this.enterprise=new PI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class PI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const UI="recaptcha-enterprise",RA="NO_RECAPTCHA";class LI{constructor(e){this.type=UI,this.auth=Xr(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{pI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new mI(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;mv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(RA)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&mv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=xI();p.length!==0&&(p+=m),bA(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Ev(r,e,n,s=!1,o=!1){const u=new LI(r);let f;if(o)f=RA;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function fm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Ev(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Ev(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(r,e){const n=Eh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Us(u,e??{}))return o;On(o,"already-initialized")}return n.initialize({options:e})}function zI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ki);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function jI(r,e,n){const s=Xr(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=wA(e),{host:f,port:m}=HI(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Us(y,s.config.emulator)&&Us(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,qI()}function wA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function HI(r){const e=wA(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Av(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Av(f)}}}function Av(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function qI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,n){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}async function FI(r,e){return Yr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(r,e){return Jl(r,"POST","/v1/accounts:signInWithPassword",Qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(r,e){return Jl(r,"POST","/v1/accounts:signInWithEmailLink",Qr(r,e))}async function QI(r,e){return Jl(r,"POST","/v1/accounts:signInWithEmailLink",Qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends Qm{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Pl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Pl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fm(e,n,"signInWithPassword",GI);case"emailLink":return KI(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fm(e,s,"signUpPassword",FI);case"emailLink":return QI(e,{idToken:n,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(r,e){return Jl(r,"POST","/v1/accounts:signInWithIdp",Qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="http://localhost";class Bs extends Qm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):On("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=jm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Bs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ka(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ka(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ka(e,n)}buildRequest(){const e={requestUri:YI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WI(r){const e=Sl(bl(r)).link,n=e?Sl(bl(e)).deep_link_id:null,s=Sl(bl(r)).deep_link_id;return(s?Sl(bl(s)).link:null)||s||n||e||r}class Ym{constructor(e){var n,s,o,u,f,m;const p=Sl(bl(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,S=XI((o=p.mode)!==null&&o!==void 0?o:null);ve(y&&E&&S,"argument-error"),this.apiKey=y,this.operation=S,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=WI(e);try{return new Ym(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.providerId=so.PROVIDER_ID}static credential(e,n){return Pl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ym.parseLink(n);return ve(s,"argument-error"),Pl._fromEmailAndCode(e,s.code,s.tenantId)}}so.PROVIDER_ID="password";so.EMAIL_PASSWORD_SIGN_IN_METHOD="password";so.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends Xm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends $l{constructor(){super("facebook.com")}static credential(e){return Bs._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return qi.credential(n,s)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends $l{constructor(){super("github.com")}static credential(e){return Bs._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends $l{constructor(){super("twitter.com")}static credential(e,n){return Bs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Vr.credential(n,s)}catch{return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(r,e){return Jl(r,"POST","/v1/accounts:signUp",Qr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Gi._fromIdTokenResponse(e,s,o),f=Tv(s);return new zs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Tv(s);return new zs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Tv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends pi{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new eh(e,n,s,o)}}function IA(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(r,u,e,s):u})}async function JI(r,e,n=!1){const s=await kl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return zs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(r,e,n=!1){const{auth:s}=r;if(sn(s.app))return Promise.reject(Yi(s));const o="reauthenticate";try{const u=await kl(r,IA(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=Gm(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),zs._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&On(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CA(r,e,n=!1){if(sn(r.app))return Promise.reject(Yi(r));const s="signIn",o=await IA(r,s,e),u=await zs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function e1(r,e){return CA(Xr(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA(r){const e=Xr(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function t1(r,e,n){if(sn(r.app))return Promise.reject(Yi(r));const s=Xr(r),f=await fm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&DA(r),p}),m=await zs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function n1(r,e,n){return sn(r.app)?Promise.reject(Yi(r)):e1(an(r),so.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&DA(r),s})}function i1(r,e,n,s){return an(r).onIdTokenChanged(e,n,s)}function r1(r,e,n){return an(r).beforeAuthStateChanged(e,n)}function s1(r,e,n,s){return an(r).onAuthStateChanged(e,n,s)}function a1(r){return an(r).signOut()}const th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=1e3,l1=10;class OA extends NA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);RI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,l1):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},o1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OA.type="LOCAL";const u1=OA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA extends NA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xA.type="SESSION";const VA=xA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Th(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await c1(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Wm("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const I=S;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(I.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function f1(r){li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function d1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function m1(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function p1(){return MA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="firebaseLocalStorageDb",g1=1,nh="firebaseLocalStorage",PA="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sh(r,e){return r.transaction([nh],e?"readwrite":"readonly").objectStore(nh)}function y1(){const r=indexedDB.deleteDatabase(kA);return new eu(r).toPromise()}function dm(){const r=indexedDB.open(kA,g1);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(nh,{keyPath:PA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(nh)?e(s):(s.close(),await y1(),e(await dm()))})})}async function Sv(r,e,n){const s=Sh(r,!0).put({[PA]:e,value:n});return new eu(s).toPromise()}async function _1(r,e){const n=Sh(r,!1).get(e),s=await new eu(n).toPromise();return s===void 0?null:s.value}function bv(r,e){const n=Sh(r,!0).delete(e);return new eu(n).toPromise()}const v1=800,E1=3;class UA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>E1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(p1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await d1(),!this.activeServiceWorker)return;this.sender=new h1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||m1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dm();return await Sv(e,th,"1"),await bv(e,th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Sv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>_1(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Sh(o,!1).getAll();return new eu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UA.type="LOCAL";const A1=UA;new Zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(r,e){return e?Ki(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm extends Qm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ka(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ka(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ka(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function T1(r){return CA(r.auth,new Zm(r),r.bypassAuthState)}function S1(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),$I(n,new Zm(r),r.bypassAuthState)}async function b1(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),JI(n,new Zm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T1;case"linkViaPopup":case"linkViaRedirect":return b1;case"reauthViaPopup":case"reauthViaRedirect":return S1;default:On(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=new Zl(2e3,1e4);async function w1(r,e,n){if(sn(r.app))return Promise.reject(zn(r,"operation-not-supported-in-this-environment"));const s=Xr(r);aI(r,e,Xm);const o=LA(s,n);return new ks(s,"signInViaPopup",e,o).executeNotNull()}class ks extends BA{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const e=Wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,R1.get())};e()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="pendingRedirect",Hc=new Map;class C1 extends BA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Hc.get(this.auth._key());if(!e){try{const s=await D1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Hc.set(this.auth._key(),e)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function D1(r,e){const n=x1(e),s=O1(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function N1(r,e){Hc.set(r._key(),e)}function O1(r){return Ki(r._redirectPersistence)}function x1(r){return jc(I1,r.config.apiKey,r.name)}async function V1(r,e,n=!1){if(sn(r.app))return Promise.reject(Yi(r));const s=Xr(r),o=LA(s,e),f=await new C1(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=10*60*1e3;class k1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!P1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!zA(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rv(e))}saveEventToCache(e){this.cachedEventUids.add(Rv(e)),this.lastProcessedEventTime=Date.now()}}function Rv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function zA({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function P1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zA(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(r,e={}){return Yr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B1=/^https?/;async function z1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await U1(r);for(const n of e)try{if(j1(n))return}catch{}On(r,"unauthorized-domain")}function j1(r){const e=cm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!B1.test(n))return!1;if(L1.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=new Zl(3e4,6e4);function wv(){const r=li().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function q1(r){return new Promise((e,n)=>{var s,o,u;function f(){wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wv(),n(zn(r,"network-request-failed"))},timeout:H1.get()})}if(!((o=(s=li().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=li().gapi)===null||u===void 0)&&u.load)f();else{const m=MI("iframefcb");return li()[m]=()=>{gapi.load?f():n(zn(r,"network-request-failed"))},bA(`${VI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw qc=null,e})}let qc=null;function F1(r){return qc=qc||q1(r),qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new Zl(5e3,15e3),K1="__/auth/iframe",Q1="emulator/auth/iframe",Y1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W1(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Fm(e,Q1):`https://${r.config.authDomain}/${K1}`,s={apiKey:e.apiKey,appName:r.name,v:qs},o=X1.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Wl(s).slice(1)}`}async function Z1(r){const e=await F1(r),n=li().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:W1(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y1,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=zn(r,"network-request-failed"),m=li().setTimeout(()=>{u(f)},G1.get());function p(){li().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$1=500,eC=600,tC="_blank",nC="http://localhost";class Iv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iC(r,e,n,s=$1,o=eC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},J1),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Xt().toLowerCase();n&&(m=yA(y)?tC:n),pA(y)&&(e=e||nC,p.scrollbars="yes");const E=Object.entries(p).reduce((I,[M,P])=>`${I}${M}=${P},`,"");if(bI(y)&&m!=="_self")return rC(e||"",m),new Iv(null);const S=window.open(e||"",m,E);ve(S,r,"popup-blocked");try{S.focus()}catch{}return new Iv(S)}function rC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="__/auth/handler",aC="emulator/auth/handler",oC=encodeURIComponent("fac");async function Cv(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:qs,eventId:o};if(e instanceof Xm){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",KR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof $l){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${oC}=${encodeURIComponent(p)}`:"";return`${lC(r)}?${Wl(m).slice(1)}${y}`}function lC({config:r}){return r.emulator?Fm(r,aC):`https://${r.authDomain}/${sC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="webStorageSupport";class uC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VA,this._completeRedirectFn=V1,this._overrideRedirectResult=N1}async _openPopup(e,n,s,o){var u;Ji((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Cv(e,n,s,cm(),o);return iC(e,f,Wm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Cv(e,n,s,cm(),o);return f1(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ji(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Z1(e),s=new k1(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zd,{type:Zd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Zd];f!==void 0&&n(!!f),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=z1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TA()||gA()||Km()}}const cC=uC;var Dv="@firebase/auth",Nv="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dC(r){Ls(new Br("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SA(r)},y=new NI(s,o,u,p);return zI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ls(new Br("auth-internal",e=>{const n=Xr(e.getProvider("auth").getImmediate());return(s=>new hC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(Dv,Nv,fC(r)),oi(Dv,Nv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=5*60,pC=eA("authIdTokenMaxAge")||mC;let Ov=null;const gC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>pC)return;const o=n==null?void 0:n.token;Ov!==o&&(Ov=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yC(r=zm()){const e=Eh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=BI(r,{popupRedirectResolver:cC,persistence:[A1,u1,VA]}),s=eA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=gC(u.toString());r1(n,f,()=>f(n.currentUser)),i1(n,m=>f(m))}}const o=ZE("auth");return o&&jI(n,`http://${o}`),n}function _C(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}OI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=zn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",_C().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dC("Browser");var vC="firebase",EC="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(vC,EC,"app");var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ur,jA;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,b){function R(){}R.prototype=b.prototype,x.D=b.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(N,V,U){for(var C=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)C[Mt-2]=arguments[Mt];return b.prototype[V].apply(N,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,b,R){R||(R=0);var N=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)N[V]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(V=0;16>V;++V)N[V]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=x.g[0],R=x.g[1],V=x.g[2];var U=x.g[3],C=b+(U^R&(V^U))+N[0]+3614090360&4294967295;b=R+(C<<7&4294967295|C>>>25),C=U+(V^b&(R^V))+N[1]+3905402710&4294967295,U=b+(C<<12&4294967295|C>>>20),C=V+(R^U&(b^R))+N[2]+606105819&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(b^V&(U^b))+N[3]+3250441966&4294967295,R=V+(C<<22&4294967295|C>>>10),C=b+(U^R&(V^U))+N[4]+4118548399&4294967295,b=R+(C<<7&4294967295|C>>>25),C=U+(V^b&(R^V))+N[5]+1200080426&4294967295,U=b+(C<<12&4294967295|C>>>20),C=V+(R^U&(b^R))+N[6]+2821735955&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(b^V&(U^b))+N[7]+4249261313&4294967295,R=V+(C<<22&4294967295|C>>>10),C=b+(U^R&(V^U))+N[8]+1770035416&4294967295,b=R+(C<<7&4294967295|C>>>25),C=U+(V^b&(R^V))+N[9]+2336552879&4294967295,U=b+(C<<12&4294967295|C>>>20),C=V+(R^U&(b^R))+N[10]+4294925233&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(b^V&(U^b))+N[11]+2304563134&4294967295,R=V+(C<<22&4294967295|C>>>10),C=b+(U^R&(V^U))+N[12]+1804603682&4294967295,b=R+(C<<7&4294967295|C>>>25),C=U+(V^b&(R^V))+N[13]+4254626195&4294967295,U=b+(C<<12&4294967295|C>>>20),C=V+(R^U&(b^R))+N[14]+2792965006&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(b^V&(U^b))+N[15]+1236535329&4294967295,R=V+(C<<22&4294967295|C>>>10),C=b+(V^U&(R^V))+N[1]+4129170786&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(b^R))+N[6]+3225465664&4294967295,U=b+(C<<9&4294967295|C>>>23),C=V+(b^R&(U^b))+N[11]+643717713&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(V^U))+N[0]+3921069994&4294967295,R=V+(C<<20&4294967295|C>>>12),C=b+(V^U&(R^V))+N[5]+3593408605&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(b^R))+N[10]+38016083&4294967295,U=b+(C<<9&4294967295|C>>>23),C=V+(b^R&(U^b))+N[15]+3634488961&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(V^U))+N[4]+3889429448&4294967295,R=V+(C<<20&4294967295|C>>>12),C=b+(V^U&(R^V))+N[9]+568446438&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(b^R))+N[14]+3275163606&4294967295,U=b+(C<<9&4294967295|C>>>23),C=V+(b^R&(U^b))+N[3]+4107603335&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(V^U))+N[8]+1163531501&4294967295,R=V+(C<<20&4294967295|C>>>12),C=b+(V^U&(R^V))+N[13]+2850285829&4294967295,b=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(b^R))+N[2]+4243563512&4294967295,U=b+(C<<9&4294967295|C>>>23),C=V+(b^R&(U^b))+N[7]+1735328473&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^b&(V^U))+N[12]+2368359562&4294967295,R=V+(C<<20&4294967295|C>>>12),C=b+(R^V^U)+N[5]+4294588738&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^V)+N[8]+2272392833&4294967295,U=b+(C<<11&4294967295|C>>>21),C=V+(U^b^R)+N[11]+1839030562&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^b)+N[14]+4259657740&4294967295,R=V+(C<<23&4294967295|C>>>9),C=b+(R^V^U)+N[1]+2763975236&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^V)+N[4]+1272893353&4294967295,U=b+(C<<11&4294967295|C>>>21),C=V+(U^b^R)+N[7]+4139469664&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^b)+N[10]+3200236656&4294967295,R=V+(C<<23&4294967295|C>>>9),C=b+(R^V^U)+N[13]+681279174&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^V)+N[0]+3936430074&4294967295,U=b+(C<<11&4294967295|C>>>21),C=V+(U^b^R)+N[3]+3572445317&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^b)+N[6]+76029189&4294967295,R=V+(C<<23&4294967295|C>>>9),C=b+(R^V^U)+N[9]+3654602809&4294967295,b=R+(C<<4&4294967295|C>>>28),C=U+(b^R^V)+N[12]+3873151461&4294967295,U=b+(C<<11&4294967295|C>>>21),C=V+(U^b^R)+N[15]+530742520&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^b)+N[2]+3299628645&4294967295,R=V+(C<<23&4294967295|C>>>9),C=b+(V^(R|~U))+N[0]+4096336452&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~V))+N[7]+1126891415&4294967295,U=b+(C<<10&4294967295|C>>>22),C=V+(b^(U|~R))+N[14]+2878612391&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~b))+N[5]+4237533241&4294967295,R=V+(C<<21&4294967295|C>>>11),C=b+(V^(R|~U))+N[12]+1700485571&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~V))+N[3]+2399980690&4294967295,U=b+(C<<10&4294967295|C>>>22),C=V+(b^(U|~R))+N[10]+4293915773&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~b))+N[1]+2240044497&4294967295,R=V+(C<<21&4294967295|C>>>11),C=b+(V^(R|~U))+N[8]+1873313359&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~V))+N[15]+4264355552&4294967295,U=b+(C<<10&4294967295|C>>>22),C=V+(b^(U|~R))+N[6]+2734768916&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~b))+N[13]+1309151649&4294967295,R=V+(C<<21&4294967295|C>>>11),C=b+(V^(R|~U))+N[4]+4149444226&4294967295,b=R+(C<<6&4294967295|C>>>26),C=U+(R^(b|~V))+N[11]+3174756917&4294967295,U=b+(C<<10&4294967295|C>>>22),C=V+(b^(U|~R))+N[2]+718787259&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~b))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+U&4294967295}s.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var R=b-this.blockSize,N=this.B,V=this.h,U=0;U<b;){if(V==0)for(;U<=R;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<b;)if(N[V++]=x.charCodeAt(U++),V==this.blockSize){o(this,N),V=0;break}}else for(;U<b;)if(N[V++]=x[U++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=b},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var R=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=R&255,R/=256;for(this.u(x),x=Array(16),b=R=0;4>b;++b)for(var N=0;32>N;N+=8)x[R++]=this.g[b]>>>N&255;return x};function u(x,b){var R=m;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=b(x)}function f(x,b){this.h=b;for(var R=[],N=!0,V=x.length-1;0<=V;V--){var U=x[V]|0;N&&U==b||(R[V]=U,N=!1)}this.g=R}var m={};function p(x){return-128<=x&&128>x?u(x,function(b){return new f([b|0],0>b?-1:0)}):new f([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return S;if(0>x)return j(y(-x));for(var b=[],R=1,N=0;x>=R;N++)b[N]=x/R|0,R*=4294967296;return new f(b,0)}function E(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return j(E(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(b,8)),N=S,V=0;V<x.length;V+=8){var U=Math.min(8,x.length-V),C=parseInt(x.substring(V,V+U),b);8>U?(U=y(Math.pow(b,U)),N=N.j(U).add(y(C))):(N=N.j(R),N=N.add(y(C)))}return N}var S=p(0),I=p(1),M=p(16777216);r=f.prototype,r.m=function(){if(Q(this))return-j(this).m();for(var x=0,b=1,R=0;R<this.g.length;R++){var N=this.i(R);x+=(0<=N?N:4294967296+N)*b,b*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P(this))return"0";if(Q(this))return"-"+j(this).toString(x);for(var b=y(Math.pow(x,6)),R=this,N="";;){var V=ue(R,b).g;R=Y(R,V.j(b));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=V,P(R))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function P(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function Q(x){return x.h==-1}r.l=function(x){return x=Y(this,x),Q(x)?-1:P(x)?0:1};function j(x){for(var b=x.g.length,R=[],N=0;N<b;N++)R[N]=~x.g[N];return new f(R,~x.h).add(I)}r.abs=function(){return Q(this)?j(this):this},r.add=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],N=0,V=0;V<=b;V++){var U=N+(this.i(V)&65535)+(x.i(V)&65535),C=(U>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);N=C>>>16,U&=65535,C&=65535,R[V]=C<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Y(x,b){return x.add(j(b))}r.j=function(x){if(P(this)||P(x))return S;if(Q(this))return Q(x)?j(this).j(j(x)):j(j(this).j(x));if(Q(x))return j(this.j(j(x)));if(0>this.l(M)&&0>x.l(M))return y(this.m()*x.m());for(var b=this.g.length+x.g.length,R=[],N=0;N<2*b;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<x.g.length;V++){var U=this.i(N)>>>16,C=this.i(N)&65535,Mt=x.i(V)>>>16,st=x.i(V)&65535;R[2*N+2*V]+=C*st,ne(R,2*N+2*V),R[2*N+2*V+1]+=U*st,ne(R,2*N+2*V+1),R[2*N+2*V+1]+=C*Mt,ne(R,2*N+2*V+1),R[2*N+2*V+2]+=U*Mt,ne(R,2*N+2*V+2)}for(N=0;N<b;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=b;N<2*b;N++)R[N]=0;return new f(R,0)};function ne(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function ee(x,b){this.g=x,this.h=b}function ue(x,b){if(P(b))throw Error("division by zero");if(P(x))return new ee(S,S);if(Q(x))return b=ue(j(x),b),new ee(j(b.g),j(b.h));if(Q(b))return b=ue(x,j(b)),new ee(j(b.g),b.h);if(30<x.g.length){if(Q(x)||Q(b))throw Error("slowDivide_ only works with positive integers.");for(var R=I,N=b;0>=N.l(x);)R=ce(R),N=ce(N);var V=Te(R,1),U=Te(N,1);for(N=Te(N,2),R=Te(R,2);!P(N);){var C=U.add(N);0>=C.l(x)&&(V=V.add(R),U=C),N=Te(N,1),R=Te(R,1)}return b=Y(x,V.j(b)),new ee(V,b)}for(V=S;0<=x.l(b);){for(R=Math.max(1,Math.floor(x.m()/b.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=y(R),C=U.j(b);Q(C)||0<C.l(x);)R-=N,U=y(R),C=U.j(b);P(U)&&(U=I),V=V.add(U),x=Y(x,C)}return new ee(V,x)}r.A=function(x){return ue(this,x).h},r.and=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)&x.i(N);return new f(R,this.h&x.h)},r.or=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)|x.i(N);return new f(R,this.h|x.h)},r.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),R=[],N=0;N<b;N++)R[N]=this.i(N)^x.i(N);return new f(R,this.h^x.h)};function ce(x){for(var b=x.g.length+1,R=[],N=0;N<b;N++)R[N]=x.i(N)<<1|x.i(N-1)>>>31;return new f(R,x.h)}function Te(x,b){var R=b>>5;b%=32;for(var N=x.g.length-R,V=[],U=0;U<N;U++)V[U]=0<b?x.i(U+R)>>>b|x.i(U+R+1)<<32-b:x.i(U+R);return new f(V,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,jA=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Ur=f}).apply(typeof xv<"u"?xv:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HA,Rl,qA,Fc,mm,FA,GA,KA;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var T=0;T<c.length-1;T++){var L=c[T];if(!(L in _))break e;_=_[L]}c=c[c.length-1],T=_[c],g=g(T),g!=T&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,T=!1,L={next:function(){if(!T&&_<c.length){var F=_++;return{value:g(F,c[F]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,_){return c.call.apply(c.bind,arguments)}function S(c,g,_){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),c.apply(g,L)}}return function(){return c.apply(g,arguments)}}function I(c,g,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,I.apply(null,arguments)}function M(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function P(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(T,L,F){for(var se=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)se[ke-2]=arguments[ke];return g.prototype[L].apply(T,se)}}function Q(c){const g=c.length;if(0<g){const _=Array(g);for(let T=0;T<g;T++)_[T]=c[T];return _}return[]}function j(c,g){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const L=c.length||0,F=T.length||0;c.length=L+F;for(let se=0;se<F;se++)c[L+se]=T[se]}else c.push(T)}}class Y{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ne(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var ce=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function Te(c,g,_){for(const T in c)g.call(_,c[T],T,c)}function x(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function b(c){const g={};for(const _ in c)g[_]=c[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,g){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)c[_]=T[_];for(let F=0;F<R.length;F++)_=R[F],Object.prototype.hasOwnProperty.call(T,_)&&(c[_]=T[_])}}function V(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=ze;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Mt{constructor(){this.h=this.g=null}add(g,_){const T=st.get();T.set(g,_),this.h?this.h.next=T:this.g=T,this.h=T}}var st=new Y(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,de=!1,ze=new Mt,D=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(te)}};var te=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){U(_)}var g=st;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}de=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function De(c,g){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ce){e:{try{ue(g.nodeName);var L=!0;break e}catch{}L=!1}L||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}P(De,re);var Se={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(1e6*Math.random()|0),Je=0;function qn(c,g,_,T,L){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!T,this.ha=L,this.key=++Je,this.da=this.fa=!1}function tr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yi(c){this.src=c,this.g={},this.h=0}yi.prototype.add=function(c,g,_,T,L){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var se=Zr(c,g,T,L);return-1<se?(g=c[se],_||(g.fa=!1)):(g=new qn(g,this.src,F,!!T,L),g.fa=_,c.push(g)),g};function Wr(c,g){var _=g.type;if(_ in c.g){var T=c.g[_],L=Array.prototype.indexOf.call(T,g,void 0),F;(F=0<=L)&&Array.prototype.splice.call(T,L,1),F&&(tr(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Zr(c,g,_,T){for(var L=0;L<c.length;++L){var F=c[L];if(!F.da&&F.listener==g&&F.capture==!!_&&F.ha==T)return L}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),co={};function su(c,g,_,T,L){if(Array.isArray(g)){for(var F=0;F<g.length;F++)su(c,g[F],_,T,L);return null}return _=au(_),c&&c[It]?c.K(g,_,y(T)?!!T.capture:!1,L):gn(c,g,_,!1,T,L)}function gn(c,g,_,T,L,F){if(!g)throw Error("Invalid event type");var se=y(L)?!!L.capture:!!L,ke=Xs(c);if(ke||(c[Jr]=ke=new yi(c)),_=ke.add(g,_,T,se,F),_.proxy)return _;if(T=Ph(),_.proxy=T,T.src=c,T.listener=_,c.addEventListener)me||(L=se),L===void 0&&(L=!1),c.addEventListener(g.toString(),T,L);else if(c.attachEvent)c.attachEvent($r(g.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ph(){function c(_){return g.call(c.src,c.listener,_)}const g=Uh;return c}function ho(c,g,_,T,L){if(Array.isArray(g))for(var F=0;F<g.length;F++)ho(c,g[F],_,T,L);else T=y(T)?!!T.capture:!!T,_=au(_),c&&c[It]?(c=c.i,g=String(g).toString(),g in c.g&&(F=c.g[g],_=Zr(F,_,T,L),-1<_&&(tr(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete c.g[g],c.h--)))):c&&(c=Xs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Zr(g,_,T,L)),(_=-1<c?g[c]:null)&&Ys(_))}function Ys(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[It])Wr(g.i,c);else{var _=c.type,T=c.proxy;g.removeEventListener?g.removeEventListener(_,T,c.capture):g.detachEvent?g.detachEvent($r(_),T):g.addListener&&g.removeListener&&g.removeListener(T),(_=Xs(g))?(Wr(_,c),_.h==0&&(_.src=null,g[Jr]=null)):tr(c)}}}function $r(c){return c in co?co[c]:co[c]="on"+c}function Uh(c,g){if(c.da)c=!0;else{g=new De(g,this);var _=c.listener,T=c.ha||c.src;c.fa&&Ys(c),c=_.call(T,g)}return c}function Xs(c){return c=c[Jr],c instanceof yi?c:null}var fo="__closure_events_fn_"+(1e9*Math.random()>>>0);function au(c){return typeof c=="function"?c:(c[fo]||(c[fo]=function(g){return c.handleEvent(g)}),c[fo])}function at(){oe.call(this),this.i=new yi(this),this.M=this,this.F=null}P(at,oe),at.prototype[It]=!0,at.prototype.removeEventListener=function(c,g,_,T){ho(this,c,g,_,T)};function Fe(c,g){var _,T=c.F;if(T)for(_=[];T;T=T.F)_.push(T);if(c=c.M,T=g.type||g,typeof g=="string")g=new re(g,c);else if(g instanceof re)g.target=g.target||c;else{var L=g;g=new re(T,c),N(g,L)}if(L=!0,_)for(var F=_.length-1;0<=F;F--){var se=g.g=_[F];L=on(se,T,!0,g)&&L}if(se=g.g=c,L=on(se,T,!0,g)&&L,L=on(se,T,!1,g)&&L,_)for(F=0;F<_.length;F++)se=g.g=_[F],L=on(se,T,!1,g)&&L}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],T=0;T<_.length;T++)tr(_[T]);delete c.g[g],c.h--}}this.F=null},at.prototype.K=function(c,g,_,T){return this.i.add(String(c),g,!1,_,T)},at.prototype.L=function(c,g,_,T){return this.i.add(String(c),g,!0,_,T)};function on(c,g,_,T){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var L=!0,F=0;F<g.length;++F){var se=g[F];if(se&&!se.da&&se.capture==_){var ke=se.listener,Et=se.ha||se.src;se.fa&&Wr(c.i,se),L=ke.call(Et,T)!==!1&&L}}return L&&!T.defaultPrevented}function qt(c,g,_){if(typeof c=="function")_&&(c=I(c,_));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function ou(c){c.g=qt(()=>{c.g=null,c.i&&(c.i=!1,ou(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Lh extends oe{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ou(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(c){oe.call(this),this.h=c,this.g={}}P(es,oe);var ts=[];function ns(c){Te(c.g,function(g,_){this.g.hasOwnProperty(_)&&Ys(g)},c),c.g={}}es.prototype.N=function(){es.aa.N.call(this),ns(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=m.JSON.stringify,Ws=m.JSON.parse,is=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function mo(){}mo.prototype.h=null;function po(c){return c.h||(c.h=c.i())}function go(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){re.call(this,"d")}P(vi,re);function yo(){re.call(this,"c")}P(yo,re);var Fn={},_o=null;function nr(){return _o=_o||new at}Fn.La="serverreachability";function Zs(c){re.call(this,Fn.La,c)}P(Zs,re);function ir(c){const g=nr();Fe(g,new Zs(g))}Fn.STAT_EVENT="statevent";function lu(c,g){re.call(this,Fn.STAT_EVENT,c),this.stat=g}P(lu,re);function et(c){const g=nr();Fe(g,new lu(g,c))}Fn.Ma="timingevent";function vt(c,g){re.call(this,Fn.Ma,c),this.size=g}P(vt,re);function mt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function vo(c,g,_,T,L,F){c.info(function(){if(c.g)if(F)for(var se="",ke=F.split("&"),Et=0;Et<ke.length;Et++){var Pe=ke[Et].split("=");if(1<Pe.length){var Dt=Pe[0];Pe=Pe[1];var At=Dt.split("_");se=2<=At.length&&At[1]=="type"?se+(Dt+"="+Pe+"&"):se+(Dt+"=redacted&")}}else se=null;else se=F;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+g+`
`+_+`
`+se})}function Bh(c,g,_,T,L,F,se){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+g+`
`+_+`
`+F+" "+se})}function rr(c,g,_,T){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+rs(c,_)+(T?" "+T:"")})}function uu(c,g){c.info(function(){return"TIMEOUT: "+g})}yn.prototype.info=function(){};function rs(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var T=_[c];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var se=1;se<L.length;se++)L[se]=""}}}}return xn(_)}catch{return g}}var sr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function Kn(){}P(Kn,mo),Kn.prototype.g=function(){return new XMLHttpRequest},Kn.prototype.i=function(){return{}},Gn=new Kn;function Wt(c,g,_,T){this.j=c,this.i=g,this.l=_,this.R=T||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ct}function ct(){this.i=null,this.g="",this.h=!1}var Eo={},Js={};function Vn(c,g,_){c.L=1,c.v=us(ln(g)),c.m=_,c.P=!0,Ai(c,null)}function Ai(c,g){c.F=Date.now(),ss(c),c.A=ln(c.v);var _=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),wo(_.i,"t",T),c.C=0,_=c.j.J,c.h=new ct,c.g=Ru(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Lh(I(c.Y,c,c.g),c.O)),g=c.U,_=c.g,T=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(ts[0]=L.toString()),L=ts);for(var F=0;F<L.length;F++){var se=su(_,L[F],T||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),ir(),vo(c.i,c.u,c.A,c.l,c.R,c.m)}Wt.prototype.ca=function(c){c=c.target;const g=this.M;g&&An(c)==3?g.j():this.Y(c)},Wt.prototype.Y=function(c){try{if(c==this.g)e:{const At=An(this.g);var g=this.g.Ba();const Di=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||yu(this.g)))){this.J||At!=4||g==7||(g==8||0>=Di?ir(3):ir(2)),ar(this);var _=this.g.Z();this.X=_;t:if(cu(this)){var T=yu(this.g);c="";var L=T.length,F=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kt(this),Qn(this);var se="";break t}this.h.i=new m.TextDecoder}for(g=0;g<L;g++)this.h.h=!0,c+=this.h.i.decode(T[g],{stream:!(F&&g==L-1)});T.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,Bh(this.i,this.u,this.A,this.l,this.R,At,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,Et=this.g;if((ke=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(ke)){var Pe=ke;break t}}Pe=null}if(_=Pe)rr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,as(this,_);else{this.o=!1,this.s=3,et(12),kt(this),Qn(this);break e}}if(this.P){_=!0;let Pt;for(;!this.J&&this.C<se.length;)if(Pt=hu(this,se),Pt==Js){At==4&&(this.s=4,et(14),_=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==Eo){this.s=4,et(15),rr(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else rr(this.i,this.l,Pt,null),as(this,Pt);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||se.length!=0||this.h.h||(this.s=1,et(16),_=!1),this.o=this.o&&_,!_)rr(this.i,this.l,se,"[Invalid Chunked Response]"),kt(this),Qn(this);else if(0<se.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),ys(Dt),Dt.M=!0,et(11))}}else rr(this.i,this.l,se,null),as(this,se);At==4&&kt(this),this.o&&!this.J&&(At==4?Tu(this.j,this):(this.o=!1,ss(this)))}else Fh(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),kt(this),Qn(this)}}}catch{}finally{}};function cu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function hu(c,g){var _=c.C,T=g.indexOf(`
`,_);return T==-1?Js:(_=Number(g.substring(_,T)),isNaN(_)?Eo:(T+=1,T+_>g.length?Js:(g=g.slice(T,T+_),c.C=T+_,g)))}Wt.prototype.cancel=function(){this.J=!0,kt(this)};function ss(c){c.S=Date.now()+c.I,fu(c,c.I)}function fu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(I(c.ba,c),g)}function ar(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Wt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(uu(this.i,this.A),this.L!=2&&(ir(),et(17)),kt(this),this.s=2,Qn(this)):fu(this,this.S-c)};function Qn(c){c.j.G==0||c.J||Tu(c.j,c)}function kt(c){ar(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,ns(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function as(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Ao(_.h,c))){if(!c.K&&Ao(_.h,c)&&_.G==3){try{var T=_.Da.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ca(_),la(_);else break e;Oo(_),et(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=mt(I(_.Za,_),6e3));if(1>=ea(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ci(_,11)}else if((c.K||_.g==c)&&ca(_),!ne(g))for(L=_.Da.g.parse(g),g=0;g<L.length;g++){let Pe=L[g];if(_.T=Pe[0],Pe=Pe[1],_.G==2)if(Pe[0]=="c"){_.K=Pe[1],_.ia=Pe[2];const Dt=Pe[3];Dt!=null&&(_.la=Dt,_.j.info("VER="+_.la));const At=Pe[4];At!=null&&(_.Aa=At,_.j.info("SVER="+_.Aa));const Di=Pe[5];Di!=null&&typeof Di=="number"&&0<Di&&(T=1.5*Di,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Pt=c.g;if(Pt){const ei=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var F=T.h;F.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ta(F,F.h),F.h=null))}if(T.D){const Vo=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Vo&&(T.ya=Vo,Qe(T.I,T.D,Vo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var se=c;if(T.qa=bu(T,T.J?T.ia:null,T.W),se.K){Zt(T.h,se);var ke=se,Et=T.L;Et&&(ke.I=Et),ke.B&&(ar(ke),ss(ke)),T.g=se}else Eu(T);0<_.i.length&&ua(_)}else Pe[0]!="stop"&&Pe[0]!="close"||Ci(_,7);else _.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Ci(_,7):Do(_):Pe[0]!="noop"&&_.l&&_.l.ta(Pe),_.v=0)}}ir(4)}catch{}}var du=class{constructor(c,g){this.g=c,this.map=g}};function Ti(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $s(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ea(c){return c.h?1:c.g?c.g.size:0}function Ao(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ta(c,g){c.g?c.g.add(g):c.h=g}function Zt(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Ti.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function To(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return Q(c.i)}function zh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,T=0;T<_;T++)g.push(c[T]);return g}g=[],_=0;for(T in c)g[_++]=c[T];return g}function na(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const T in c)g[_++]=T;return g}}}function So(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=na(c),T=zh(c),L=T.length,F=0;F<L;F++)g.call(void 0,T[F],_&&_[F],c)}var os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var T=c[_].indexOf("="),L=null;if(0<=T){var F=c[_].substring(0,T);L=c[_].substring(T+1)}else F=c[_];g(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pt){this.h=c.h,ls(this,c.j),this.o=c.o,this.g=c.g,or(this,c.s),this.l=c.l;var g=c.i,_=new bi;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Si(this,_),this.m=c.m}else c&&(g=String(c).match(os))?(this.h=!1,ls(this,g[1]||"",!0),this.o=_n(g[2]||""),this.g=_n(g[3]||"",!0),or(this,g[4]),this.l=_n(g[5]||"",!0),Si(this,g[6]||"",!0),this.m=_n(g[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}pt.prototype.toString=function(){var c=[],g=this.j;g&&c.push(cs(g,bo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(cs(g,bo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(cs(_,_.charAt(0)=="/"?Hh:Ro,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",cs(_,ia)),c.join("")};function ln(c){return new pt(c)}function ls(c,g,_){c.j=_?_n(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function or(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Si(c,g,_){g instanceof bi?(c.i=g,pu(c.i,c.h)):(_||(g=cs(g,qh)),c.i=new bi(g,c.h))}function Qe(c,g,_){c.i.set(g,_)}function us(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function _n(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function cs(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,mu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var bo=/[#\/\?@]/g,Ro=/[#\?:]/g,Hh=/[#\?]/g,qh=/[#\?@]/g,ia=/#/g;function bi(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function vn(c){c.g||(c.g=new Map,c.h=0,c.i&&jh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=bi.prototype,r.add=function(c,g){vn(this),this.i=null,c=Yn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Ri(c,g){vn(c),g=Yn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function wi(c,g){return vn(c),g=Yn(c,g),c.g.has(g)}r.forEach=function(c,g){vn(this),this.g.forEach(function(_,T){_.forEach(function(L){c.call(g,L,T,this)},this)},this)},r.na=function(){vn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let T=0;T<g.length;T++){const L=c[T];for(let F=0;F<L.length;F++)_.push(g[T])}return _},r.V=function(c){vn(this);let g=[];if(typeof c=="string")wi(this,c)&&(g=g.concat(this.g.get(Yn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return vn(this),this.i=null,c=Yn(this,c),wi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function wo(c,g,_){Ri(c,g),0<_.length&&(c.i=null,c.g.set(Yn(c,g),Q(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var T=g[_];const F=encodeURIComponent(String(T)),se=this.V(T);for(T=0;T<se.length;T++){var L=F;se[T]!==""&&(L+="="+encodeURIComponent(String(se[T]))),c.push(L)}}return this.i=c.join("&")};function Yn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function pu(c,g){g&&!c.j&&(vn(c),c.i=null,c.g.forEach(function(_,T){var L=T.toLowerCase();T!=L&&(Ri(this,T),wo(this,L,_))},c)),c.j=g}function hs(c,g){const _=new yn;if(m.Image){const T=new Image;T.onload=M(En,_,"TestLoadImage: loaded",!0,g,T),T.onerror=M(En,_,"TestLoadImage: error",!1,g,T),T.onabort=M(En,_,"TestLoadImage: abort",!1,g,T),T.ontimeout=M(En,_,"TestLoadImage: timeout",!1,g,T),m.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else g(!1)}function Mn(c,g){const _=new yn,T=new AbortController,L=setTimeout(()=>{T.abort(),En(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:T.signal}).then(F=>{clearTimeout(L),F.ok?En(_,"TestPingServer: ok",!0,g):En(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),En(_,"TestPingServer: error",!1,g)})}function En(c,g,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function fs(){this.g=new is}function Xn(c,g,_){const T=_||"";try{So(c,function(L,F){let se=L;y(L)&&(se=xn(L)),g.push(T+F+"="+encodeURIComponent(se))})}catch(L){throw g.push(T+"type="+encodeURIComponent("_badmap")),L}}function lr(c){this.l=c.Ub||null,this.j=c.eb||!1}P(lr,mo),lr.prototype.g=function(){return new Ii(this.l,this.j)},lr.prototype.i=function(c){return function(){return c}}({});function Ii(c,g){at.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Ii,at),r=Ii.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Zn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Io(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Io(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Wn(this):Zn(this),this.readyState==3&&Io(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Wn(this))},r.Qa=function(c){this.g&&(this.response=c,Wn(this))},r.ga=function(){this.g&&Wn(this)};function Wn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Zn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Co(c){let g="";return Te(c,function(_,T){g+=T,g+=":",g+=_,g+=`\r
`}),g}function Ct(c,g,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=Co(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,g,_))}function He(c){at.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(He,at);var ra=/^https?$/i,ds=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?po(this.o):po(Gn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(F){gu(this,F);return}if(c=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const F of T.keys())_.set(F,T.get(F));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),L=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ds,g,void 0))||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,se]of _)this.g.setRequestHeader(F,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ms(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){gu(this,F)}};function gu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,sa(c),Jn(c)}function sa(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),Jn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jn(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?aa(this):this.bb())},r.bb=function(){aa(this)};function aa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)qt(c.Ea,0,c);else if(Fe(c,"readystatechange"),An(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var T;if(T=se===0){var L=String(c.D).match(os)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),T=!ra.test(L?L.toLowerCase():"")}_=T}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var F=2<An(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",sa(c)}}finally{Jn(c)}}}}function Jn(c,g){if(c.g){ms(c);const _=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Fe(c,"ready");try{_.onreadystatechange=T}catch{}}}function ms(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ws(g)}};function yu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fh(c){const g={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(ne(c[T]))continue;var _=V(c[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=g[L]||[];g[L]=F,F.push(_)}x(g,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ps(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function oa(c){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ps("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ps("baseRetryDelayMs",5e3,c),this.cb=ps("retryDelaySeedMs",1e4,c),this.Wa=ps("forwardChannelMaxRetries",2,c),this.wa=ps("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ti(c&&c.concurrentRequestLimit),this.Da=new fs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=oa.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,T){et(0),this.W=c,this.H=g||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=bu(this,null,this.W),ua(this)};function Do(c){if(_u(c),c.G==3){var g=c.U++,_=ln(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",g),Qe(_,"TYPE","terminate"),gs(c,_),g=new Wt(c,c.j,g),g.L=2,g.v=us(ln(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Ru(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ss(g)}Su(c)}function la(c){c.g&&(ys(c),c.g.cancel(),c.g=null)}function _u(c){la(c),c.u&&(m.clearTimeout(c.u),c.u=null),ca(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ua(c){if(!$s(c.h)&&!c.s){c.s=!0;var g=c.Ga;ae||D(),de||(ae(),de=!0),ze.add(g,c),c.B=0}}function Gh(c,g){return ea(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(I(c.Ga,c,g),xo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new Wt(this,this.j,c);let F=this.o;if(this.S&&(F?(F=b(F),N(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=vu(this,L,g),_=ln(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),gs(this,_),F&&(this.O?g="headers="+encodeURIComponent(String(Co(F)))+"&"+g:this.m&&Ct(_,this.m,F)),ta(this.h,L),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",g),Qe(_,"SID","null"),L.T=!0,Vn(L,_,null)):Vn(L,_,g),this.G=2}}else this.G==3&&(c?No(this,c):this.i.length==0||$s(this.h)||No(this))};function No(c,g){var _;g?_=g.l:_=c.U++;const T=ln(c.I);Qe(T,"SID",c.K),Qe(T,"RID",_),Qe(T,"AID",c.T),gs(c,T),c.m&&c.o&&Ct(T,c.m,c.o),_=new Wt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=vu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ta(c.h,_),Vn(_,T,g)}function gs(c,g){c.H&&Te(c.H,function(_,T){Qe(g,T,_)}),c.l&&So({},function(_,T){Qe(g,T,_)})}function vu(c,g,_){_=Math.min(c.i.length,_);var T=c.l?I(c.l.Na,c.l,c):null;e:{var L=c.i;let F=-1;for(;;){const se=["count="+_];F==-1?0<_?(F=L[0].g,se.push("ofs="+F)):F=0:se.push("ofs="+F);let ke=!0;for(let Et=0;Et<_;Et++){let Pe=L[Et].g;const Dt=L[Et].map;if(Pe-=F,0>Pe)F=Math.max(0,L[Et].g-100),ke=!1;else try{Xn(Dt,se,"req"+Pe+"_")}catch{T&&T(Dt)}}if(ke){T=se.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,T}function Eu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ae||D(),de||(ae(),de=!0),ze.add(g,c),c.v=0}}function Oo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(I(c.Fa,c),xo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Au(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(I(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),la(this),Au(this))};function ys(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Au(c){c.g=new Wt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=ln(c.qa);Qe(g,"RID","rpc"),Qe(g,"SID",c.K),Qe(g,"AID",c.T),Qe(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(g,"TO",c.ja),Qe(g,"TYPE","xmlhttp"),gs(c,g),c.m&&c.o&&Ct(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=us(ln(g)),_.m=null,_.P=!0,Ai(_,c)}r.Za=function(){this.C!=null&&(this.C=null,la(this),Oo(this),et(19))};function ca(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Tu(c,g){var _=null;if(c.g==g){ca(c),ys(c),c.g=null;var T=2}else if(Ao(c.h,g))_=g.D,Zt(c.h,g),T=1;else return;if(c.G!=0){if(g.o)if(T==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var L=c.B;T=nr(),Fe(T,new vt(T,_)),ua(c)}else Eu(c);else if(L=g.s,L==3||L==0&&0<g.X||!(T==1&&Gh(c,g)||T==2&&Oo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),L){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function xo(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Ci(c,g){if(c.j.info("Error code "+g),g==2){var _=I(c.fb,c),T=c.Xa;const L=!T;T=new pt(T||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ls(T,"https"),us(T),L?hs(T.toString(),_):Mn(T.toString(),_)}else et(2);c.G=0,c.l&&c.l.sa(g),Su(c),_u(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Su(c){if(c.G=0,c.ka=[],c.l){const g=To(c.h);(g.length!=0||c.i.length!=0)&&(j(c.ka,g),j(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function bu(c,g,_){var T=_ instanceof pt?ln(_):new pt(_);if(T.g!="")g&&(T.g=g+"."+T.g),or(T,T.s);else{var L=m.location;T=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;var F=new pt(null);T&&ls(F,T),g&&(F.g=g),L&&or(F,L),_&&(F.l=_),T=F}return _=c.D,g=c.ya,_&&g&&Qe(T,_,g),Qe(T,"VER",c.la),gs(c,T),T}function Ru(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new He(new lr({eb:_})):new He(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}r=wu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ha(){}ha.prototype.g=function(c,g){return new Jt(c,g)};function Jt(c,g){at.call(this),this.g=new oa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ne(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ne(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new $n(this)}P(Jt,at),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Do(this.g)},Jt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=xn(c),c=_);g.i.push(new du(g.Ya++,c)),g.G==3&&ua(g)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Do(this.g),delete this.g,Jt.aa.N.call(this)};function Iu(c){vi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}P(Iu,vi);function Cu(){yo.call(this),this.status=1}P(Cu,yo);function $n(c){this.g=c}P($n,wu),$n.prototype.ua=function(){Fe(this.g,"a")},$n.prototype.ta=function(c){Fe(this.g,new Iu(c))},$n.prototype.sa=function(c){Fe(this.g,new Cu)},$n.prototype.ra=function(){Fe(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,KA=function(){return new ha},GA=function(){return nr()},FA=Fn,mm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sr.NO_ERROR=0,sr.TIMEOUT=8,sr.HTTP_ERROR=6,Fc=sr,Ei.COMPLETE="complete",qA=Ei,go.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",at.prototype.listen=at.prototype.K,Rl=go,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,HA=He}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const Vv="@firebase/firestore",Mv="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new Lm("@firebase/firestore");function za(){return js.logLevel}function le(r,...e){if(js.logLevel<=Ve.DEBUG){const n=e.map(Jm);js.debug(`Firestore (${ao}): ${r}`,...n)}}function $i(r,...e){if(js.logLevel<=Ve.ERROR){const n=e.map(Jm);js.error(`Firestore (${ao}): ${r}`,...n)}}function Ya(r,...e){if(js.logLevel<=Ve.WARN){const n=e.map(Jm);js.warn(`Firestore (${ao}): ${r}`,...n)}}function Jm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r="Unexpected state"){const e=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+r;throw $i(e),new Error(e)}function qe(r,e){r||Ae()}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class TC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class SC{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Lr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Lr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qe(typeof s.accessToken=="string"),new QA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Qt(e)}}class bC{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class RC{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new bC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wC{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,sn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new kv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new kv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=IC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(r,e){return r<e?-1:r>e?1:0}function pm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=YA(),f=CC(u.encode(Pv(r,n)),u.encode(Pv(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(r.length,e.length)}function Pv(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function CC(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ce(r[n],e[n]);return Ce(r.length,e.length)}function Xa(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=-62135596800,Lv=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Lv);return new Rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Uv)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lv}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Uv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Rt(0,0))}static max(){return new be(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="__name__";class ai{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(),s===void 0?s=e.length-n:s>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ai?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ai.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=ai.isNumericId(e),o=ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ai.extractNumericId(e).compare(ai.extractNumericId(n)):pm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ur.fromString(e.substring(4,e.length-2))}}class ut extends ai{construct(e,n,s){return new ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ut(n)}static emptyPath(){return new ut([])}}const DC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends ai{construct(e,n,s){return new jt(e,n,s)}static isValidIdentifier(e){return DC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bv}static keyField(){return new jt([Bv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ge(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ge(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(n)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ut.fromString(e))}static fromName(e){return new ye(ut.fromString(e).popFirst(5))}static empty(){return new ye(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ut(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=-1;function NC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new zr(o,ye.empty(),e)}function OC(r){return new zr(r.readTime,r.key,Ul)}class zr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new zr(be.min(),ye.empty(),Ul)}static max(){return new zr(be.max(),ye.empty(),Ul)}}function xC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==VC)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,s)=>{n(e)})}static reject(e){return new $((n,s)=>{s(e)})}static waitFor(e){return new $((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=$.resolve(!1);for(const s of e)n=n.next(o=>o?$.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new $((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new $((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function kC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}bh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=-1;function Rh(r){return r==null}function ih(r){return r===0&&1/r==-1/0}function PC(r){return typeof r=="number"&&Number.isInteger(r)&&!ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="";function UC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=zv(e)),e=LC(r.get(n),e);return zv(e)}function LC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case WA:n+="";break;default:n+=u}}return n}function zv(r){return r+WA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Fs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function ZA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xc(this.root,e,this.comparator,!0)}}class xc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??zt.RED,this.left=o??zt.EMPTY,this.right=u??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new zt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,s,o,u){return this}insert(e,n,s){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hv(this.data.getIterator())}getIteratorFrom(e){return new Hv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wt(this.comparator);return n.data=e,n}}class Hv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new wt(jt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xa(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new JA("Invalid base64 string: "+u):u}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const BC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(r){if(qe(!!r),typeof r=="string"){let e=0;const n=BC.exec(r);if(qe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(r.seconds),nanos:dt(r.nanos)}}function dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Hr(r){return typeof r=="string"?Ht.fromBase64String(r):Ht.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="server_timestamp",eT="__type__",tT="__previous_value__",nT="__local_write_time__";function ep(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[eT])===null||n===void 0?void 0:n.stringValue)===$A}function wh(r){const e=r.mapValue.fields[tT];return ep(e)?wh(e):e}function Ll(r){const e=jr(r.mapValue.fields[nT].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n,s,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const rh="(default)";class Bl{constructor(e,n){this.projectId=e,this.database=n||rh}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="__type__",jC="__max__",Vc={mapValue:{}},rT="__vector__",sh="value";function qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ep(r)?4:qC(r)?9007199254740991:HC(r)?10:11:Ae()}function hi(r,e){if(r===e)return!0;const n=qr(r);if(n!==qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ll(r).isEqual(Ll(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=jr(o.timestampValue),m=jr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Hr(o.bytesValue).isEqual(Hr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return dt(o.geoPointValue.latitude)===dt(u.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return dt(o.integerValue)===dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=dt(o.doubleValue),m=dt(u.doubleValue);return f===m?ih(f)===ih(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Xa(r.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(jv(f)!==jv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!hi(f[p],m[p])))return!1;return!0}(r,e);default:return Ae()}}function zl(r,e){return(r.values||[]).find(n=>hi(n,e))!==void 0}function Wa(r,e){if(r===e)return 0;const n=qr(r),s=qr(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=dt(u.integerValue||u.doubleValue),p=dt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return qv(r.timestampValue,e.timestampValue);case 4:return qv(Ll(r),Ll(e));case 5:return pm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Hr(u),p=Hr(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ce(m[y],p[y]);if(E!==0)return E}return Ce(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(dt(u.latitude),dt(f.latitude));return m!==0?m:Ce(dt(u.longitude),dt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Fv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const S=u.fields||{},I=f.fields||{},M=(m=S[sh])===null||m===void 0?void 0:m.arrayValue,P=(p=I[sh])===null||p===void 0?void 0:p.arrayValue,Q=Ce(((y=M==null?void 0:M.values)===null||y===void 0?void 0:y.length)||0,((E=P==null?void 0:P.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:Fv(M,P)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Vc.mapValue&&f===Vc.mapValue)return 0;if(u===Vc.mapValue)return 1;if(f===Vc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const I=pm(p[S],E[S]);if(I!==0)return I;const M=Wa(m[p[S]],y[E[S]]);if(M!==0)return M}return Ce(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Ae()}}function qv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const n=jr(r),s=jr(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function Fv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Wa(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function Za(r){return gm(r)}function gm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=jr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Hr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=gm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${gm(n.fields[f])}`;return o+"}"}(r.mapValue):Ae()}function Gc(r){switch(qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(r);return e?16+Gc(e):16;case 5:return 2*r.stringValue.length;case 6:return Hr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Gc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Fs(s.fields,(u,f)=>{o+=u.length+Gc(f)}),o}(r.mapValue);default:throw Ae()}}function ym(r){return!!r&&"integerValue"in r}function tp(r){return!!r&&"arrayValue"in r}function Gv(r){return!!r&&"nullValue"in r}function Kv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Kc(r){return!!r&&"mapValue"in r}function HC(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[iT])===null||n===void 0?void 0:n.stringValue)===rT}function Dl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Fs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Dl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function qC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===jC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Kc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dl(n)}setAll(e){let n=jt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Dl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Fs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Dn(Dl(this.value))}}function sT(r){const e=[];return Fs(r.fields,(n,s)=>{const o=new jt([n]);if(Kc(s)){const u=sT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Yt(e,0,be.min(),be.min(),be.min(),Dn.empty(),0)}static newFoundDocument(e,n,s,o){return new Yt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Yt(e,2,n,be.min(),be.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,be.min(),be.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.position=e,this.inclusive=n}}function Qv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=Wa(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Yv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!hi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n="asc"){this.field=e,this.dir=n}}function FC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{}class bt extends aT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new KC(e,n,s):n==="array-contains"?new XC(e,s):n==="in"?new WC(e,s):n==="not-in"?new ZC(e,s):n==="array-contains-any"?new JC(e,s):new bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new QC(e,s):new YC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wa(n,this.value)):n!==null&&qr(this.value)===qr(n)&&this.matchesComparison(Wa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends aT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new fi(e,n)}matches(e){return oT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function oT(r){return r.op==="and"}function lT(r){return GC(r)&&oT(r)}function GC(r){for(const e of r.filters)if(e instanceof fi)return!1;return!0}function _m(r){if(r instanceof bt)return r.field.canonicalString()+r.op.toString()+Za(r.value);if(lT(r))return r.filters.map(e=>_m(e)).join(",");{const e=r.filters.map(n=>_m(n)).join(",");return`${r.op}(${e})`}}function uT(r,e){return r instanceof bt?function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&hi(s.value,o.value)}(r,e):r instanceof fi?function(s,o){return o instanceof fi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&uT(f,o.filters[m]),!0):!1}(r,e):void Ae()}function cT(r){return r instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${Za(n.value)}`}(r):r instanceof fi?function(n){return n.op.toString()+" {"+n.getFilters().map(cT).join(" ,")+"}"}(r):"Filter"}class KC extends bt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class QC extends bt{constructor(e,n){super(e,"in",n),this.keys=hT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YC extends bt{constructor(e,n){super(e,"not-in",n),this.keys=hT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class XC extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tp(n)&&zl(n.arrayValue,this.value)}}class WC extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zl(this.value.arrayValue,n)}}class ZC extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!zl(this.value.arrayValue,n)}}class JC extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>zl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function Xv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new $C(r,e,n,s,o,u,f)}function np(r){const e=Re(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>_m(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Za(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Za(s)).join(",")),e.le=n}return e.le}function ip(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!FC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!uT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Yv(r.startAt,e.startAt)&&Yv(r.endAt,e.endAt)}function vm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function eD(r,e,n,s,o,u,f,m){return new Ih(r,e,n,s,o,u,f,m)}function rp(r){return new Ih(r)}function Wv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function tD(r){return r.collectionGroup!==null}function Nl(r){const e=Re(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new wt(jt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new oh(u,s))}),n.has(jt.keyField().canonicalString())||e.he.push(new oh(jt.keyField(),s))}return e.he}function ui(r){const e=Re(r);return e.Pe||(e.Pe=nD(e,Nl(r))),e.Pe}function nD(r,e){if(r.limitType==="F")return Xv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new oh(o.field,u)});const n=r.endAt?new ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ah(r.startAt.position,r.startAt.inclusive):null;return Xv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Em(r,e,n){return new Ih(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ch(r,e){return ip(ui(r),ui(e))&&r.limitType===e.limitType}function fT(r){return`${np(ui(r))}|lt:${r.limitType}`}function ja(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>cT(o)).join(", ")}]`),Rh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Za(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Za(o)).join(",")),`Target(${s})`}(ui(r))}; limitType=${r.limitType})`}function Dh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Nl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=Qv(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Nl(s),o)||s.endAt&&!function(f,m,p){const y=Qv(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Nl(s),o))}(r,e)}function iD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function dT(r){return(e,n)=>{let s=!1;for(const o of Nl(r)){const u=rD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function rD(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Wa(p,y):Ae()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Fs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return ZA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new rt(ye.comparator);function er(){return sD}const mT=new rt(ye.comparator);function wl(...r){let e=mT;for(const n of r)e=e.insert(n.key,n);return e}function pT(r){let e=mT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ps(){return Ol()}function gT(){return Ol()}function Ol(){return new Gs(r=>r.toString(),(r,e)=>r.isEqual(e))}const aD=new rt(ye.comparator),oD=new wt(ye.comparator);function Me(...r){let e=oD;for(const n of r)e=e.add(n);return e}const lD=new wt(Ce);function uD(){return lD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function yT(r){return{integerValue:""+r}}function cD(r,e){return PC(e)?yT(e):sp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this._=void 0}}function hD(r,e,n){return r instanceof lh?function(o,u){const f={fields:{[eT]:{stringValue:$A},[nT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ep(u)&&(u=wh(u)),u&&(f.fields[tT]=u),{mapValue:f}}(n,e):r instanceof jl?vT(r,e):r instanceof Hl?ET(r,e):function(o,u){const f=_T(o,u),m=Zv(f)+Zv(o.Ie);return ym(f)&&ym(o.Ie)?yT(m):sp(o.serializer,m)}(r,e)}function fD(r,e,n){return r instanceof jl?vT(r,e):r instanceof Hl?ET(r,e):n}function _T(r,e){return r instanceof uh?function(s){return ym(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class lh extends Nh{}class jl extends Nh{constructor(e){super(),this.elements=e}}function vT(r,e){const n=AT(e);for(const s of r.elements)n.some(o=>hi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Hl extends Nh{constructor(e){super(),this.elements=e}}function ET(r,e){let n=AT(e);for(const s of r.elements)n=n.filter(o=>!hi(o,s));return{arrayValue:{values:n}}}class uh extends Nh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Zv(r){return dt(r.integerValue||r.doubleValue)}function AT(r){return tp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function dD(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof jl&&o instanceof jl||s instanceof Hl&&o instanceof Hl?Xa(s.elements,o.elements,hi):s instanceof uh&&o instanceof uh?hi(s.Ie,o.Ie):s instanceof lh&&o instanceof lh}(r.transform,e.transform)}class mD{constructor(e,n){this.version=e,this.transformResults=n}}class Xi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xi}static exists(e){return new Xi(void 0,e)}static updateTime(e){return new Xi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Oh{}function TT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new bT(r.key,Xi.none()):new tu(r.key,r.data,Xi.none());{const n=r.data,s=Dn.empty();let o=new wt(jt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ks(r.key,s,new Ln(o.toArray()),Xi.none())}}function pD(r,e,n){r instanceof tu?function(o,u,f){const m=o.value.clone(),p=$v(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Ks?function(o,u,f){if(!Qc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=$v(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(ST(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function xl(r,e,n,s){return r instanceof tu?function(u,f,m,p){if(!Qc(u.precondition,f))return m;const y=u.value.clone(),E=eE(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof Ks?function(u,f,m,p){if(!Qc(u.precondition,f))return m;const y=eE(u.fieldTransforms,p,f),E=f.data;return E.setAll(ST(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,s):function(u,f,m){return Qc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function gD(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=_T(s.transform,o||null);u!=null&&(n===null&&(n=Dn.empty()),n.set(s.field,u))}return n||null}function Jv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Xa(s,o,(u,f)=>dD(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class tu extends Oh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ks extends Oh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ST(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function $v(r,e,n){const s=new Map;qe(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,fD(f,m,n[o]))}return s}function eE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,hD(u,f,e))}return s}class bT extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yD extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&pD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=xl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=xl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=gT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=TT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&Xa(this.mutations,e.mutations,(n,s)=>Jv(n,s))&&Xa(this.baseMutations,e.baseMutations,(n,s)=>Jv(n,s))}}class ap{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){qe(e.mutations.length===s.length);let o=function(){return aD}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new ap(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Le;function AD(r){switch(r){case ie.OK:return Ae();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ae()}}function RT(r){if(r===void 0)return $i("GRPC error has no .code"),ie.UNKNOWN;switch(r){case _t.OK:return ie.OK;case _t.CANCELLED:return ie.CANCELLED;case _t.UNKNOWN:return ie.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ie.INTERNAL;case _t.UNAVAILABLE:return ie.UNAVAILABLE;case _t.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case _t.NOT_FOUND:return ie.NOT_FOUND;case _t.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case _t.ABORTED:return ie.ABORTED;case _t.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case _t.DATA_LOSS:return ie.DATA_LOSS;default:return Ae()}}(Le=_t||(_t={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new Ur([4294967295,4294967295],0);function tE(r){const e=YA().encode(r),n=new jA;return n.update(e),new Uint8Array(n.digest())}function nE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ur([n,s],0),new Ur([o,u],0)]}class op{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Il(`Invalid padding: ${n}`);if(s<0)throw new Il(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Il(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ur.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Ur.fromNumber(s)));return o.compare(TD)===1&&(o=new Ur([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=tE(e),[s,o]=nE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new op(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=tE(e),[s,o]=nE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new xh(be.min(),o,new rt(Ce),er(),Me())}}class nu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new nu(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class wT{constructor(e,n){this.targetId=e,this.ge=n}}class IT{constructor(e,n,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class iE{constructor(){this.pe=0,this.ye=rE(),this.we=Ht.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Me(),n=Me(),s=Me();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae()}}),new nu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=rE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class SD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=er(),this.$e=Mc(),this.Ue=Mc(),this.Ke=new rt(Ce)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(vm(u))if(s===0){const f=new ye(u.path);this.ze(n,f,Yt.newNoDocument(f,be.min()))}else qe(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Hr(s).toUint8Array()}catch(p){if(p instanceof JA)return Ya("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new op(f,o,u)}catch(p){return Ya(p instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&vm(m.target)){const p=new ye(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Yt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Me();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new xh(e,n,this.Ke,this.Qe,s);return this.Qe=er(),this.$e=Mc(),this.Ue=Mc(),this.Ke=new rt(Ce),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new iE,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new wt(Ce),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new wt(Ce),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new iE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Mc(){return new rt(ye.comparator)}function rE(){return new rt(ye.comparator)}const bD={asc:"ASCENDING",desc:"DESCENDING"},RD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wD={and:"AND",or:"OR"};class ID{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Am(r,e){return r.useProto3Json||Rh(e)?e:{value:e}}function ch(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function CD(r,e){return ch(r,e.toTimestamp())}function ci(r){return qe(!!r),be.fromTimestamp(function(n){const s=jr(n);return new Rt(s.seconds,s.nanos)}(r))}function lp(r,e){return Tm(r,e).canonicalString()}function Tm(r,e){const n=function(o){return new ut(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function DT(r){const e=ut.fromString(r);return qe(MT(e)),e}function Sm(r,e){return lp(r.databaseId,e.path)}function Jd(r,e){const n=DT(e);if(n.get(1)!==r.databaseId.projectId)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(OT(n))}function NT(r,e){return lp(r.databaseId,e)}function DD(r){const e=DT(r);return e.length===4?ut.emptyPath():OT(e)}function bm(r){return new ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function OT(r){return qe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function sE(r,e,n){return{name:Sm(r,e),fields:n.value.mapValue.fields}}function ND(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(qe(E===void 0||typeof E=="string"),Ht.fromBase64String(E||"")):(qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ht.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?ie.UNKNOWN:RT(y.code);return new ge(E,y.message||"")}(f);n=new IT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Jd(r,s.document.name),u=ci(s.document.updateTime),f=s.document.createTime?ci(s.document.createTime):be.min(),m=new Dn({mapValue:{fields:s.document.fields}}),p=Yt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Yc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Jd(r,s.document),u=s.readTime?ci(s.readTime):be.min(),f=Yt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Yc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Jd(r,s.document),u=s.removedTargetIds||[];n=new Yc([],u,o,null)}else{if(!("filter"in e))return Ae();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new ED(o,u),m=s.targetId;n=new wT(m,f)}}return n}function OD(r,e){let n;if(e instanceof tu)n={update:sE(r,e.key,e.value)};else if(e instanceof bT)n={delete:Sm(r,e.key)};else if(e instanceof Ks)n={update:sE(r,e.key,e.data),updateMask:zD(e.fieldMask)};else{if(!(e instanceof yD))return Ae();n={verify:Sm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof lh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof jl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Hl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof uh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Ae()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:CD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae()}(r,e.precondition)),n}function xD(r,e){return r&&r.length>0?(qe(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?ci(o.updateTime):ci(u);return f.isEqual(be.min())&&(f=ci(u)),new mD(f,o.transformResults||[])}(n,e))):[]}function VD(r,e){return{documents:[NT(r,e.path)]}}function MD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=NT(r,o);const u=function(y){if(y.length!==0)return VT(fi.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(I){return{field:Ha(I.field),direction:UD(I.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Am(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function kD(r){let e=DD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){qe(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const I=xT(S);return I instanceof fi&&lT(I)?I.getFilters():[I]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(I=>function(P){return new oh(qa(P.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(I))}(n.orderBy));let m=null;n.limit&&(m=function(S){let I;return I=typeof S=="object"?S.value:S,Rh(I)?null:I}(n.limit));let p=null;n.startAt&&(p=function(S){const I=!!S.before,M=S.values||[];return new ah(M,I)}(n.startAt));let y=null;return n.endAt&&(y=function(S){const I=!S.before,M=S.values||[];return new ah(M,I)}(n.endAt)),eD(e,o,f,u,m,"F",p,y)}function PD(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=qa(n.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=qa(n.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qa(n.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=qa(n.unaryFilter.field);return bt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(r):r.fieldFilter!==void 0?function(n){return bt.create(qa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return fi.create(n.compositeFilter.filters.map(s=>xT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(r):Ae()}function UD(r){return bD[r]}function LD(r){return RD[r]}function BD(r){return wD[r]}function Ha(r){return{fieldPath:r.canonicalString()}}function qa(r){return jt.fromServerFormat(r.fieldPath)}function VT(r){return r instanceof bt?function(n){if(n.op==="=="){if(Kv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NAN"}};if(Gv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NAN"}};if(Gv(n.value))return{unaryFilter:{field:Ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(n.field),op:LD(n.op),value:n.value}}}(r):r instanceof fi?function(n){const s=n.getFilters().map(o=>VT(o));return s.length===1?s[0]:{compositeFilter:{op:BD(n.op),filters:s}}}(r):Ae()}function zD(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n,s,o,u=be.min(),f=be.min(),m=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.Tt=e}}function HD(r){const e=kD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Em(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.Tn=new FD}addToCollectionParentIndex(e,n){return this.Tn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(zr.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(zr.min())}updateCollectionGroup(e,n,s){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class FD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new wt(ut.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new wt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kT=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(kT,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ja(0)}static Kn(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="LruGarbageCollector",GD=1048576;function lE([r,e],[n,s]){const o=Ce(r,n);return o===0?Ce(e,s):o}class KD{constructor(e){this.Hn=e,this.buffer=new wt(lE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();lE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){le(oE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lo(n)?le(oE,"Ignoring IndexedDB error during garbage collection: ",n):await oo(n)}await this.er(3e5)})}}class YD{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return $.resolve(bh.ae);const s=new KD(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(aE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),za()<=Ve.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function XD(r,e){return new YD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.changes=new Gs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&xl(s.mutation,o,Ln.empty(),Rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Me()){const o=Ps();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=wl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ps();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Me()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=er();const f=Ol(),m=function(){return Ol()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ks)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),xl(E.mutation,y,E.mutation.getFieldMask(),Rt.now())):f.set(y.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var S;return m.set(y,new ZD(E,(S=f.get(y))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Ol();let o=new rt((f,m)=>f-m),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Ln.empty();E=m.applyToLocalView(y,E),s.set(p,E);const S=(o.get(m.batchId)||Me()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,S=gT();E.forEach(I=>{if(!u.has(I)){const M=TT(n.get(I),s.get(I));M!==null&&S.set(I,M),u=u.add(I)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return $.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):$.resolve(Ps());let m=Ul,p=u;return f.next(y=>$.forEach(y,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?$.resolve():this.remoteDocumentCache.getEntry(e,E).next(I=>{p=p.insert(E,I)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Me())).next(E=>({batchId:m,changes:pT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=wl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=wl();return this.indexManager.getCollectionParents(e,u).next(m=>$.forEach(m,p=>{const y=function(S,I){return new Ih(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((S,I)=>{f=f.insert(S,I)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Yt.newInvalidDocument(E)))});let m=wl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&xl(E.mutation,y,Ln.empty(),Rt.now()),Dh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return $.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:HD(o.bundledQuery),readTime:ci(o.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.overlays=new rt(ye.comparator),this.Rr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ps();return $.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),$.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),$.resolve()}getOverlaysForCollection(e,n,s){const o=Ps(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return $.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new rt((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ps(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ps(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return $.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new vD(n,s));let u=this.Rr.get(n);u===void 0&&(u=Me(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(){this.Vr=new wt(Vt.mr),this.gr=new wt(Vt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Vt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Vt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ye(new ut([])),s=new Vt(n,e),o=new Vt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new ut([])),s=new Vt(n,e),o=new Vt(n,e+1);let u=Me();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Vt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||Ce(e.Cr,n.Cr)}static pr(e,n){return Ce(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new wt(Vt.mr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new _D(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Vt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return $.resolve(f)}lookupMutationBatch(e,n){return $.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?$m:this.Fr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Vt(n,0),o=new Vt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new wt(Ce);return n.forEach(o=>{const u=new Vt(o,0),f=new Vt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),$.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Vt(new ye(u),0);let m=new wt(Ce);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),$.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){qe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return $.forEach(n.mutations,o=>{const u=new Vt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Vt(n,0),o=this.Mr.firstAfterOrEqual(s);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.kr=e,this.docs=function(){return new rt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let s=er();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Yt.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=er();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||xC(OC(E),s)<=0||(o.has(E.key)||Dh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ae()}qr(e,n){return $.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new rN(this)}getSize(e){return $.resolve(this.size)}}class rN extends WD{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),$.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e){this.persistence=e,this.Qr=new Gs(n=>np(n),ip),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Ur=new up,this.targetCount=0,this.Kr=Ja.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),$.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Ja(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.zn(n),$.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),$.waitFor(u).next(()=>o)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return $.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),$.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),$.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),$.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return $.resolve(s)}containsKey(e,n){return $.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new bh(0),this.zr=!1,this.zr=!0,this.jr=new tN,this.referenceDelegate=e(this),this.Hr=new sN(this),this.indexManager=new qD,this.remoteDocumentCache=function(o){return new iN(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new jD(n),this.Yr=new $D(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new nN(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new aN(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return $.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class aN extends MC{constructor(e){super(),this.currentSequenceNumber=e}}class cp{constructor(e){this.persistence=e,this.ti=new up,this.ni=null}static ri(e){return new cp(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),$.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),$.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,be.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return $.or([()=>$.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class hh{constructor(e,n){this.persistence=e,this.oi=new Gs(s=>UC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=XD(this,n)}static ri(e,n){return new hh(e,n)}Zr(){}Xr(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return $.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?$.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,be.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),$.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gc(e.data.value)),n}ar(e,n,s){return $.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Me(),o=Me();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return zR()?8:kC(Xt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new oN;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(za()<=Ve.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),$.resolve()):(za()<=Ve.DEBUG&&le("QueryEngine","Query:",ja(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(za()<=Ve.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):$.resolve())}rs(e,n){if(Wv(n))return $.resolve(null);let s=ui(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Em(n,null,"F"),s=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Me(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(e,Em(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,s,o){return Wv(n)||o.isEqual(be.min())?$.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?$.resolve(null):(za()<=Ve.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ja(n)),this.hs(e,f,n,NC(o,Ul)).next(m=>m))})}cs(e,n){let s=new wt(dT(e));return n.forEach((o,u)=>{Dh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return za()<=Ve.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ja(n)),this.ns.getDocumentsMatchingQuery(e,n,zr.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="LocalStore",uN=3e8;class cN{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new rt(Ce),this.Is=new Gs(u=>np(u),ip),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function hN(r,e,n,s){return new cN(r,e,n,s)}async function UT(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Me();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function fN(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const S=y.batch,I=S.keys();let M=$.resolve();return I.forEach(P=>{M=M.next(()=>E.getEntry(p,P)).next(Q=>{const j=y.docVersions.get(P);qe(j!==null),Q.version.compareTo(j)<0&&(S.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Me();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function LT(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function dN(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,S)=>{const I=o.get(S);if(!I)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,S)));let M=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?M=M.withResumeToken(Ht.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(S,M),function(Q,j,Y){return Q.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=uN?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(I,M,E)&&m.push(n.Hr.updateTargetData(u,M))});let p=er(),y=Me();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(mN(u,f,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(be.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(S=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return $.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function mN(r,e,n){let s=Me(),o=Me();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=er();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le(fp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function pN(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=$m),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function gN(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,$.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Mr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Rm(r,e,n){const s=Re(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!lo(f))throw f;le(fp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function uE(r,e,n){const s=Re(r);let o=be.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const S=Re(p),I=S.Is.get(E);return I!==void 0?$.resolve(S.Ts.get(I)):S.Hr.getTargetData(y,E)}(s,f,ui(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:Me())).next(m=>(yN(s,iD(e),m),{documents:m,gs:u})))}function yN(r,e,n){let s=r.Es.get(e)||be.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class cE{constructor(){this.activeTargetIds=uD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _N{constructor(){this.ho=new cE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new cE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="ConnectivityMonitor";class fE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){le(hE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){le(hE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc=null;function wm(){return kc===null?kc=function(){return 268435456+Math.round(2147483648*Math.random())}():kc++,"0x"+kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="RestConnection",EN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===rh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=wm(),m=this.bo(e,n.toUriEncodedString());le($d,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(y=>(le($d,`Received RPC '${e}' ${f}: `,y),y),y=>{throw Ya($d,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ao}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=EN[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class SN extends AN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=wm();return new Promise((f,m)=>{const p=new HA;p.setWithCredentials(!0),p.listenOnce(qA.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Fc.NO_ERROR:const E=p.getResponseJson();le(Kt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Fc.TIMEOUT:le(Kt,`RPC '${e}' ${u} timed out`),m(new ge(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const S=p.getStatus();if(le(Kt,`RPC '${e}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const M=I==null?void 0:I.error;if(M&&M.status&&M.message){const P=function(j){const Y=j.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(Y)>=0?Y:ie.UNKNOWN}(M.status);m(new ge(P,M.message))}else m(new ge(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ge(ie.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{le(Kt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);le(Kt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(e,n,s){const o=wm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=KA(),m=GA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le(Kt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);let I=!1,M=!1;const P=new TN({Fo:j=>{M?le(Kt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(I||(le(Kt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),I=!0),le(Kt,`RPC '${e}' stream ${o} sending:`,j),S.send(j))},Mo:()=>S.close()}),Q=(j,Y,ne)=>{j.listen(Y,ee=>{try{ne(ee)}catch(ue){setTimeout(()=>{throw ue},0)}})};return Q(S,Rl.EventType.OPEN,()=>{M||(le(Kt,`RPC '${e}' stream ${o} transport opened.`),P.Qo())}),Q(S,Rl.EventType.CLOSE,()=>{M||(M=!0,le(Kt,`RPC '${e}' stream ${o} transport closed`),P.Uo())}),Q(S,Rl.EventType.ERROR,j=>{M||(M=!0,Ya(Kt,`RPC '${e}' stream ${o} transport errored:`,j),P.Uo(new ge(ie.UNAVAILABLE,"The operation could not be completed")))}),Q(S,Rl.EventType.MESSAGE,j=>{var Y;if(!M){const ne=j.data[0];qe(!!ne);const ee=ne,ue=(ee==null?void 0:ee.error)||((Y=ee[0])===null||Y===void 0?void 0:Y.error);if(ue){le(Kt,`RPC '${e}' stream ${o} received error:`,ue);const ce=ue.status;let Te=function(R){const N=_t[R];if(N!==void 0)return RT(N)}(ce),x=ue.message;Te===void 0&&(Te=ie.INTERNAL,x="Unknown error status: "+ce+" with message "+ue.message),M=!0,P.Uo(new ge(Te,x)),S.close()}else le(Kt,`RPC '${e}' stream ${o} received:`,ne),P.Ko(ne)}}),Q(m,FA.STAT_EVENT,j=>{j.stat===mm.PROXY?le(Kt,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===mm.NOPROXY&&le(Kt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(r){return new ID(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="PersistentStream";class zT{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new BT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ge(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return le(dE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(le(dE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bN extends zT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=ND(this.serializer,e),s=function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?ci(f.readTime):be.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=bm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=vm(p)?{documents:VD(u,p)}:{query:MD(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=CT(u,f.resumeToken);const y=Am(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=ch(u,f.snapshotVersion.toTimestamp());const y=Am(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=PD(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=bm(this.serializer),n.removeTarget=e,this.I_(n)}}class RN extends zT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=xD(e.writeResults,e.commitTime),s=ci(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=bm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>OD(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{}class IN extends wN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Tm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ie.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Tm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ge(ie.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class CN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?($i(n),this.N_=!1):le("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class DN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Qs(this)&&(le(Hs,"Restarting streams for network reachability change."),await async function(p){const y=Re(p);y.W_.add(4),await iu(y),y.j_.set("Unknown"),y.W_.delete(4),await Mh(y)}(this))})}),this.j_=new CN(s,o)}}async function Mh(r){if(Qs(r))for(const e of r.G_)await e(!0)}async function iu(r){for(const e of r.G_)await e(!1)}function jT(r,e){const n=Re(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),gp(n)?pp(n):uo(n).c_()&&mp(n,e))}function dp(r,e){const n=Re(r),s=uo(n);n.K_.delete(e),s.c_()&&HT(n,e),n.K_.size===0&&(s.c_()?s.P_():Qs(n)&&n.j_.set("Unknown"))}function mp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uo(r).y_(e)}function HT(r,e){r.H_.Ne(e),uo(r).w_(e)}function pp(r){r.H_=new SD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),uo(r).start(),r.j_.B_()}function gp(r){return Qs(r)&&!uo(r).u_()&&r.K_.size>0}function Qs(r){return Re(r).W_.size===0}function qT(r){r.H_=void 0}async function NN(r){r.j_.set("Online")}async function ON(r){r.K_.forEach((e,n)=>{mp(r,e)})}async function xN(r,e){qT(r),gp(r)?(r.j_.q_(e),pp(r)):r.j_.set("Unknown")}async function VN(r,e,n){if(r.j_.set("Online"),e instanceof IT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){le(Hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await fh(r,s)}else if(e instanceof Yc?r.H_.We(e):e instanceof wT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(be.min()))try{const s=await LT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(y);E&&u.K_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(Ht.EMPTY_BYTE_STRING,E.snapshotVersion)),HT(u,p);const S=new Mr(E.target,p,y,E.sequenceNumber);mp(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){le(Hs,"Failed to raise snapshot:",s),await fh(r,s)}}async function fh(r,e,n){if(!lo(e))throw e;r.W_.add(1),await iu(r),r.j_.set("Offline"),n||(n=()=>LT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{le(Hs,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Mh(r)})}function FT(r,e){return e().catch(n=>fh(r,n,e))}async function kh(r){const e=Re(r),n=Fr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:$m;for(;MN(e);)try{const o=await pN(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,kN(e,o)}catch(o){await fh(e,o)}GT(e)&&KT(e)}function MN(r){return Qs(r)&&r.U_.length<10}function kN(r,e){r.U_.push(e);const n=Fr(r);n.c_()&&n.S_&&n.b_(e.mutations)}function GT(r){return Qs(r)&&!Fr(r).u_()&&r.U_.length>0}function KT(r){Fr(r).start()}async function PN(r){Fr(r).C_()}async function UN(r){const e=Fr(r);for(const n of r.U_)e.b_(n.mutations)}async function LN(r,e,n){const s=r.U_.shift(),o=ap.from(s,e,n);await FT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await kh(r)}async function BN(r,e){e&&Fr(r).S_&&await async function(s,o){if(function(f){return AD(f)&&f!==ie.ABORTED}(o.code)){const u=s.U_.shift();Fr(s).h_(),await FT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await kh(s)}}(r,e),GT(r)&&KT(r)}async function mE(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),le(Hs,"RemoteStore received new credentials");const s=Qs(n);n.W_.add(3),await iu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Mh(n)}async function zN(r,e){const n=Re(r);e?(n.W_.delete(2),await Mh(n)):e||(n.W_.add(2),await iu(n),n.j_.set("Unknown"))}function uo(r){return r.J_||(r.J_=function(n,s,o){const u=Re(n);return u.M_(),new bN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:NN.bind(null,r),No:ON.bind(null,r),Lo:xN.bind(null,r),p_:VN.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),gp(r)?pp(r):r.j_.set("Unknown")):(await r.J_.stop(),qT(r))})),r.J_}function Fr(r){return r.Y_||(r.Y_=function(n,s,o){const u=Re(n);return u.M_(),new RN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:PN.bind(null,r),Lo:BN.bind(null,r),D_:UN.bind(null,r),v_:LN.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await kh(r)):(await r.Y_.stop(),r.U_.length>0&&(le(Hs,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new yp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _p(r,e){if($i("AsyncQueue",`${e}: ${r}`),lo(r))return new ge(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{static emptySet(e){return new Qa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=wl(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Qa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.Z_=new rt(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class $a{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new $a(e,n,Qa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class HN{constructor(){this.queries=gE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=gE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ge(ie.ABORTED,"Firestore shutting down"))}}function gE(){return new Gs(r=>fT(r),Ch)}async function qN(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new jN,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=_p(f,`Initialization of query '${ja(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&vp(n)}async function FN(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function GN(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&vp(n)}function KN(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function vp(r){r.ia.forEach(e=>{e.next()})}var Im,yE;(yE=Im||(Im={}))._a="default",yE.Cache="cache";class QN{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new $a(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=$a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Im.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this.key=e}}class YT{constructor(e){this.key=e}}class YN{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=dT(e),this.wa=new Qa(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new pE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const I=o.get(E),M=Dh(this.query,S)?S:null,P=!!I&&this.mutatedKeys.has(I.key),Q=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let j=!1;I&&M?I.data.isEqual(M.data)?P!==Q&&(s.track({type:3,doc:M}),j=!0):this.va(I,M)||(s.track({type:2,doc:M}),j=!0,(p&&this.ya(M,p)>0||y&&this.ya(M,y)<0)&&(m=!0)):!I&&M?(s.track({type:0,doc:M}),j=!0):I&&!M&&(s.track({type:1,doc:I}),j=!0,(p||y)&&(m=!0)),j&&(M?(f=f.add(M),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,S)=>function(M,P){const Q=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return Q(M)-Q(P)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new $a(this.query,e.wa,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new pE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new YT(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new QT(s))}),n}Oa(e){this.fa=e.gs,this.pa=Me();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return $a.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ep="SyncEngine";class XN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class WN{constructor(e){this.key=e,this.Ba=!1}}class ZN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Gs(m=>fT(m),Ch),this.qa=new Map,this.Qa=new Set,this.$a=new rt(ye.comparator),this.Ua=new Map,this.Ka=new up,this.Wa={},this.Ga=new Map,this.za=Ja.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function JN(r,e,n=!0){const s=e0(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await XT(s,e,n,!0),o}async function $N(r,e){const n=e0(r);await XT(n,e,!0,!1)}async function XT(r,e,n,s){const o=await gN(r.localStore,ui(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await eO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&jT(r.remoteStore,o),m}async function eO(r,e,n,s,o){r.Ha=(S,I,M)=>async function(Q,j,Y,ne){let ee=j.view.ba(Y);ee.ls&&(ee=await uE(Q.localStore,j.query,!1).then(({documents:x})=>j.view.ba(x,ee)));const ue=ne&&ne.targetChanges.get(j.targetId),ce=ne&&ne.targetMismatches.get(j.targetId)!=null,Te=j.view.applyChanges(ee,Q.isPrimaryClient,ue,ce);return vE(Q,j.targetId,Te.Ma),Te.snapshot}(r,S,I,M);const u=await uE(r.localStore,e,!0),f=new YN(e,u.gs),m=f.ba(u.documents),p=nu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);vE(r,n,y.Ma);const E=new XN(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),y.snapshot}async function tO(r,e,n){const s=Re(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Ch(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Rm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&dp(s.remoteStore,o.targetId),Cm(s,o.targetId)}).catch(oo)):(Cm(s,o.targetId),await Rm(s.localStore,o.targetId,!0))}async function nO(r,e){const n=Re(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),dp(n.remoteStore,s.targetId))}async function iO(r,e,n){const s=cO(r);try{const o=await function(f,m){const p=Re(f),y=Rt.now(),E=m.reduce((M,P)=>M.add(P.key),Me());let S,I;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let P=er(),Q=Me();return p.ds.getEntries(M,E).next(j=>{P=j,P.forEach((Y,ne)=>{ne.isValidDocument()||(Q=Q.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,P)).next(j=>{S=j;const Y=[];for(const ne of m){const ee=gD(ne,S.get(ne.key).overlayedDocument);ee!=null&&Y.push(new Ks(ne.key,ee,sT(ee.value.mapValue),Xi.exists(!0)))}return p.mutationQueue.addMutationBatch(M,y,Y,m)}).next(j=>{I=j;const Y=j.applyToLocalDocumentSet(S,Q);return p.documentOverlayCache.saveOverlays(M,j.batchId,Y)})}).then(()=>({batchId:I.batchId,changes:pT(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new rt(Ce)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await ru(s,o.changes),await kh(s.remoteStore)}catch(o){const u=_p(o,"Failed to persist write");n.reject(u)}}async function WT(r,e){const n=Re(r);try{const s=await dN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?qe(f.Ba):o.removedDocuments.size>0&&(qe(f.Ba),f.Ba=!1))}),await ru(n,s,e)}catch(s){await oo(s)}}function _E(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Re(f);p.onlineState=m;let y=!1;p.queries.forEach((E,S)=>{for(const I of S.ta)I.sa(m)&&(y=!0)}),y&&vp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function rO(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new rt(ye.comparator);f=f.insert(u,Yt.newNoDocument(u,be.min()));const m=Me().add(u),p=new xh(be.min(),new Map,new rt(Ce),f,m);await WT(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),Ap(s)}else await Rm(s.localStore,e,!1).then(()=>Cm(s,e,n)).catch(oo)}async function sO(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await fN(n.localStore,e);JT(n,s,null),ZT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ru(n,o)}catch(o){await oo(o)}}async function aO(r,e,n){const s=Re(r);try{const o=await function(f,m){const p=Re(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(S=>(qe(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);JT(s,e,n),ZT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ru(s,o)}catch(o){await oo(o)}}function ZT(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function JT(r,e,n){const s=Re(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Cm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||$T(r,s)})}function $T(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(dp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),Ap(r))}function vE(r,e,n){for(const s of n)s instanceof QT?(r.Ka.addReference(s.key,e),oO(r,s)):s instanceof YT?(le(Ep,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||$T(r,s.key)):Ae()}function oO(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(le(Ep,"New document in limbo: "+n),r.Qa.add(s),Ap(r))}function Ap(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ye(ut.fromString(e)),s=r.za.next();r.Ua.set(s,new WN(n)),r.$a=r.$a.insert(n,s),jT(r.remoteStore,new Mr(ui(rp(n.path)),s,"TargetPurposeLimboResolution",bh.ae))}}async function ru(r,e,n){const s=Re(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=hp.Yi(p.targetId,y);u.push(S)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>$.forEach(y,I=>$.forEach(I.Hi,M=>E.persistence.referenceDelegate.addReference(S,I.targetId,M)).next(()=>$.forEach(I.Ji,M=>E.persistence.referenceDelegate.removeReference(S,I.targetId,M)))))}catch(S){if(!lo(S))throw S;le(fp,"Failed to update sequence numbers: "+S)}for(const S of y){const I=S.targetId;if(!S.fromCache){const M=E.Ts.get(I),P=M.snapshotVersion,Q=M.withLastLimboFreeSnapshotVersion(P);E.Ts=E.Ts.insert(I,Q)}}}(s.localStore,u))}async function lO(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){le(Ep,"User change. New user:",e.toKey());const s=await UT(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ge(ie.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ru(n,s.Rs)}}function uO(r,e){const n=Re(r),s=n.Ua.get(e);if(s&&s.Ba)return Me().add(s.key);{let o=Me();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function e0(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=WT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rO.bind(null,e),e.La.p_=GN.bind(null,e.eventManager),e.La.Ja=KN.bind(null,e.eventManager),e}function cO(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aO.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return hN(this.persistence,new lN,e.initialUser,this.serializer)}Xa(e){return new PT(cp.ri,this.serializer)}Za(e){return new _N}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class hO extends dh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){qe(this.persistence.referenceDelegate instanceof hh);const s=this.persistence.referenceDelegate.garbageCollector;return new QD(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new PT(s=>hh.ri(s,n),this.serializer)}}class Dm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_E(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lO.bind(null,this.syncEngine),await zN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HN}()}createDatastore(e){const n=Vh(e.databaseInfo.databaseId),s=function(u){return new SN(u)}(e.databaseInfo);return function(u,f,m,p){return new IN(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new DN(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>_E(this.syncEngine,n,0),function(){return fE.D()?new fE:new vN}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const S=new ZN(o,u,f,m,p,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Re(o);le(Hs,"RemoteStore shutting down."),u.W_.add(5),await iu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Dm.provider={build:()=>new Dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="FirestoreClient";class dO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Qt.UNAUTHENTICATED,this.clientId=XA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{le(Gr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(le(Gr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=_p(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function tm(r,e){r.asyncQueue.verifyOperationInProgress(),le(Gr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await UT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function EE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await mO(r);le(Gr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>mE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>mE(e.remoteStore,o)),r._onlineComponents=e}async function mO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(Gr,"Using user provided OfflineComponentProvider");try{await tm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ya("Error using user provided cache. Falling back to memory cache: "+n),await tm(r,new dh)}}else le(Gr,"Using default OfflineComponentProvider"),await tm(r,new hO(void 0));return r._offlineComponents}async function t0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(Gr,"Using user provided OnlineComponentProvider"),await EE(r,r._uninitializedComponentsProvider._online)):(le(Gr,"Using default OnlineComponentProvider"),await EE(r,new Dm))),r._onlineComponents}function pO(r){return t0(r).then(e=>e.syncEngine)}async function gO(r){const e=await t0(r),n=e.eventManager;return n.onListen=JN.bind(null,e.syncEngine),n.onUnlisten=tO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$N.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nO.bind(null,e.syncEngine),n}function yO(r,e,n={}){const s=new Lr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new fO({next:I=>{E.su(),f.enqueueAndForget(()=>FN(u,S));const M=I.docs.has(m);!M&&I.fromCache?y.reject(new ge(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&I.fromCache&&p&&p.source==="server"?y.reject(new ge(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),S=new QN(rp(m.path),E,{includeMetadataChanges:!0,Ta:!0});return qN(u,S)}(await gO(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(r,e,n){if(!n)throw new ge(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function vO(r,e,n,s){if(e===!0&&s===!0)throw new ge(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function TE(r){if(!ye.isDocumentKey(r))throw new ge(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Tp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae()}function ql(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tp(r);throw new ge(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="firestore.googleapis.com",SE=!0;class bE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=i0,this.ssl=SE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:SE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GD)throw new ge(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sp{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new AC;switch(s.type){case"firstParty":return new RC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=AE.get(n);s&&(le("ComponentProvider","Removing Datastore"),AE.delete(n),s.terminate())}(this),Promise.resolve()}}function EO(r,e,n,s={}){var o;const u=(r=ql(r,Sp))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==i0&&u.host!==m&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Us(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Qt.MOCK_USER;else{y=tA(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ge(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Qt(S)}r._authCredentials=new TC(new QA(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bp(this.firestore,e,this._query)}}class Nn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class Fl extends bp{constructor(e,n,s){super(e,n,rp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new ye(e))}withConverter(e){return new Fl(this.firestore,e,this._path)}}function r0(r,e,...n){if(r=an(r),arguments.length===1&&(e=XA.newId()),_O("doc","path",e),r instanceof Sp){const s=ut.fromString(e,...n);return TE(s),new Nn(r,null,new ye(s))}{if(!(r instanceof Nn||r instanceof Fl))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ut.fromString(e,...n));return TE(s),new Nn(r.firestore,r instanceof Fl?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="AsyncQueue";class wE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new BT(this,"async_queue_retry"),this.Su=()=>{const s=em();s&&le(RE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Lr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!lo(e))throw e;le(RE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw $i("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=yp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Rp extends Sp{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new wE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wE(e),this._firestoreClient=void 0,await e}}}function AO(r,e){const n=typeof r=="object"?r:zm(),s=typeof r=="string"?r:rh,o=Eh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=JE("firestore");u&&EO(o,...u)}return o}function s0(r){if(r._terminated)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||TO(r),r._firestoreClient}function TO(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,y,E){return new zC(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,n0(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new dO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eo(Ht.fromBase64String(e))}catch(n){throw new ge(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new eo(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=/^__.*__$/;class bO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new tu(e,this.data,n,this.fieldTransforms)}}function o0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Dp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Dp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return mh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(o0(this.Lu)&&SO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class RO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Vh(e)}ju(e,n,s,o=!1){return new Dp({Lu:e,methodName:n,zu:s,path:jt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wO(r){const e=r._freezeSettings(),n=Vh(r._databaseId);return new RO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function IO(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);h0("Data must be an object, but it was:",f,s);const m=u0(s,f);let p,y;if(u.merge)p=new Ln(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const I=CO(e,S,n);if(!f.contains(I))throw new ge(ie.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);NO(E,I)||E.push(I)}p=new Ln(E),y=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=f.fieldTransforms;return new bO(new Dn(m),p,y)}function l0(r,e){if(c0(r=an(r)))return h0("Unsupported field value:",e,r),u0(r,e);if(r instanceof a0)return function(s,o){if(!o0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=l0(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=an(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return cD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:ch(o.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ch(o.serializer,u)}}if(s instanceof Ip)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof eo)return{bytesValue:CT(o.serializer,s._byteString)};if(s instanceof Nn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:lp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Cp)return function(f,m){return{mapValue:{fields:{[iT]:{stringValue:rT},[sh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return sp(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Tp(s)}`)}(r,e)}function u0(r,e){const n={};return ZA(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fs(r,(s,o)=>{const u=l0(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function c0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof Ip||r instanceof eo||r instanceof Nn||r instanceof a0||r instanceof Cp)}function h0(r,e,n){if(!c0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Tp(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function CO(r,e,n){if((e=an(e))instanceof wp)return e._internalPath;if(typeof e=="string")return f0(r,e);throw mh("Field path arguments must be of type string or ",r,!1,void 0,n)}const DO=new RegExp("[~\\*/\\[\\]]");function f0(r,e,n){if(e.search(DO)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new wp(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function mh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ge(ie.INVALID_ARGUMENT,m+r+p)}function NO(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(m0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OO extends d0{data(){return super.data()}}function m0(r,e){return typeof e=="string"?f0(r,e):e instanceof wp?e._internalPath:e._delegate._internalPath}class xO{convertValue(e,n="none"){switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Fs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[sh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>dt(f.doubleValue));return new Cp(u)}convertGeoPoint(e){return new Ip(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=wh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ll(e));default:return null}}convertTimestamp(e){const n=jr(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ut.fromString(e);qe(MT(s));const o=new Bl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||$i(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class p0 extends d0{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(m0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class kO extends p0{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(r){r=ql(r,Nn);const e=ql(r.firestore,Rp);return yO(s0(e),r._key).then(n=>zO(e,r,n))}class UO extends xO{constructor(e){super(),this.firestore=e}convertBytes(e){return new eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,n)}}function LO(r,e,n){r=ql(r,Nn);const s=ql(r.firestore,Rp),o=VO(r.converter,e);return BO(s,[IO(wO(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Xi.none())])}function BO(r,e){return function(s,o){const u=new Lr;return s.asyncQueue.enqueueAndForget(async()=>iO(await pO(s),o,u)),u.promise}(s0(r),e)}function zO(r,e,n){const s=n.docs.get(e._key),o=new UO(r);return new p0(r,o,e._key,s,new MO(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){ao=o})(qs),Ls(new Br("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Rp(new SC(s.getProvider("auth-internal")),new wC(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),oi(Vv,Mv,e),oi(Vv,Mv,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="firebasestorage.googleapis.com",jO="storageBucket",HO=2*60*1e3,qO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends pi{constructor(e,n,s=0){super(nm(e),`Firebase Storage: ${n} (${nm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var di;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(di||(di={}));function nm(r){return"storage/"+r}function FO(){const r="An unknown error occurred, please check the error payload for server response.";return new gi(di.UNKNOWN,r)}function GO(){return new gi(di.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KO(){return new gi(di.CANCELED,"User canceled the upload/download.")}function QO(r){return new gi(di.INVALID_URL,"Invalid URL '"+r+"'.")}function YO(r){return new gi(di.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function IE(r){return new gi(di.INVALID_ARGUMENT,r)}function y0(){return new gi(di.APP_DELETED,"The Firebase app was deleted.")}function XO(r){return new gi(di.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Bn.makeFromUrl(e,n)}catch{return new Bn(e,"")}if(s.path==="")return s;throw YO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function y(ue){ue.path_=decodeURIComponent(ue.path)}const E="v[A-Za-z0-9_]+",S=n.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",M=new RegExp(`^https?://${S}/${E}/b/${o}/o${I}`,"i"),P={bucket:1,path:3},Q=n===g0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",Y=new RegExp(`^https?://${Q}/${o}/${j}`,"i"),ee=[{regex:m,indices:p,postModify:u},{regex:M,indices:P,postModify:y},{regex:Y,indices:{bucket:1,path:2},postModify:y}];for(let ue=0;ue<ee.length;ue++){const ce=ee[ue],Te=ce.regex.exec(e);if(Te){const x=Te[ce.indices.bucket];let b=Te[ce.indices.path];b||(b=""),s=new Bn(x,b),ce.postModify(s);break}}if(s==null)throw QO(e);return s}}class WO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(r,e,n){let s=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let y=!1;function E(...j){y||(y=!0,e.apply(null,j))}function S(j){o=setTimeout(()=>{o=null,r(M,p())},j)}function I(){u&&clearTimeout(u)}function M(j,...Y){if(y){I();return}if(j){I(),E.call(null,j,...Y);return}if(p()||f){I(),E.call(null,j,...Y);return}s<64&&(s*=2);let ee;m===1?(m=2,ee=0):ee=(s+Math.random())*1e3,S(ee)}let P=!1;function Q(j){P||(P=!0,I(),!y&&(o!==null?(j||(m=2),clearTimeout(o),S(0)):j||(m=1)))}return S(0),u=setTimeout(()=>{f=!0,Q(!0)},n),Q}function JO(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(r){return r!==void 0}function CE(r,e,n,s){if(s<e)throw IE(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw IE(`Invalid value for '${r}'. Expected ${n} or less.`)}function ex(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ph;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ph||(ph={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n,s,o,u,f,m,p,y,E,S,I=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=S,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,P)=>{this.resolve_=M,this.reject_=P,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Pc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===ph.NO_ERROR,p=u.getStatus();if(!m||tx(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===ph.ABORT;s(!1,new Pc(!1,null,E));return}const y=this.successCodes_.indexOf(p)!==-1;s(!0,new Pc(y,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());$O(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=FO();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?y0():KO();f(p)}else{const p=GO();f(p)}};this.canceled_?n(!1,new Pc(!1,null,!0)):this.backoffId_=ZO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&JO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Pc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function ix(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function rx(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function sx(r,e){e&&(r["X-Firebase-GMPID"]=e)}function ax(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function ox(r,e,n,s,o,u,f=!0){const m=ex(r.urlParams),p=r.url+m,y=Object.assign({},r.headers);return sx(y,e),ix(y,n),rx(y,u),ax(y,s),new nx(p,r.method,y,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function ux(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this._service=e,n instanceof Bn?this._location=n:this._location=Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gh(e,n)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ux(this._location.path)}get storage(){return this._service}get parent(){const e=lx(this._location.path);if(e===null)return null;const n=new Bn(this._location.bucket,e);return new gh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw XO(e)}}function DE(r,e){const n=e==null?void 0:e[jO];return n==null?null:Bn.makeFromBucketSpec(n,r)}function cx(r,e,n,s={}){r.host=`${e}:${n}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:tA(o,r.app.options.projectId))}class hx{constructor(e,n,s,o,u){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=g0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=HO,this._maxUploadRetryTime=qO,this._requests=new Set,o!=null?this._bucket=Bn.makeFromBucketSpec(o,this._host):this._bucket=DE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=DE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new WO(y0());{const f=ox(e,this._appId,s,o,n,this._firebaseVersion,u);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const NE="@firebase/storage",OE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="storage";function fx(r=zm(),e){r=an(r);const s=Eh(r,_0).getImmediate({identifier:e}),o=JE("storage");return o&&dx(s,...o),s}function dx(r,e,n,s={}){cx(r,e,n,s)}function mx(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new hx(n,s,o,e,qs)}function px(){Ls(new Br(_0,mx,"PUBLIC").setMultipleInstances(!0)),oi(NE,OE,""),oi(NE,OE,"esm2017")}px();const gx={apiKey:"AIzaSyChw-HanYd541O8zQHHcYo7xAVbQsGyUA4",authDomain:"trendish-ed216.firebaseapp.com",projectId:"trendish-ed216",storageBucket:"trendish-ed216.firebasestorage.app",messagingSenderId:"1084990971687",appId:"1:1084990971687:web:8afddbecd9b21bc7c3d302",measurementId:"G-ZXR2PG9TQK"},Np=rA(gx),Gl=yC(Np),yx=new qi,v0=AO(Np);fx(Np);function _x(){const[r,e]=K.useState(""),[n,s]=K.useState(""),[o,u]=K.useState(""),[f,m]=K.useState(!1),p=Ql(),y=async()=>{if(m(!1),u(""),!r.trim()){e("Email is required."),m(!0);return}if(!n.trim()){s("Password is required."),m(!0);return}try{await n1(Gl,r,n),u("Sign in Successful! redirecting you to homepage..."),setTimeout(()=>{p("/homepage")},3e3)}catch(S){console.log(S),u("Sign in failed."+S+"Try again.")}},E=async()=>{try{await w1(Gl,yx)}catch(S){console.log(S)}};return G.jsx("section",{className:"w-full text-[15px]",children:G.jsxs("div",{className:"px-6 mt-6 flex justify-center items-center flex-col w-full gap-4",children:[G.jsx("img",{src:QE,className:"w-[150px]"}),G.jsxs("div",{className:"font-sora font-light",children:[G.jsx("span",{className:"text-LightBlue font-semibold",children:"Stay Trendish!"}),G.jsx("p",{children:"Where Every Moment Goes Viral!"}),G.jsx("p",{children:"Sign in to explore the latest trends."})]}),G.jsxs("div",{className:"font-light text-[14px]",children:[G.jsx("p",{children:"Email"}),G.jsx("input",{type:"text",value:r,onChange:S=>e(S.target.value),placeholder:"Example@email.com",className:"bg-whiteBlue w-[342px] h-[42px] rounded-[8px] text-[15px] px-[15px] mt-[8px] border border-[#D4D7E3] placeholder:text-[14px]"}),G.jsx("p",{className:"mt-[8px]",children:"Password"}),G.jsx("input",{type:"password",value:n,onChange:S=>s(S.target.value),placeholder:"At least 8 characters",className:"bg-whiteBlue w-[342px] h-[42px] rounded-[8px] text-[15px] px-[15px] mt-[8px] border border-[#D4D7E3] placeholder:text-[14px]"}),G.jsx("br",{}),G.jsx("div",{className:"flex justify-end items-end mt-5",children:G.jsx("p",{children:"Forgot Password?"})}),G.jsx("div",{className:"flex justify-center items-center mt-2",children:G.jsx("p",{children:G.jsx("div",{children:o})})}),G.jsx("div",{className:"flex justify-center items-center mt-5",children:G.jsx("button",{className:"bg-lightBlue w-[342px] h-[42px] rounded-[8px] text-[14px] text-white",onClick:y,style:f===!0?{color:"red"}:{color:"black"},children:"Sign in"})}),G.jsx("div",{className:"mt-5",children:G.jsxs("div",{className:"flex justify-center items-center flex-col gap-5",children:[G.jsx("p",{children:"Or Sign in with"}),G.jsxs("div",{className:"flex justify-center items-center gap-5",children:[G.jsx("button",{className:"bg-whiteBlue w-[163px] h-[42px] rounded-[8px] text-[14px] border border-[#D4D7E3]",onClick:E,children:G.jsxs("div",{className:"flex justify-center items-center gap-3",children:[G.jsx("img",{src:SR,className:"w-[20px]"}),G.jsx("p",{children:"Google"})]})}),G.jsx("button",{className:"bg-whiteBlue w-[163px] h-[42px] rounded-[8px] text-[14px] border border-[#D4D7E3]",children:G.jsxs("div",{className:"flex justify-center items-center gap-3",children:[G.jsx("img",{src:bR,className:"w-[20px]"}),G.jsx("p",{children:"Facebook"})]})})]})]})})]}),G.jsx("div",{className:"mt-5 text-[14px] font-light",children:G.jsx("div",{className:"flex justify-center items-center",children:G.jsxs("p",{children:["Don't you have an account?"," ",G.jsx(ro,{to:"/signup/",className:"text-blue-600 font-semibold",children:"Sign Up"})]})})})]})})}function vx(){const[r,e]=K.useState(""),[n,s]=K.useState(""),[o,u]=K.useState(""),[f,m]=K.useState(""),[p,y]=K.useState(""),[E,S]=K.useState(""),[I,M]=K.useState(""),[P,Q]=K.useState(!1),j=Ql(),Y=async()=>{if(Q(!1),M(""),!r.trim()){e("First name is required"),Q(!0);return}if(!n.trim()){s("Last name is required"),Q(!0);return}if(!o.trim()){u("Username is required"),Q(!0);return}if(!f.trim()){m("Date of Birth is required"),Q(!0);return}if(!p.trim()){y("Email is required"),Q(!0);return}if(!E.trim()){S("Password is required"),Q(!0);return}try{const ne=await t1(Gl,p,E);await LO(r0(v0,"users",ne.user.uid),{firstName:r.trim(),lastName:n.trim(),username:o,dob:f,createdAt:new Date().toISOString(),uid:ne.user.uid}),M("Sign up Successful! redirecting you to login page...."),Q(!1),setTimeout(()=>{j("/login/")},3e3)}catch(ne){console.log(ne),M("Error with signing up."+ne),Q(!0)}};return G.jsx("section",{className:"w-full text-[15px]",children:G.jsxs("div",{className:"px-6 mt-6 flex justify-center items-center flex-col w-full gap-4",children:[G.jsx("img",{src:QE,className:"w-[150px]"}),G.jsxs("div",{className:"font-sora font-light",children:[G.jsx("span",{className:"text-LightBlue font-semibold",children:"Welcome to Trendish!"}),G.jsx("p",{children:"Where Every Moment Goes Viral!"}),G.jsx("p",{children:"Sign Up to explore the latest trends."})]}),G.jsxs("div",{className:"font-light text-[14px] grid grid-cols-2 gap-5 w-full",children:[G.jsxs("div",{children:[G.jsx("p",{children:"First Name"}),G.jsx("input",{type:"text",value:r,onChange:ne=>e(ne.target.value),placeholder:"John",className:"bg-whiteBlue w-[140px] h-[42px] rounded-[8px] text-[15px] px-[15px] mt-[8px] border border-[#D4D7E3] placeholder:text-[14px]"})]}),G.jsxs("div",{children:[G.jsx("p",{children:"Last Name"}),G.jsx("input",{type:"text",value:n,onChange:ne=>s(ne.target.value),placeholder:"Doe",className:"bg-whiteBlue w-[140px] h-[42px] rounded-[8px] text-[15px] px-[15px] mt-[8px] border border-[#D4D7E3] placeholder:text-[14px]"})]}),G.jsxs("div",{children:[G.jsx("p",{children:"Username"}),G.jsx("input",{type:"text",value:o,onChange:ne=>u(ne.target.value),placeholder:"Unique name",className:"bg-whiteBlue w-[140px] h-[42px] rounded-[8px] text-[15px] px-[15px] mt-[8px] border border-[#D4D7E3] placeholder:text-[14px]"})]}),G.jsxs("div",{children:[G.jsx("p",{children:"Date of Birth"}),G.jsx("input",{type:"text",value:f,onChange:ne=>m(ne.target.value),placeholder:"DOB",className:"bg-whiteBlue w-[140px] h-[42px] rounded-[8px] text-[15px] px-[15px] mt-[8px] border border-[#D4D7E3] placeholder:text-[14px]"})]}),G.jsxs("div",{children:[G.jsx("p",{children:"Email"}),G.jsx("input",{type:"text",value:p,onChange:ne=>y(ne.target.value),placeholder:"exmaple@gmail.com",className:"bg-whiteBlue w-[140px] h-[42px] rounded-[8px] text-[15px] px-[15px] mt-[8px] border border-[#D4D7E3] placeholder:text-[14px]"})]}),G.jsxs("div",{children:[G.jsx("p",{children:"Password"}),G.jsx("input",{type:"password",value:E,onChange:ne=>S(ne.target.value),placeholder:"At least 8 characters",className:"bg-whiteBlue w-[140px] h-[42px] rounded-[8px] text-[15px] px-[15px] mt-[8px] border border-[#D4D7E3] placeholder:text-[14px]"})]}),G.jsx("br",{})]}),G.jsxs("div",{className:"flex justify-center items-center",children:[G.jsx("div",{style:P===!0?{color:"red"}:{color:"black"},children:I}),G.jsx("button",{className:"bg-lightBlue w-[342px] h-[42px] rounded-[8px] text-[14px] text-white",onClick:Y,children:"Sign up"})]}),G.jsx("div",{className:"mt-5 text-[14px] font-light",children:G.jsx("div",{className:"flex justify-center items-center",children:G.jsxs("p",{children:["You have an account?"," ",G.jsx(ro,{to:"/login/",className:"text-blue-600 font-semibold",children:"Sign In"})]})})})]})})}function xE({img:r,ariaLabel:e,alt:n,onclick:s}){return G.jsx("button",{className:"","aria-label":e,onClick:s,children:G.jsx("img",{src:r,alt:n})})}function Uc({img:r,title:e,linkTo:n,danger:s}){return G.jsxs(ro,{to:n,className:"flex items-center gap-3 mt-7","aria-label":"Go to your profile",children:[G.jsx("img",{src:r,alt:"",className:`p-2 ${s?"bg-lightRed":"bg-LightBlue"} rounded-sm`}),G.jsx("p",{className:"font-normal text-sm leading-4",children:e})]})}const Ex="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAYAAACo29JGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAa5SURBVHgB7VpdbBRVFP7uzM7sdre0hZa/AtIfAqjBAi9oDAovglGRGgM++GSCJmgAJTSSIIKJPwET4IEHExWNhsTECBFtiC8gkqgQoMVApQVaKtJSoGyl7f7NzvWcu1ug0p+ZwjR04pfsz8zevXu/e+4557tnr8B/IKUsSKVSSwVEhS3tEnqdnf2oBPcPmiAQpdcoja9GQtYaaeOgyBFNtzcSPW+YlGVZq6Ut19BlAUYiBLabpvnmrcssksnkCUjMxkiHQI1hGAuFEFGNr1PJ1DZfEGMQDzIUrz6IWCxWomt6I/yFqGEapZoOfQH8BxUUNVqj/liOd2K2Bg0V8CFs2y7hgDIyw/4g0IRWocH2JzmGSCaSEj6FBh8jgCGCzR3QSNlpmrpIp21a4fKW5Blqr9Sf1HV1JWzu2AKG2KtrckzAoOyo6RpOX+/C2c44QjSgWWPCmBgOsdqBe2Q8Q5omtLar0E6dhkgkYZeVwp5eDlhpCHpQlHDTqTtyaRpEKBBAXUc3Xjl6Hq1xC5EAxSQpESPLPVk0Cp/OK2cRTrPg1JWpnSBr0biNtW9D/HYECIeVBbXubqCwENbHH8KeVgYRT7oi6Cqg6LRcTlzvxKJDZzCnINwzNAV23hs0u/yoXVyBdIpm28k4aCKkYcB8egkQiWSIyWyvPR2croP11S7YD07PWPBek1ONaNYe2n8S5bT80uj7a12WjdJIELsfn444LS19IIY29RIKwVi9DqK5OUNO9tEv+/Xfl5D8aR8ErRBns+YiWhoBHXsvtiNIP9QfMcYoWqZHyRd3n29DyDT6b8kWI2KB73+AOHkSyO2HGMO21Uvg4C8A9ekUjskJslpttBsFxsBuysMoI8tV/dGMi10J6P34iKSAJC61QPtgKzBlyuA+WpAP1J0h33Tuc67yXNqhd6bJAjNzc/Dc4TO0ovqwNFuCApOx4nWgvIzzyOCdUoRGZyfcwBU5V41FJg++cayRlqepCCsQMRkKIrDxPWqgO/YftWQ1d5rDU4UymgZf3dKB/eSrITOgUoQMBqEfPAztwCEgL69/P7sH8JQc+9+MvBBePd6I9oQFQalERKPQ128ASktuBgqv4Lm2tChQTMsNYsnPdSri6itWUpFwqjM/u0sMi3DWaeV1TpiEd9a8Cy1NsiqrHb3GMJAjPxuVh3HHfsWX1ftwxIyQFhAYjn2W9+RIN7ISsbe9j5klpVh2OYoYE7677YMjeEuOA8bEycCmKhLARVzXwFRK3pWtUWiU5yx4C+/IcYifUAzs2glcbSP9ZqrbJlnsLxK/26/9Q3lch5fx0jtyOaTuT5Fm3PcdMKboZj7j58lkva03Yvgznspsdj2CNz0TEcGW+mgjMOmBO/IZJ4GHDR3Pt0Vhicy1F/CGXNE4aJ/vzFhP9r3wWCfnU9TcdO2G2id6AU/IiUQc9omjmf3ZAMgn7VkdS8DySIK5IsezPWgEZyHcfhUggoPpRv60i546nKgVwQUjd+HHOTkaRFB3lnzTAQMpB4mM/kODZlkIOLGcEt0m3MAxOc5RjxWOQhuVDgbskMYZKS7G2Inj1eAHQ3HhaORHwgNvZ9RqaIecO8eV2HZMzqLaxaLi0VTt6t/5qYqJZvKh5fk61latQn39WbVZ7fOH6X59/TmsXf8WsPgpoKW1/70dWzYnB+kF8yFSzlO/8zIDeNLSqJ4/A6c6YkjavQuw3NHFWBKz8sN4eVI+Hl34BF5aXomGht4E1VKk64aGc1i2bCmemTcX8RcrIXlH3nq5twWZbIrqoNSH9dknNMOW880tXJb2VJWZLBdNWlh1vAm/t3dmasw0sxHKW6+VjsXKGcVIUGFWkgoJUZVsz54fsWXLDly5ck2R4hrn2KIxqFq3CpUvPItYd5w25Jryp8AXX0P75luA65VMggV2xSOwNm8g8Z2bsZpX5HoIsqoPUKEoSgqjjZahSYObnEuVLLofp5nWszZNk6WDZlAVl1outaI7Fkc4J4QJ5I/cUSJJpb8eS1HElPQZv2pUOAJP0PhxkFQVE2w9Fardqe0h/8ujSBIJLm7xe1VCGKA9W01kv2cPFhSYsPIDmRUBw/RfQQ8yA5WOK2K2mxzVq+3Q90a+/gvrf3IjFRSD0QR/osnPlotSyhI18CMEkaP8dAH+RC37nD8tB9QIdTI2mWqEz04SGbZRyj4XJaWxA36CxA4+Eqy0TfZc8wG/nJQ1TXMOv1WpgK2nbhBjjFxEpS038xHgnht3qFJ1cpYPmPI5zMxxxQIizf5YgvsHTfxE7kRBQ1zgoGiEjL1spNsb/QvtiJTELOO6gQAAAABJRU5ErkJggg==",Ax="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAD7SURBVHgBtZXhEYMgDIXftQs4QkZwBEZyg7oBbGA30w3sz/5ruV44I6gQrN9dTj1feAEJAhdzL9SRj4bv3/gTxof1Mfv4iBh9DGxajY0G3YsHKhiiajsfLVds+HkUmgEKHiLRZbS90FoUQCKhRxlO5FBOHJZmhI6wXK5U2EFHx3nzkajBMlUDHa3IbeKXN2EQmKDjJe53DQ5FGWjHLDEILw10tHydtgwkYcvV7qJsw8mPVdQ4WDcmlSTIxsmdM7aioB9PpGeR4QpbpGdR0BEU9Cg7TZ0wU5sQz2arWodlMDpjEmiw/qttFXPaJAdFJtqGVZlcZgAe+LLBE74r23QbEYMNIQAAAABJRU5ErkJggg==",Tx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABOSURBVHgB7dLRCQAQAATQYwKjGMH+09gACYXig0ju1X34kdMBdJtoziplhU3p6BC3KSZfKlG/fpfS4OgXvYkrwqBFxBVNcUUYtIi4og94oANGJ7v/W+IAAAAASUVORK5CYII=",Sx="/trendish/assets/profilePhoto-t8Z2qs9x.png",bx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFNSURBVHgBtVMxTsNQDLXTAqqo0owJMOQIZesIG1tZmVBPEFa2cgLaGyQnoNyg3KA34CO1acZfwgCpEuMkapqERBShWnL0HdvPft/+AP8UrHNoumkCrq3EoIOx9ITYCUAzTS0KAgsJhvn/BDhSKoAaeUM1ziyIwgknX1VU6gGG162Ouvr0/RmUO1CN00cEuitmoUzLk1boBtF+dxeDAkDHOKFSUYFHh+dJwtf6ib8Xeedq6Sa5CtQIIjhSCBkrIr3UxTXrHETQ50nY6Tm4/TMAS5cweIVfpJoCXx6SchnzjBUJB9mF7gLAY3SkN59ubOktbAScVsU2t0XRIaKEKwFZPJV+PpAoMrNYwPHmnC0SL8ek1Vbf2NtlU6vQlBrQvVy6wx8ACciHP2u1j58RlXjGvRKtB96LGznfUku7qRFN1/kxNdLNpHAkPU/APuQb+S1/FM+/q2MAAAAASUVORK5CYII=",Rx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGHSURBVHgBrVIxUsJAFP1/DSAjCaGDBMd4g9xAjqClldjZoSdATyCewBzBG4idJXZ2pJCRzoxQZBR3/ckmy4LBRt8kmex/Lz/vv12AP2JLX1itdq9imWdV08R4NnvWObvd7pRrZr9qWQ3iRnkdlcB1u4KLW0VUyo0oDKOUa3qewI+x4hieRpNJkLwz9QshvBVv8cLXfNornKZdNuA8oGcobeEwmr4MFVeiOmJuO8y0xUjs/sbZdOk15SAhkqAAFmmDJNC6477VW87Ycpy+VH/5sNBGgyxECtAXAu5pNhsRroCXAz20VCj4PjB2SbqTZAwK8oiCHLEslPPkY6nEEAzpYhWGB1lGBI8L0VuOgDhQJOc2GMZIEycIZai4l+kjhnijRpABNT1gJR/4ZxRNp0O5Zl3gadeAaiHVOrSnHmyX7vIzgrABtrN7CIIfyPDgKT846yhsYLXcawTKRYMAHLy/Ti7WtWxDV/9nTXSKtFtFxWpt5wERPQqrSXdMJ/ORtvE4ns8j+G98A6LpjKoBaCNYAAAAAElFTkSuQmCC",wx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKsSURBVHgB7Ve9ctpAEN4VNj+DAWXSgCAzegTcuQt+A7pMKpMyFaZLZ1ylxU9gu0xn3oB07kKbyldAoDwbCjwatNmDCIIt3WFRZDLjb0YD0u7tfrrbb+8E8Ip/jMS2jnalUktnc810IV+aTSb9UJ9S+TSdy39IH7z9OZtKuU1cNDnYRdcFyzsjokbwjAA7D6Nha8PPKV9u+CBeWf7+uRwLAXEJ2I5T52SXQGQ/tfmEjcl4eK3+50uVJoLfCQkh0cJjORz2YxEoOOUfnLwa7YG95S/VdD73o+FxlHUP9HD1Zl3ilY+rs1o6IwJ1YUcQQg/iEgDfuoIdYSFeaO06IyT2tpKSFvO5jE3A972TSCOi5Aq+wWUhisgYmGiCBhsqWGgevSYBVNlSDZPfchBPa2q/LYWQ67FOm9f7LCKP4FGC7eJpb9ggUCg5d2CofCTgAL/aYTbuhB0C0r6xIoOp5GFAfrUEtvOuDkbZgYhKvgDPiloa0MMFz6sHN+saQN82DFRTL3R29Va4ak7bwYIXge6NHhF1YyZAllFyXJzvbdc1JNB3vqULyecEkokeaOT0B7b/6EVVOuQdR9lc0ENAMtkLblbngZmUs8xBtsu71xtex4Dhs7dl2Ryl8jl4nEy+r1jxrCQz2a9s+xKactEz8JavLpL/WQ4G47/iRcMgKwGLouTpRKxF9gyCa1ZOIyKGgUCx6BJad7ADeEYPdecBw16QflFFh2KO2hh6AuSZupoRvkUnEJcAy64OOwKJ6rEJgEGWqutt0fkExCWAPraiejufllqSz3rqQsJP4QFYfgjnoIH2u2A2fRCZbPab6g2gtuhVcryQo/WmNJtO+plcXvkcBc946+Vjuf9Rjka3uhzG74IASpKAiVNQO+Jo2An3KTeW5wi8keNBD17xP+A3v7D06uGa3NYAAAAASUVORK5CYII=",Ix="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC0SURBVHgBrZOBDcIgEEUP4wCO0BF0grqJOIm6gZ2gbNARgBHcoCO4AX6SM1KkuYb2Jy9Hr/zfawJEK6XShxCCRmkFj1dKmb8uzDYsl83NWjBo5p720gAjBPS8r8l7O5I1gg6GS+mlFNCBE4hmA/p8w75gcsCDJzgCyzXqBc7SBPGrbzAwX/PIoeIEQ7J+cL3RjEoTXHmCRSoFuJoAl/Q0aHjd0u9oH2j6K36SVHuUt7tMtfoA0h7m/SAzGO8AAAAASUVORK5CYII=";function Cx(){const[r,e]=K.useState(!1);function n(){console.log("Dummy for now to hide typescript error")}return G.jsxs("header",{className:"flex relative bg-LightBlue items-center justify-between px-6 py-8",children:[G.jsx("button",{className:"h-8 w-8","aria-label":"Go to homepage",children:G.jsx("img",{src:Ex,alt:"Trendish Logo"})}),G.jsxs("div",{className:"flex items-center gap-6",children:[G.jsx(xE,{onclick:n,img:Ax,ariaLabel:"Search people",alt:"Search Icon"}),G.jsx(xE,{onclick:()=>e(!0),img:Tx,ariaLabel:"Click to Open Menu",alt:""})]}),r&&G.jsxs(G.Fragment,{children:[G.jsx("div",{className:"fixed inset-0 bg-black/50"}),G.jsxs("div",{className:"fixed text-black inset-y-0 font-sora right-0 w-[52.8%] px-6 bg-white",children:[G.jsx("img",{className:"mt-10 mx-auto",src:Sx,alt:"Steve Rogers"}),G.jsx("h2",{className:"mt-3.5  leading-6 text-center font-semibold text-xl",children:"Steve Rogers"}),G.jsx("h2",{className:"mt-7  font-normal text-LightRed leading-5  text-base ",children:"Explore panel"}),G.jsx(Uc,{danger:!1,img:bx,linkTo:"/profile",title:"Profile"}),G.jsx(Uc,{danger:!1,img:Rx,linkTo:"*",title:"Find friends"}),G.jsx("h2",{className:"mt-9 text-LightRed font-normal leading-5",children:"Settings"}),G.jsx(Uc,{danger:!1,img:wx,linkTo:"*",title:"Settings"}),G.jsx(Uc,{danger:!0,img:Ix,linkTo:"*",title:"Settings"})]})]})]})}function Dx(){const[r,e]=K.useState(null),[n,s]=K.useState(!1),o=Ql();K.useEffect(()=>{const f=s1(Gl,async m=>{var p;if(m){const y=await PO(r0(v0,"users",m.uid));e((p=y.data())==null?void 0:p.firstName)}});return()=>f()},[]);const u=async()=>{try{await a1(Gl),s(!0),setTimeout(()=>{o("/login")},2e3)}catch(f){console.log(f)}};return G.jsxs(G.Fragment,{children:[G.jsx(Cx,{}),G.jsxs("div",{children:[G.jsx("p",{children:r||"no user"}),G.jsx("button",{onClick:u,children:"log out"}),G.jsx("p",{children:n==!0&&"Successfully logged out! redirecting you to login page..."})]})]})}function Nx(){return G.jsxs("section",{className:"",children:["Page not found",G.jsx(ro,{to:"/",className:"block ",children:G.jsx("button",{className:"bg-amber-400 rounded-3xl p-4",children:"Click to Go to homepage"})})]})}const Ox="/trendish/assets/UserProfile-DfA-8cqc.png";function xx({userData:r}){const[e,n]=K.useState(!1),s=r||{name:"Tony Stark",username:"@tony_stark_3000",bio:"Cognitive Person | Enthusiastic scientist | Worked on 300...",profileImage:Ox,stats:{posts:12,followers:207,following:64}};return G.jsxs("section",{className:"w-[846px] flex flex-col bg-white shadow-[0px_2px_50px_0px_#A9DEF93D] rounded-[10px] pt-[37px]  px-[20px]",children:[G.jsxs("section",{className:"flex items-center gap-[18px] pb-[29px] border-b border-black w-full",children:[G.jsx("img",{src:s.profileImage,alt:"User profile",className:"w-[78px] h-[83.02px]"}),G.jsxs("div",{className:"flex flex-col gap-[16px]",children:[G.jsxs("p",{className:"text-[16px] tracking-0 leading-[100%] font-semibold text-Black",children:[s.name,G.jsx("span",{className:"opacity-50 text-[15.6px] font-normal pl-4",children:s.username})]}),G.jsx("p",{className:" tracking-0 leading-[100%] text-[15.6px] font-normal text-Black",children:s.bio})]})]}),G.jsxs("section",{className:"flex justify-between py-[23px]",children:[G.jsxs("div",{className:"flex gap-[41px]",children:[G.jsx("button",{className:"w-[163px] h-[40px] rounded-[8px] cursor-pointer bg-SkyBlue shadow-[0px_4px_4px_0px_rgba(0,0,0,0.25)] text-black text-[15px] leading-[100%] tracking-0 font-bold ",onClick:()=>n(!e),children:e?"Friend Added":"Add Friend"}),G.jsx("button",{className:"w-[163px] h-[40px] rounded-[8px] cursor-pointer bg-LightGray shadow-[0px_4px_4px_0px_rgba(0,0,0,0.25)] text-black text-[15px] leading-[100%] tracking-0 font-bold",children:"Message"})]}),G.jsx("div",{className:"flex gap-[24px]",children:[{label:"Posts",count:s.stats.posts},{label:"Followers",count:s.stats.followers},{label:"Following",count:s.stats.following}].map((o,u)=>G.jsxs("div",{className:"flex flex-col justify-between items-center   leading-[100%] h-[52px]",children:[G.jsx("p",{className:"font-bold text-[24px] text-CharcoalBlue tracking-0 ",children:o.count}),G.jsx("p",{className:"text-SteelBlueGray font-normal text-[12px] tracking-[-0.4%]",children:o.label})]},u))})]})]})}function Vx(){return G.jsx("main",{className:"bg-IceBlue font-sora h-screen flex flex-col items-center p-[40px]",children:G.jsx(xx,{})})}function Mx(){return G.jsxs(Fb,{children:[G.jsx(Vs,{path:"/",element:G.jsx(Hb,{to:"/homepage",replace:!0})}),G.jsx(Vs,{path:"/homepage",element:G.jsx(Dx,{})}),G.jsx(Vs,{path:"/login",element:G.jsx(_x,{})}),G.jsx(Vs,{path:"/signup",element:G.jsx(vx,{})}),G.jsx(Vs,{path:"/profile",element:G.jsx(Vx,{})}),G.jsx(Vs,{path:"*",element:G.jsx(Nx,{})})]})}$S.createRoot(document.getElementById("root")).render(G.jsx(K.StrictMode,{children:G.jsx(dR,{basename:"/trendish",children:G.jsx(Mx,{})})}));
